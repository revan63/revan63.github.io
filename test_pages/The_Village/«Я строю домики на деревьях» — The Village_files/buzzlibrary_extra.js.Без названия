(function(){var t=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty,r=[].slice,n=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){return function(){return t.apply(e,arguments)}};!function(e,i,r){return r.Modules.Expandable=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.triggersEvents=["expandable:shown"],i.prototype.callsStrategies=["resize:calcWidth","resize:calcHeight","wrap:height"],i.prototype.handlesEvents={drawn:function(){if(this.first)return this.core.container.className+=" buzz-collapsed",this.core.wrap_html.style.overflow="hidden",this.core.wrap_html.style.height="1px",this.core.wrap_html.style.visibility="hidden"},"engagement:seen":function(){if(!this.shown)return this.first?(this.core.wrap_html.style.visibility="",2===this.core.params.minimize?this.resizeCallback():r.utils.transitionHeight(this.core.wrap_html,this.callStrategy("resize:calcHeight")+20,function(t){return function(){return t.resizeCallback()}}(this))):this.trigger("expandable:shown"),this.shown=!0}},i.prototype.resizeCallback=function(){return this.core.wrap_html.style.visibility="",this.core.wrap_html.style.height="inherit",this.core.wrap_html.style.overflow="",r.utils.remove_class("buzz-collapsed",this.core.container),this.trigger("expandable:shown")},i.prototype.init=function(){return this.first=!this.core.readyFirstTime,this.core.state.format="expandable"},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){var n;return n=r.Modules.Mixins.Destruction,r.Modules.Overroll=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.triggersEvents=["overroll:shown","overroll:destroy_inactive"],n.prototype.addsStrategies=[["destroy",3,"destroy"],["overroll:showAndPlay",0,"show"],["overroll:getWaitAndDestroyIfInactiveTime",0,function(){return this.defaultWaitAndDestroyIfInactiveTime}],["overroll:stopDestructionTimer",0,"stopDestructionTimer"]],n.prototype.callsStrategies=["resize:calcWidth","resize:calcHeight","resize:call","wrap:height","overroll:getWaitAndDestroyIfInactiveTime"],n.prototype.handlesEvents={"resize:after":function(t,e){if(null!=this.foreground)return this.foreground.style.width=t+"px",this.foreground.style.height=e+"px"},got_wrap:function(t){return t.style.position="absolute",t.style.zIndex="999",t.style.left=t.style.right=t.style.top=t.style.height="0",t.style.overflow="hidden",t.width=r.utils.getPropertyValue(this.core.container,"width")},got_container:function(){return this.draw()}},n.prototype.defaultWaitAndDestroyIfInactiveTime=60,n.prototype.moduleName="overroll",n.prototype.init=function(){return this.core.state.format="overroll"},n.prototype.draw=function(){var t,e;return this.core.container.style.margin="0",r.utils.add_class("buzz-invisible",this.core.container),(null!=(t=this.core.options)?t.vpaidJSProxy:void 0)?(this.core.container.style.position="absolute",this.core.container.style.top="0"):this.core.container.style.position="relative","show"===this.core.params.overrollBehavior?this.show():this.foreground||(this.foreground=this.renderForeground(),null!=(e=this.core.options)?e.vpaidJSProxy:void 0)?void 0:r.utils.add_event_listener("click",function(t){return function(e){return t.show()}}(this),this.foreground)},n.prototype.show=function(){return this.core.wrap_html?(this.removeForeground(),this.shown?void 0:(this.shown=!0,this.core.wrap_html.style.display="inline-block",this.core.wrap_html.style.height="inherit",r.utils.remove_class("buzz-invisible",this.core.container),this.callStrategy("resize:call"),this.waitAndDestroyIfInactive(),this.trigger("overroll:shown"))):setTimeout(function(t){return function(){return t.show()}}(this),100)},n.prototype.renderForeground=function(){var t,e;if(this.removeForeground(),null==(e=this.core.options)||!e.vpaidJSProxy)return t=i.createElement("div"),t.className="buzz__foreground",t.style.background="transparent",t.style.width=this.callStrategy("resize:calcWidth")+"px",t.style.height=this.callStrategy("resize:calcHeight")+"px",t.style.position="absolute",t.style.top="0",t.style.zIndex="1009",t.style.cursor="pointer",this.core.container.appendChild(t),t},n.prototype.removeForeground=function(){if(this.foreground&&null!=this.foreground.parentElement)return this.core.container.removeChild(this.foreground)},n}(r.Modules.BaseModule),n(r.Modules.Overroll.prototype)}(window,document,Buzzoola),function(e,i,r){return r.Modules.PositionDynamically=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.triggersEvents=["error"],r.prototype.addsStrategies=[["get_container",1,"getContainer"]],r.prototype.getContainer=function(){var t,e,r,n,s,o,a,l,u,c,d,h,p,g,m,y,f;for(g=this.core.params.target.split(":"),r=null,e=n=0,o=g.length;n<o;e=++n)if(p=g[e],/^at\(\d+\)/.test(p)){r=parseInt(p.match(/\d+/g)[0],10),g.splice(e,1);break}if(m=i.querySelector(g[0]),!m)return this.trigger("error","data-target is not valid");if(1===g.length||0===(f=m.querySelectorAll(g[1])).length)return m.appendChild(i.createElement("div"));for(l=+g[2]||0,u=[],d=[],s=0,a=f.length;s<a;s++)c=f[s],h=(c.innerText||c.textContent).length,h>=l&&u.push(c);return d=u.length>0?u:f.length>0?f:[m],d.length&&null!==r&&r>=0?y=d[Math.min(r-1,d.length-1)]:d.length&&d.length<4?y=d[d.length-1]:d.length&&d.length<9?y=d[2]:d.length&&d.length>=9&&(y=d[4]),t=i.createElement("div"),t.className+=" buzz-container",y&&(m=y.parentNode)?(m.insertBefore(t,y.nextElementSibling),t):(this.trigger("error","data-target is not valid"),null)},r}(r.Modules.BaseModule),r.Modules.PositionInsideEmbedBlock=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.addsStrategies=[["get_container",0,"getContainer"]],i.prototype.getContainer=function(){return this.core.embed_container.className+=" buzz-container",this.core.embed_container},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.ViewportOrientation=function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,i),n.prototype.triggersEvents=["orientation:change"],n.prototype.addsStrategies=[["viewport:getOrientation",0,"getOrientation"],["viewport:lockOrientation",0,"lockOrientation"],["viewport:unlockOrientation",0,"initChecking"]],n.prototype.handlesEvents={terminated:function(){return this.stopChecking()}},n.prototype.defaultOrientation="landscape",n.prototype.init=function(){return this.wrapped=!1,this.setOrientation(),this.eventIsSupported=null!=this.orientation||(this.orientation={},!1),this.initChecking()},n.prototype.initChecking=function(){return this.lockedOrientation=null,this.eventIsSupported?(null!=this.checkOrientation&&r.utils.remove_event_listener("orientationchange",this.checkOrientation,e),this.checkOrientation=function(t){return function(){return t.setOrientation(),t.trigger("orientation:change",t.getOrientation())}}(this),r.utils.add_event_listener("orientationchange",this.checkOrientation,e)):(this.continueChecking=!0,this.checkOrientation=function(t){return function(){var i;if("destroyed"!==t.core.state.state&&t.continueChecking)return i=e.innerWidth>e.innerHeight?"landscape":"portrait",i!==t.orientation.type&&(t.orientation.type=i,t.trigger("orientation:change",t.orientation.type)),setTimeout(t.checkOrientation,100)}}(this)),this.checkOrientation()},n.prototype.stopChecking=function(){return this.eventIsSupported?r.utils.remove_event_listener("orientationchange",this.checkOrientation,e):this.continueChecking=!1},n.prototype.setOrientation=function(){var t,i,r;return this.orientation=e.orientation||(null!=(t=e.screen)?t.orientation:void 0)||(null!=(i=e.screen)?i.mozOrientation:void 0)||(null!=(r=e.screen)?r.msOrientation:void 0)},n.prototype.getOrientation=function(){var t,e,i,r,n,s;if(null!=this.lockedOrientation)return this.lockedOrientation;if(null!=(r=this.orientation)?r.type:void 0){for(i=this.orientation.type,n=["landscape","portrait"],t=0,e=n.length;t<e;t++)if(s=n[t],i.indexOf(s)!==-1)return s}else switch(this.orientation){case 90:case-90:return"landscape";default:return"portrait"}return this.defaultOrientation},n.prototype.lockOrientation=function(t){return this.lockedOrientation=t||this.getOrientation(),this.stopChecking(),this.trigger("orientation:change",this.lockedOrientation)},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){var n,s;return n=r.Modules.Mixins.Destruction,s=r.Modules.Mixins.ScrollLock,r.Modules.FullscreenAd=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.triggersEvents=["fullscreen:shown"],n.prototype.addsStrategies=[["destroy",5,"destroy"],["get_wrap",40,"getWrap"],["fullscreen:getWaitAndDestroyIfInactiveTime",0,function(){return this.defaultWaitAndDestroyIfInactiveTime}],["fullscreen:stopDestructionTimer",0,"stopDestructionTimer"]],n.prototype.callsStrategies=["get_wrap","fullscreen:getWaitAndDestroyIfInactiveTime","fullscreen:stopDestructionTimer","resize:call"],n.prototype.handlesEvents={drawn:function(){if(this.lockScroll(),"video"===this.core.params.behavior)return this.defaultWaitAndDestroyIfInactiveTime=60},"event:state":function(t){switch(t){case"ready":return this.show();case"start":return this.callStrategy("fullscreen:stopDestructionTimer");case"finish":return setTimeout(function(t){return function(){return t.core.destroy()}}(this),1)}},terminated:function(){if(this.releaseScroll(),this.isMobile)return this.removeMetaTags()}},n.prototype.defaultWaitAndDestroyIfInactiveTime=30,n.prototype.wrapContainer="wrap_html",n.prototype.moduleName="fullscreen",n.prototype.mobileMetaTags=[{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no, minimal-ui"},{name:"HandheldFriendly",content:"True"},{name:"MobileOptimized",content:"320"}],n.prototype.init=function(){if(this.core.state.format="fullscreen",this.isAuto="video"===this.core.params.behavior&&this.core.loaded_data.auto_play,this.isShown=!1,this.isMobile=r.utils.bowser.mobile||r.utils.bowser.tablet,this.tags=[],this.isMobile)return this.loadMetaTags()},n.prototype.loadMetaTags=function(){var t,e,r,n,s,o,a,l,u;for(e=i.getElementsByTagName("head")[0],a=this.mobileMetaTags,l=[],r=0,s=a.length;r<s;r++)if(o=a[r],t=e.querySelector("meta[name='"+o.name+"']"))l.push(void 0);else{t=i.createElement("meta");for(n in o)u=o[n],t[n]=u;this.tags.push(t),l.push(e.appendChild(t))}return l},n.prototype.removeMetaTags=function(){var t,e,i,r,n;for(i=this.tags,r=[],t=0,e=i.length;t<e;t++)n=i[t],r.push(n.content="");return r},n.prototype.show=function(){var t,e;if(!this.isShown)return r.utils.bowser.ios&&(null!=(t=i.body)&&(t.scrollTop=0),null!=(e=i.body)&&(e.scrollLeft=0)),this.isShown=!0,this.core.wrap_html.style.visibility="visible",this.callStrategy("resize:call"),this.waitAndDestroyIfInactive(),this.trigger("fullscreen:shown")},n.prototype.getWrap=function(){var t,e,n,s,o,a,l,u,c;return n=i.createElement("div"),n.style.cssText="visibility: hidden; background-color: #000000; width: 100vw; height: 100vh; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 16777271;",c=!!this.core.loaded_data.custom_html,a=!c&&"image_url"===this.core.loaded_data.content_type,o=!c&&(null!=(u=this.core.loaded_data.clickthrough_URL)?u.length:void 0)>0,o&&(t=this.core.loaded_data.clickthrough_URL,l="video"===this.core.params.behavior),s="",s+='<div class="buzz__fullscreen">',a||(s+='<div class="buzz__fullscreen__centered">'),c||(s+='<div class="buzz_code '+(a?"buzzplayer-fixed-code":"")+"\" data-width='16' data-height='9'></div>",!this.isAuto||r.utils.bowser.iphone&&parseInt(r.utils.bowser.version)<10?o&&!l&&(s+='<a href="'+t+'" target="blank"\n\tclass="buzz__fullscreen__install__btn default"></a>'):s+='<div class="buzz__fullscreen__blocker"></div>'),a||(s+="</div>"),s+="</div>",n.innerHTML=s,c&&(e=n.querySelector(".buzz__fullscreen__centered"),e.appendChild(this.core.callStrategyByMaxPriority("get_wrap",39))),n},n}(r.Modules.BaseModule),n(r.Modules.FullscreenAd.prototype),s(r.Modules.FullscreenAd.prototype)}(window,document,Buzzoola),function(e,i,r){return r.Modules.ClickthroughURL=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.triggersEvents=["clickthrough_URL:click"],i.prototype.addsStrategies=[["clickthrough_URL:open",0,"openClickthroughURL"]],i.prototype.callsStrategies=["api:sendEvent"],i.prototype.handlesEvents={"engagement:user_left_page":function(){return this.clearTimeouts(),this.leaved=!0,this.leavedTS=Date.now(),this.clicked?this.send("visit",0):this.leaveTimeout=setTimeout(function(t){return function(){return t.leavedTS=null}}(this),3e3)},"engagement:user_page_back":function(){var t,e;if(this.leavedTS&&this.clicked)return this.clearTimeouts(),this.leaved=!1,this.clicked=!1,t=Date.now()-this.leavedTS,e=t<=3e3?0:t>9e4?10:Math.ceil(t/1e4),this.send("return",e),this.leavedTS=null}},i.prototype.init=function(){return this.sended={visit:!1,"return":!1}},i.prototype.send=function(t,e){if(!this.sended[t])return this.callStrategy("api:sendEvent",t,e),this.sended[t]=!0},i.prototype.clearTimeouts=function(){if(null!=this.leaveTimeout&&clearTimeout(this.leaveTimeout),null!=this.clickTimeout)return clearTimeout(this.clickTimeout)},i.prototype.openClickthroughURL=function(t){var e;if(null==t&&(t=!0),(e=this.core.loaded_data.clickthrough_URL)||!t)return""!==this.core.params.slugname&&null!=e&&(e+=(e.indexOf("?")!==-1&&"&"||"?")+"slugname="+this.core.params.slugname),/^http(s?):\/\/(dev)?exchange\.buzzoola\.com/gi.test(e)===!1&&this.callStrategy("api:sendEvent","click",0),this.clearTimeouts(),this.clicked=!0,this.leaved&&!t?this.send("visit",0):this.clickTimeout=setTimeout(function(t){return function(){return t.clicked=!1}}(this),3e3),t&&r.utils.openLink(e,this.core.params.is_ios),this.trigger("clickthrough_URL:click")},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.ClickthroughURLCloseButton=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["clickthrough_URL:open"],i.prototype.handlesEvents={"close_button:click":function(){if(!this.clickthroughURLFirstOpen)return this.callStrategy("clickthrough_URL:open")},"clickthrough_URL:click":function(){return this.clickthroughURLFirstOpen=!0}},i.prototype.init=function(){return this.clickthroughURLFirstOpen=!1},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){var n;return n=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.handlesEvents=r.utils.extend({},r.Modules.Mixins.CloseButton.handlesEvents,{"event:state":function(t){switch(t){case"ready":return this.calcShowSkipSeconds(),this.draw();case"start":return this.calcShowSkipSeconds(),this.hide(),this.startShowTimer();case"pause":return this.params.state="paused",clearInterval(this.timer);case"play":if("paused"===this.params.state)return this.params.state="playing",this.startShowTimer()}}}),i.prototype.widgetInit=function(){return this.params.state=""},i.prototype.draw=function(){return this.callStrategy("close_button:render"),this.params.showCloseButton&&this.show(),this.trigger("close_button:drawn")},i.prototype.calcShowSkipSeconds=function(){var t,e,i;if(this.defaultShowSkipSeconds()!==-3)return t=this.callStrategy("widget:getTotalTime"),(t<=0||!t)&&(t=this.core.loaded_data.duration||1),t=0|t,this.params.showSkipSeconds=this.params.showSkipSeconds>=0?this.params.showSkipSeconds:this.params.showSkipSeconds===-2?t:0===this.params.showSkipSeconds?1:(t>180?(i=.1*t,e=.2*t):t>60?(i=.1*t,e=.6*t):t>40?(i=.2*t,e=.9*t):(i=.3*t,e=t),Math.ceil(i+(e-i)*Math.random()))},i}(r.Modules.BaseModule),r.Modules.Mixins.CloseButton(n.prototype),r.Modules.CloseButtonVideo=n}(window,document,Buzzoola),function(e,i,r){return r.Modules.ScrollerWrap=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.addsStrategies=[["get_wrap",7,"getWrap"]],r.prototype.callsStrategies=["embed_svg"],r.prototype.getWrap=function(){var t,e,r;return this.callStrategy("embed_svg",["close","maximize"]),r="maxiscroller"===this.core.loaded_data.content_type?"buzz-maxiscroll":"buzz-scroll",t="<div class='"+r+"__wrapper'>","buzz-scroll"===r&&(t+="<a href='#' class='buzz-scroll__close'> <span class='buzz-scroll__close__wrap'> <svg viewBox='0 0 100 100' class='buzz-scroll__icon'> <use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_close'></use> </svg> </span> </a>"),t+="<div class='"+r+"__sub-wrapper'> <div class='"+r+"__clip'> <div class='"+r+"__clip__fixed buzz_code'></div> </div> </div>","buzz-scroll"===r&&(t+="<span class='buzz-scroll__maximize buzz-scroll__maximize_active'> <svg viewBox='0 0 100 100' class='buzz-scroll__icon'> <use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_maximize'></use> </svg> </span>"),t+="</div>",e=i.createElement("div"),e.className=r,e.innerHTML=t,e},r}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.ScrollDetector=function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,i),n.prototype.triggersEvents=["window:scroll"],n.prototype.handlesEvents={terminated:function(){return r.utils.remove_event_listener("scroll",this.scrollCallback,e)}},n.prototype.init=function(){return this.scrollStart=!1,this.scrollCallback=function(t){return function(){t.scrollStart||t.trigger("window:scroll",!0),t.scrollStart=!0,null!=t.scrollTimeout&&clearTimeout(t.scrollTimeout),t.scrollTimeout=setTimeout(function(){return t.scrollStart=!1,t.trigger("window:scroll",!1)},150)}}(this),r.utils.add_event_listener("scroll",this.scrollCallback,e)},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){var n;return n=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.handlesEvents=r.utils.extend({},r.Modules.Mixins.CloseButton.handlesEvents,{"expandable:shown":function(){return this.callStrategy("close_button:render")},"overroll:shown":function(){return this.callStrategy("close_button:render")},"fullscreen:shown":function(){return this.callStrategy("close_button:render")},"widget:pinned":function(t){return this.pinned=t,this.pinnedRender()}}),i.prototype.widgetInit=function(){return this.pinnedRender=r.utils.debounce(function(t){return function(){if(!t.core.hasMoreAds())return t.pinned?null!=t.closeButton?t.startShowTimer():t.callStrategy("close_button:render"):t.hide()}}(this),100,!0),this.calcShowSkipSeconds()},i.prototype.getOptionalMessage=function(t){return"\u0420\u0435\u043a\u043b\u0430\u043c\u0430: \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c "+t+" \u0441\u0435\u043a."},i.prototype.calcShowSkipSeconds=function(){if(!this.core.hasMoreAds(1)&&0!==this.core.params.minimize)return this.params.showSkipSeconds=10;if(this.defaultShowSkipSeconds()!==-3)return this.params.showSkipSeconds<0?this.params.showSkipSeconds=0:void 0},i}(r.Modules.BaseModule),r.Modules.Mixins.CloseButton(n.prototype),r.Modules.CloseButtonTGB=n}(window,document,Buzzoola),function(e,i,r){return r.Modules.CustomHtmlWrap=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.triggersEvents=["warning"],n.prototype.addsStrategies=[["get_wrap",10,"getWrap"]],n.prototype.getWrap=function(){var t,e,n,s;return e=this.core.callStrategyByMaxPriority("get_wrap",0).innerHTML,t=this.core.callStrategyByMaxPriority("get_wrap",9).innerHTML,s=this.core.loaded_data.custom_html,s=r.utils.Mustache.render(s,r.utils.extend({default_wrap:e,current_wrap:t},this.core.loaded_data)),RegExp(/buzz_code/g).test(s)?(this.core.embed_container.style.margin=0,n=i.createElement("div"),n.innerHTML=s,n.style.position="relative",n):(this.trigger("warning","in custom html is not defined div.buzz_code"),this.core.callStrategyByMaxPriority("get_wrap",9))},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.TrackingUrl=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.triggersEvents=["tracked","warning"],i.prototype.addsStrategies=[["tracking_url:send",0,"send"]],i.prototype.handlesEvents={got_wrap:function(){var t,e,i;if(t="scroller"===(e=this.core.params.behavior)||"maxiscroller"===e?this.core.wrap_html.querySelector(".buzz-maxiscroll__wrapper")||this.core.wrap_html.querySelector(".buzz-scroll__wrapper")||this.core.wrap_html:this.core.wrap_html,null!=(null!=(i=this.core.loaded_data.extra)?i.imp_id:void 0))return null!=t?t.setAttribute("id",this.core.loaded_data.extra.imp_id):void 0}},i.prototype.init=function(){var t,e,i,n,s,o,a,l;if(this.trackingUrlsSendedEvents=[],this.globalTrackingUrlsSendedEvents=null!=(t=this.core.globalTrackingUrlsSended)?t:[],this.trackingJsSendedEvents=[],this.globalTrackingJsSendedEvents=null!=(e=this.core.globalTrackingJsSended)?e:[],this.trackingUrls=null!=(i=this.core.loaded_data.tracking_url)?i:{},this.globalTrackingUrls=null!=(n=this.core.globalTrackingUrls)?n:{},this.trackingJs=null!=(s=this.core.loaded_data.tracking_js)?s:{},this.globalTrackingJs=null!=(o=this.core.globalTrackingJs)?o:{},this.placeholders=this.getPlaceholders(),this.cookie=null!=(a=r.utils.getCookie("_buzz_fpc"))?a:"",this.headers={"Content-Type":"application/x-www-form-urlencoded"},(null!=(l=this.cookie)?l.length:void 0)>0)return this.headers["X-First-Party-Cookie"]=this.cookie},i.prototype.send=function(t){var e,i,n,s,o,a,l,u,c,d,h;if(!(this.core.options.notSendRequestCtor||~["ctor","player_seen"].indexOf(t)&&this.core.options.parent_core)){for(c=["trackingUrls","globalTrackingUrls","trackingJs","globalTrackingJs"],d=[],o=0,a=c.length;o<a;o++)i=c[o],this[i].hasOwnProperty(t)&&this[i][t].length>0?(h=this[i][t],s=0,d.push(function(){var o;for(o=[];s<h.length;)if(e=h[s],u=this.placeholders.tracking_url||{},e&&!~this[i+"SendedEvents"].indexOf(e)){n=e;for(l in u)n=n.replace("{{"+l+"}}",u[l]);n=n.replace(/\${RND}/g,Math.round(1e9*Math.random())),function(e){return function(i,n,s){var o;return"trackingUrls"===i||"globalTrackingUrls"===i?/\.buzzoola\.com/g.test(r.utils.parseURLString(n).origin)?(o="site="+encodeURIComponent(r.utils.getTopWindow(!0)),r.utils.loadXHR(n,function(r,o,a){return r&&(a.status<200||a.status>400)?e.trigger("warning","not tracked "+n+" for "+t):e.addToCollection(i,t,s)},{withCredentials:!0,timeout:3e3},"POST",e.headers,o)):r.utils.loadImage(n,function(r){return r?e.trigger("warning","not tracked "+n+" for "+t):e.addToCollection(i,t,s)}):r.utils.loadScript(n,function(r){return r?e.trigger("warning","not loaded "+n+" for "+t):e.addToCollection(i,t,s)})}}(this)(i,n,e),o.push(s++)}else s++;return o}.call(this))):d.push(void 0);return d}},i.prototype.addToCollection=function(t,e,i){return this.core.log("Tracked "+i+" for event "+e+" from "+t),this[t+"SendedEvents"].push(i),this.trigger("tracked",{collection:t,event:e,url:i})},i.prototype.getPlaceholders=function(){var t,e,i,r,n,s,o,a;for(t=this.core.embed_container.attributes,e=void 0,i=t.length,a={},e=0;e<i;)n=t[e],n.nodeName.indexOf("data-replace")!==-1&&(s=n.nodeName.replace("data-replace-",""),r=s.split("-")[0],o=s.split("-")[1],a[r]=a[r]||{},a[r][o]=n.value),e++;return a},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.CustomJs=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.init=function(){var t;if(this.core.loaded_data.custom_js)return t="(function(id){"+this.core.loaded_data.custom_js+"})('"+this.core.params.id+"')",r.utils.embedScript(t,this.core.wrap)},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.HrefHandler=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.triggersEvents=["clickthrough_URL:click"],i.prototype.callsStrategies=["clickthrough_URL:open"],i.prototype.handlesEvents={drawn:function(){return setTimeout(function(t){return function(){return t.initHrefHandlers()}}(this),0)},"before:destroyed":function(){return this.destroyHrefHandlers()}},i.prototype.initHrefHandlers=function(){var t,e,i,n,s,o,a,l;for(this.aElements=this.core.wrap_html.querySelectorAll("a"),a=this.aElements,l=[],n=s=0,o=a.length;s<o;n=++s)t=a[n],i=t.getAttribute("href"),i===this.core.loaded_data.clickthrough_URL&&(e=t.cloneNode(!0),t.parentNode.replaceChild(e,t),this.aElements[n]=t=e),l.push(r.utils.add_event_listener("click",function(t){return function(e){return t.replaceDefaultLogic(e)}}(this),t));return l},i.prototype.destroyHrefHandlers=function(){var t,e,i,n,s;if(this.aElements){for(n=this.aElements,s=[],e=0,i=n.length;e<i;e++)t=n[e],s.push(r.utils.remove_event_listener("click",this.replaceDefaultLogic,t));return s}},i.prototype.replaceDefaultLogic=function(t){var e;if(t=t||window.event,t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),null!=t.currentTarget&&/^http(s?):/g.test(e=t.currentTarget.getAttribute("href")))return t.preventDefault(),e===this.core.loaded_data.clickthrough_URL?this.callStrategy("clickthrough_URL:open"):r.utils.openLink(e,this.core.params.is_ios)},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,n){return n.Modules.YandexMetrik=function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,n),s.prototype.addsStrategies=[["metrika:reachGoal",0,"reachGoal"]],s.prototype.init=function(){this.yaId=this.core.loaded_data.ya_id,this.queueEvents=[];try{return e.Ya?this.createMetrika():(this.loadMetrikaWatchJS(),(e.yandex_metrika_callbacks=e.yandex_metrika_callbacks||[]).push(function(t){return function(){return t.createMetrika()}}(this)))}catch(t){}},s.prototype.reachGoal=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],this.callEvent(function(e){return function(){return e.metrika.reachGoal.apply(e.metrika,t)}}(this))},s.prototype.createMetrika=function(){return this.metrika=new e.Ya.Metrika({id:this.yaId,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,trackHash:!0}),this.callQueueEvents()},s.prototype.loadMetrikaWatchJS=function(){var t,r,n;return r=i.getElementsByTagName("script")[0],n=i.createElement("script"),t=function(){return r.parentNode.insertBefore(n,r)},n.type="text/javascript",n.async=!0,n.src=this.core.protocol+"//mc.yandex.ru/metrika/watch.js","[object Opera]"===e.opera?i.addEventListener("DOMContentLoaded",t,!1):t()},s.prototype.callEvent=function(t){return this.metrika?t.call(this):this.queueEvents.push(t)},s.prototype.callQueueEvents=function(){var t,e;for(t=0,e=this.queueEvents.length;t<e;)this.queueEvents[t].call(this),t+=1;return this.queueEvents=[]},s}(n.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.ImageOnHover=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.addsStrategies=[["get_wrap",5,"getWrap"]],n.prototype.handlesEvents={got_wrap:function(){return this.hideWrap(),this.onHover=function(t){return function(){return t.showWrap(),r.utils.remove_event_listener("mouseover",t.onHover,t.core.wrap_html),r.utils.add_event_listener("mouseout",t.onOut,t.core.wrap_html)}}(this),this.onOut=function(t){return function(){return t.hideWrap(),r.utils.add_event_listener("mouseover",t.onHover,t.core.wrap_html),r.utils.remove_event_listener("mouseout",t.onOut,t.core.wrap_html)}}(this),r.utils.add_event_listener("mouseover",this.onHover,this.core.wrap_html)},"before:destroyed":function(){if(this.onHover&&r.utils.remove_event_listener("mouseover",this.onHover,this.core.wrap_html),this.onOut)return r.utils.remove_event_listener("mouseout",this.onOut,this.core.wrap_html)}},n.prototype.getWrap=function(){var t,e;return t=i.createElement("div"),e="<img width='300' height='250' src='"+this.core.loaded_data.content.image_for_video_on_hover+"'></img> <div class='buzz_code' style='display:none;position:absolute;right:0;top:0;' data-width='16' data-height='9' data-resize></div>",t.innerHTML=e,t.style.width="300px",t.style.position="relative",t.style.zIndex=999,t},n.prototype.hideWrap=function(){return this.core.container.className+=" buzz-invisible",this.core.wrap.style.display="none"},n.prototype.showWrap=function(){return r.utils.remove_class("buzz-invisible",this.core.container),this.core.wrap.style.display="inline-block"},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.MOAT=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.handlesEvents={got_wrap:function(){var t,e;return e=i.createElement("noscript"),t=this.core.loaded_data,r.utils.add_class("MOAT-buzzooladisplay76542318590?moatClientLevel1="+t.advertiser_id+"&moatClientLevel2="+t.campaign_id+"&moatClientLevel3="+t.line_item_id+"&moatClientLevel4="+t.creative_id+"&moatClientSlicer1="+t.site_id,e),r.utils.loadScript(this.core.protocol+"//z.moatads.com/buzzooladisplay76542318590/moatad.js#moatClientLevel1="+t.advertiser_id+"&moatClientLevel2="+t.campaign_id+"&moatClientLevel3="+t.line_item_id+"&moatClientLevel4="+t.creative_id+"&moatClientSlicer1="+t.site_id+"&moatClientSlicer2="+t.placement_id),this.core.wrap_html.appendChild(e)}},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Resize=function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,i),n.prototype.triggersEvents=["resize:before","resize:after","widget:resize"],n.prototype.callsStrategies=["wrap:width","wrap:height","resize:calcHeight","widget:resize","get_video_size"],n.prototype.addsStrategies=[["resize:calcWidth",0,"calcWidth"],["resize:calcHeight",0,"calcHeight"],["resize:call",0,"onResize"],["resize:set_aspect",0,"setAspect"]],n.prototype.handlesEvents={got_container:function(){return this.core.params.width=this.calcWidth(),r.utils.add_resize_listener(this.core.container.parentNode,this.resize),r.utils.add_event_listener("resize",this.resize),r.utils.add_event_listener("orientationchange",function(t){return function(){return setTimeout(t.resize,500)}}(this)),this.resize()},"before:destroyed":function(){var t;return(null!=(t=this.core.container)?t.parentNode:void 0)&&r.utils.remove_resize_listener(this.core.container.parentNode,this.resize),r.utils.remove_event_listener("resize",this.resize)},"resize:after":function(t,e){var i;return t=this.callStrategy("wrap:width")||t,i=this.callStrategy("get_video_size",t,this.callStrategy("resize:calcHeight",t)),this.callStrategy("widget:resize",i.width,i.height),this.trigger("widget:resize",i.width,i.height)},drawn:function(){return this.resize()},"event:state":function(t){if("ready"===t)return this.resize()}},n.prototype.init=function(){return this.custom_aspect=16/9,this.core.params.percent_width=this.core.params.width,this.core.params.percent_height=this.core.params.height||this.core.params.container_height,this.width_factor=parseFloat(this.core.params.percent_width)/100,this.height_factor=parseFloat(this.core.params.percent_height)/100,this.resize=r.utils.debounce(function(t){return function(){return t.onResize()}}(this),20)},n.prototype.onResize=function(){var t,e;if(!this.core.state.destroyed&&!this.core.state.collapsing)return e=this.core.callStrategy("resize:calcWidth"),t=this.core.callStrategy("resize:calcHeight",e),this.trigger("resize:before",e,t),this.core.container.style.width=e+"px",this.trigger("resize:after",e,t)},n.prototype.calcWidth=function(){var t,e,i;return t=null!=(i=this.core.container)?i.parentElement:void 0,this.core.params.percent_width.indexOf("%")!==-1&&t?(e=parseFloat(r.utils.getPropertyValue(t,"width")),e-=parseFloat(r.utils.getPropertyValue(t,"padding-left")),e-=parseFloat(r.utils.getPropertyValue(t,"padding-right")),e*this.width_factor):parseFloat(this.core.params.percent_width);
},n.prototype.calcHeight=function(t){var i,n,s,o,a,l,u,c,d,h,p,g,m,y,f;return c=null!=(g=this.core.container)?g.parentElement:void 0,p=this.core.params.percent_height,l=function(){var a,l,u;if((null!=p?p.indexOf("%"):void 0)!==-1&&c){for(h=parseFloat(r.utils.getPropertyValue(c,"height")),n=0,d=function(t){if(t&&t>0)return h-=t},u=c.children,a=0,l=u.length;a<l;a++)o=u[a],"absolute"!==r.utils.getPropertyValue(o,"position")&&(o!==this.core.container&&d(parseFloat(r.utils.getPropertyValue(o,"height"))),s=parseFloat(r.utils.getPropertyValue(o,"margin-top")),d(s>=n?s:n),n=parseFloat(r.utils.getPropertyValue(o,"margin-bottom")));return d(n),(h<0?0:h)*this.height_factor}return p?parseFloat(p):(i=e.innerWidth>e.innerHeight?16/9:this.custom_aspect,(t||this.calcWidth())/i)}.call(this),u=this.core.options.vpaidJSProxy&&"tgb"===this.core.params.behavior&&!!p,a=u||!(null!=(m=this.core)&&null!=(y=m.loaded_data)?y.branding_template:void 0)&&(this.core.params.container_height||"overroll"===this.core.state.format&&p),a&&(f=parseFloat(r.utils.getPropertyValue(this.core.wrap_html,"height")||0),f>0&&(l=l-f+this.callStrategy("wrap:height"))),Math.min(e.innerHeight,l)},n.prototype.setAspect=function(t){return this.custom_aspect=t,this.resize()},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Wrap=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.handlesEvents={drawn:function(){return this.subscribeToPoweredClick()},terminated:function(){var t,e;return null!=(t=this.styles)&&null!=(e=t.parentNode)?e.removeChild(this.styles):void 0},"event:state":function(t){if("ready"===t)return this.core.wrap_html.style.visibility="visible"}},n.prototype.addsStrategies=[["get_wrap",0,"getWrap"],["wrap:width",0,"width"],["wrap:height",0,"height"],["wrap:customize",0,"customize"]],n.prototype.callsStrategies=["embed_svg"],n.prototype.getBlockClassName=function(t){return null==t&&(t=!1),t&&"b-def-half__elem"||"buzz-default__long-block"},n.prototype.getTitle=function(){return'<div class="buzz-default__title b-def-half__elem">'+this.core.loaded_data.title+"</div>"},n.prototype.getDescription=function(t){return null==t&&(t=!1),'<div class="'+this.getBlockClassName(t)+' buzz-default__desc">'+this.core.loaded_data.description+"</div>"},n.prototype.getSponsor=function(t){var e,i;return null==t&&(t=!1),e=this.core.loaded_data,i='<div class="'+this.getBlockClassName(t)+' buzz-default__sponsor b-def-sponsor">',i+=e.sponsor_link?"<a href="+e.sponsor_link+' target="_blank" class="b-def-sponsor__link">':'<div class="b-def-sponsor__link">',i+='<span class="b-def-sponsor__name">'+(e.sponsor_name||"\u041d\u0430 \u043f\u0440\u0430\u0432\u0430\u0445 \u0440\u0435\u043a\u043b\u0430\u043c\u044b")+"</span>",e.sponsor_logo&&(i+='<span class="b-def-sponsor__logo">\n\t<img src="'+e.sponsor_logo+'" alt="" class="b-def-sponsor__logo__img">\n</span>'),i+=e.sponsor_link?"</a>":"</div>",i+="</div>"},n.prototype.getButton=function(){var t;return'<div class="buzz-default__install b-def-install b-def-half__elem">\n\t<a href="'+this.core.loaded_data.clickthrough_URL+'" target="_blank" class="b-def-install__btn">\n\t\t<span class="b-def-install__btn__wrapper">\n\t\t\t'+(null!=(t=this.core.loaded_data.action_button_title)?t:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438")+"\n\t\t\t<span class=\"b-def-install__btn__icon\">\n\t\t\t\t<svg class='buzzplayer-svg-icon' viewBox='0 0 70 110'>\n\t\t\t\t\t<use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_arrow_right'></use>\n\t\t\t\t</svg>\n\t\t\t</span>\n\t\t</span>\n\t</a>\n</div>"},n.prototype.getWrap=function(){var t,e,n,s,o,a,l,u,c,d,h,p,g,m,y;return this.callStrategy("embed_svg",["arrow_right","powered"]),n=i.createElement("div"),u="",t=this.core.loaded_data,c=!r.utils.bowser.mobile&&!r.utils.bowser.tablet,h="video"===this.core.params.behavior,d=h&&c,l=t.show_title&&!!t.title,o=!!t.description,a=!!t.sponsor_name||!!t.sponsor_logo||!!t.sponsor_link,s=!(!t.clickthrough_URL||(h||(p=t.content.excludeClickButton)===!0||"true"===p)&&(!t.action_button_title||d)),e=l&&"getTitle"||o&&"getDescription"||a&&"getSponsor",m="getDescription"!==e&&o&&"getDescription"||"getSponsor"!==e&&a&&"getSponsor",y=!~[e,m].indexOf("getSponsor")&&a&&"getSponsor",u+='<div class="buzz-default">',u+="<div class=\"buzz__default__player\">\n\t<div class=\"buzz_code\" data-width='16' data-height='9' data-resize></div>\n</div>",e&&(u+='<div class="buzz__info">',u+='<div class="buzz-default__half b-def-half',s&&!e&&(u+=" b-def-half_one"),u+='">',u+="\t"+(e&&this[e](!0)||"")+"\n\t"+(s&&this.getButton()||"")+"\n</div>",u+=(m&&this[m]()||"")+"\n"+(y&&this[y]()||""),u+="</div>"),"tgb"!==this.core.params.behavior||this.core.params.overroll||this.core.loaded_data.custom_html||null!=(null!=(g=this.core.options)?g.parent_core:void 0)||(u+=this.getPoweredButton()),u+="</div>",n.innerHTML=u,n.style.position="relative",n},n.prototype.width=function(){return parseFloat(r.utils.getPropertyValue(this.core.wrap,"width")||0)},n.prototype.height=function(){return parseFloat(r.utils.getPropertyValue(this.core.wrap,"height")||0)},n.prototype.customize=function(){var t,e,i;if(i=(null!=(t=null!=(e=this.core.loaded_data.content)?e.styles:void 0)?t:"").replace(/\{\{id\}\}/gm,"."+this.core.wrapId),i.length>0)return this.styles=r.utils.addStyles(i)},n}(r.Modules.BaseModule),r.Modules.Mixins.PoweredBy(r.Modules.Wrap.prototype)}(window,document,Buzzoola),function(e,i,r){return r.Modules.SvgManager=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,e),s.prototype.preventClear=!0,s.prototype.addsStrategies=[["embed_svg",0,"embed"]],s.prototype.handlesEvents={destroyed:function(){return this.destroyContainer()}},s.prototype.className="buzzplayer-svg-container",s.prototype.data={buzz_arrow_left:'<svg id="buzz_arrow_left" xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 100 100"><path fill="currentColor" d="M34.871 52h37.181c1.431 0 2.592-1.162 2.592-2.5 0-1.337-1.161-2.5-2.592-2.5H34.549l10.418-9.455c1.013-.946 1.013-2.333 0-3.28-1.012-.946-2.651-.874-3.663.073l-14.68 13.774a2.387 2.387 0 0 0-.759 1.731c0 .641.272 1.268.759 1.724l14.681 13.737a2.674 2.674 0 0 0 1.831.713c.664 0 1.327-.235 1.832-.71 1.012-.944 1.012-2.699 0-3.643L34.871 52z"/><path d="M100 50C100 22.629 77.571.36 50.001.36 22.431.36 0 22.629 0 50c0 27.37 22.431 49.64 50.001 49.64C77.573 99.64 100 77.37 100 50zM5.978 50c0-24.098 19.75-43.704 44.024-43.704S94.025 25.902 94.025 50s-19.75 43.706-44.024 43.706S5.978 74.098 5.978 50z"/></svg>',buzz_arrow_right:'<svg id="buzz_arrow_right" xmlns="http://www.w3.org/2000/svg" width="70" viewBox="0 0 70 110"><path d="M67.091 48.44L17.107 2.688C13.196-.897 6.85-.897 2.939 2.688c-3.92 3.584-3.92 9.376 0 12.962L45.961 55 2.95 94.353c-3.92 3.599-3.92 9.381 0 12.961 3.911 3.582 10.248 3.582 14.168 0L67.1 61.581c1.975-1.814 2.93-4.208 2.9-6.58.029-2.365-.928-4.757-2.909-6.561z"/></svg>',buzz_call:'<svg id="buzz_call" xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 100 100"><path d="M84.546 10.146c-2.228-2.97-5.938-4.453-8.907-6.434-1.484-.99-3.217-2.227-4.949-2.97C69.206 0 67.719.496 66.236 0c-1.98.496-3.463.99-4.454 1.98-1.979 1.732-2.722 4.454-3.956 6.682-1.732 4.205-5.689 10.144-5.196 15.339.493 6.927 10.64 7.669 7.668 14.349-3.958 6.679-7.918 13.114-11.875 19.792-1.238 2.227-3.217 6.928-5.444 8.164-5.444 3.711-9.402-4.699-16.577-.494-1.979 1.235-2.97 2.969-4.207 4.453-1.733 2.227-3.712 4.699-5.444 6.928-1.485 1.729-3.217 3.464-3.712 5.689-.496 1.732-.496 4.206.495 6.186 1.979 3.959 5.691 5.441 8.907 7.175 1.732.991 3.463 2.476 5.444 3.219 3.463 1.236 9.155.246 12.867-1.981 6.927-3.957 11.876-9.398 16.329-14.844 6.435-7.67 11.628-15.836 16.33-24.248 4.702-8.164 8.659-16.328 11.629-25.729 1.483-4.947 4.453-16.329-.494-22.514z"/></svg>',buzz_close:'<svg id="buzz_close" xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 100 100"><path d="M100 89.494L60.507 50.001l39.49-39.491L89.49 0 50 39.493 10.509.002.002 10.51l39.489 39.491L0 89.494 10.509 100 50 60.507 89.49 100z"/></svg>',buzz_facebook:'<svg id="buzz_facebook" xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 100 100"><path d="M75.008 0H62.017C47.472 0 38.05 9.653 38.05 24.595v11.339H25.025a2.05 2.05 0 0 0-2.05 2.049v16.528a2.05 2.05 0 0 0 2.05 2.05H38.05V97.95A2.05 2.05 0 0 0 40.1 100h16.992a2.05 2.05 0 0 0 2.049-2.05V56.463h15.24a2.05 2.05 0 0 0 2.049-2.05V37.884a2.05 2.05 0 0 0-2.049-2.049h-15.24v-9.389c0-4.628 1.091-6.975 7.107-6.975h8.728a2.05 2.05 0 0 0 2.049-2.05V2.05A2.05 2.05 0 0 0 75.008 0z"/></svg>',buzz_globe:'<svg id="buzz_globe" xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 100 100"><path d="M50.001.5h-.123C22.32.5 0 22.423 0 50c0 27.558 22.32 49.5 49.88 49.5h.122C77.617 99.5 100 77.616 100 50S77.616.5 50.001.5zm2.009 29.417c5.293-.14 10.452-.6 15.437-1.8 1.49 5.886 2.418 12.383 2.574 20.383H52.029l-.019-18.583zm-.51-4.491V3.813c5 1.496 10.846 8.68 14.328 19.705-4.626 1.121-10.328 1.771-14.328 1.908zm-5-21.653v21.651c-4-.137-9.806-.808-14.449-1.928C35.575 12.396 41.5 5.189 46.5 3.773zm0 25.65V48.5H29.86c.141-8 .338-14.745 1.834-20.649 5.021 1.219 9.806 1.432 14.806 1.572zM25.849 47.5H4.056c.438-10 4.272-19.706 10.412-27.167a72.125 72.125 0 0 0 14.135 5.965C26.967 32.679 26.004 40.5 25.849 47.5zm0 5c.141 7 1.118 14.324 2.732 20.704-4.939 1.494-9.664 3.75-14.135 6.211C8.306 71.954 4.49 62.5 4.034 52.5h21.815zm4.032 0H47.5v17.058c-6 .137-10.295 1.342-15.295 2.582-1.516-5.904-2.184-12.64-2.324-19.64zM46.5 73.556V95.23c-5-1.42-10.942-8.646-14.449-19.746C36.715 74.362 42.5 73.69 46.5 73.556zm5 21.632V73.556c4 .137 9.723.787 14.328 1.907C62.346 86.487 56.5 93.69 51.5 95.188zm0-25.63V52.5H70c-.159 7-1.339 13.736-2.813 19.62-4.98-1.221-10.687-2.426-15.687-2.562zM74.015 52.5H95.95c-.438 10-4.271 19.206-10.396 26.667-4.484-2.461-9.252-4.24-14.252-5.754 1.61-6.38 2.575-13.913 2.713-20.913zm0-5c-.138 0-1.121-14.805-2.73-21.186 4.979-1.514 9.764-3.52 14.229-5.999C91.66 27.775 95.493 37.5 95.928 47.5H74.015zm8.757-30.224a70.233 70.233 0 0 1-12.562 5.196c-2.342-7.52-5.628-13.66-9.509-17.697 8.528 2.03 16.127 6.438 22.071 12.501zM39.135 4.817c-3.855 4.015-7.125 10.137-9.47 17.617a69.346 69.346 0 0 1-12.46-5.157c5.925-6.025 13.462-10.414 21.93-12.46zm-21.93 76.907a69.343 69.343 0 0 1 12.46-5.156c2.324 7.5 5.59 13.623 9.47 17.642-8.468-2.074-16.005-6.482-21.93-12.486zm43.501 12.5c3.882-4.033 7.167-10.177 9.509-17.716a69.643 69.643 0 0 1 12.578 5.195c-5.944 6.066-13.564 10.491-22.087 12.521z"/></svg>',buzz_loader:'<svg id="buzz_loader" viewBox="0 0 52 12"><circle cx="6" cy="6" r="6"><animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin=".1"/></circle><circle cx="26" cy="6" r="6"><animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin=".2"/></circle><circle cx="46" cy="6" r="6"><animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin=".3"/></circle></svg>',buzz_maximize:'<svg id="buzz_maximize" xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 100 100"><path d="M37.5 11.5V.5h-38v38h11V19.485l27.271 27.021 8.61-8.235L19.485 11.5H37.5zm24-11v11h19.016L53.494 38.271l8.234 8.36L88.5 19.485V38.5h11V.5h-38zm27 79.521L61.729 53.123l-8.359 8.859L80.516 89.5H61.5v11h38v-38h-11v17.521zM37.771 53L10.5 80.021V62.5h-11v38h38v-11H19.485l26.896-27.518L37.771 53z"/></svg>',buzz_moimir:'<svg id="buzz_moimir" xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 100 100"><path d="M50 100C22.386 100 0 77.613 0 50S22.386 0 50 0s50 22.386 50 50a6.519 6.519 0 0 1-13.037 0c-.028-20.435-16.616-36.978-37.051-36.95-20.435.028-36.978 16.616-36.951 37.05.028 20.435 16.616 36.978 37.05 36.95a36.995 36.995 0 0 0 18.411-4.935 6.516 6.516 0 0 1 8.904 2.365 6.512 6.512 0 0 1-2.365 8.903A49.992 49.992 0 0 1 50 100z"/><path d="M50 78.423c-15.634-.042-28.273-12.751-28.23-28.385s12.751-28.273 28.385-28.23C65.713 21.85 78.321 34.441 78.386 50c.042 15.656-12.614 28.381-28.271 28.423H50zm0-43.616c-8.497 0-15.384 6.888-15.384 15.384 0 8.497 6.888 15.386 15.384 15.386 8.498 0 15.385-6.889 15.385-15.386 0-8.496-6.887-15.384-15.385-15.384z"/><path d="M79.12 77.992a16.407 16.407 0 0 1-6.474-2.814 17.681 17.681 0 0 1-2.146-1.832A17.116 17.116 0 0 1 65.385 61V50a6.52 6.52 0 0 1 13.04 0v10.884a4.191 4.191 0 0 0 1.269 3.039 4.385 4.385 0 0 0 6.202.029l.029-.029a4.35 4.35 0 0 0 1.269-3.077V50a6.5 6.5 0 0 1 12.808 0v10.884c.021 8.971-6.772 16.366-15.502 17.289-.284.03-1.227.13-2.295.124a16.65 16.65 0 0 1-3.085-.305z"/></svg>',buzz_odnoklassniki:'<svg id="buzz_odnoklassniki" xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 100 100"><path d="M45.131 70.458a38.687 38.687 0 0 1-20.734-7.385c-.742-.579-1.516-1.127-2.193-1.805a5.869 5.869 0 0 1-.854-8.256c.026-.033.053-.064.08-.096a5.932 5.932 0 0 1 7.836-1.774c.596.286 1.167.62 1.708 1a33.985 33.985 0 0 0 37.664.354 10.235 10.235 0 0 1 3.677-1.902 5.77 5.77 0 0 1 6.449 2.645 5.578 5.578 0 0 1-.387 7.352 30.428 30.428 0 0 1-10.964 7.095 51.325 51.325 0 0 1-12.446 2.772l1.354 1.451a4349.824 4349.824 0 0 1 17.284 17.35 5.705 5.705 0 0 1 1.289 6.738 6.834 6.834 0 0 1-6.449 3.999 6.221 6.221 0 0 1-4.062-2.063c-4.353-4.387-8.771-8.674-12.898-13.124-1.226-1.29-1.839-1.064-2.935 0a862.019 862.019 0 0 1-13.286 13.35 5.577 5.577 0 0 1-6.707 1.192 6.804 6.804 0 0 1-3.934-6.256 6.247 6.247 0 0 1 2.096-4.19l17.058-17.092 1.354-1.355z"/><path d="M49.872 50.627c-13.98-.072-25.254-11.464-25.182-25.444S36.153-.072 50.133 0c13.98.073 25.255 11.464 25.183 25.444l-.002.191c-.177 13.906-11.537 25.063-25.442 24.992zm12.576-25.314c-.018-6.839-5.576-12.368-12.416-12.35-6.838.018-12.368 5.576-12.35 12.416.018 6.838 5.577 12.368 12.415 12.35h.064c6.804-.035 12.291-5.579 12.255-12.382v-.033h.032z"/></svg>',buzz_out:'<svg id="buzz_out" class="bp-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M88.984 88.5H11.5v-76h38V.5H11.035C4.863.5.5 6.387.5 12.363v75.508C.5 93.848 4.863 99.5 11.035 99.5H88.73c6.152 0 10.77-5.633 10.77-11.629V50.5h-11v38h.484zM61.5.5v12h19.535L26.406 65.508l7.717 7.705L88.5 20.098V39.5h11V.5h-38z"/></svg>',buzz_play_button:'<svg id="buzz_play_button" xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 100 100"><circle opacity=".4" fill="currentColor" cx="50" cy="50" r="50"/><path d="M35.141 70.812V29.188l38.992 20.86-38.992 20.764z"/></svg>',buzz_powered:'<svg id="buzz_powered" viewBox="0 0 134 11" xmlns="http://www.w3.org/2000/svg"><path d="M.089 9V1.3h2.882c1.738 0 2.882.924 2.882 2.464 0 1.661-1.386 2.519-3.025 2.519H.958V9H.089zm.869-3.509h1.903c1.276 0 2.112-.682 2.112-1.716 0-1.1-.825-1.672-2.068-1.672H.958v3.388zM9.89 9.132c-1.705 0-2.948-1.342-2.948-2.97 0-1.606 1.254-2.97 2.97-2.97 1.705 0 2.959 1.342 2.959 2.97a2.953 2.953 0 0 1-2.981 2.97zm.022-.759c1.232 0 2.09-.99 2.09-2.211 0-1.221-.913-2.222-2.112-2.222-1.232 0-2.079 1.001-2.079 2.222s.902 2.211 2.101 2.211zm5.995.671h.748l1.54-4.488 1.529 4.488h.737l2.002-5.731h-.88l-1.496 4.565-1.54-4.587h-.704l-1.529 4.587-1.496-4.565h-.902l1.991 5.731zm8.47-2.541c.121 1.199 1.001 1.892 2.002 1.892.781 0 1.331-.319 1.793-.803l.528.473c-.572.638-1.265 1.067-2.343 1.067-1.562 0-2.838-1.199-2.838-2.97 0-1.65 1.155-2.97 2.728-2.97 1.683 0 2.651 1.342 2.651 3.014 0 .077 0 .165-.011.297h-4.51zm0-.682h3.663c-.099-1.034-.693-1.914-1.815-1.914-.979 0-1.727.814-1.848 1.914zM30.383 9h.847V6.734c0-1.716 1.012-2.607 2.255-2.607h.066v-.913c-1.078-.044-1.903.638-2.321 1.584V3.313h-.847V9zm4.961-2.497c.121 1.199 1.001 1.892 2.002 1.892.781 0 1.331-.319 1.793-.803l.528.473c-.572.638-1.265 1.067-2.343 1.067-1.562 0-2.838-1.199-2.838-2.97 0-1.65 1.155-2.97 2.728-2.97 1.683 0 2.651 1.342 2.651 3.014 0 .077 0 .165-.011.297h-4.51zm0-.682h3.663c-.099-1.034-.693-1.914-1.815-1.914-.979 0-1.727.814-1.848 1.914zm8.393 3.3c-1.364 0-2.717-1.078-2.717-2.97 0-1.859 1.353-2.959 2.717-2.959 1.056 0 1.738.572 2.178 1.21V.97h.847V9h-.847V7.856c-.462.682-1.133 1.265-2.178 1.265zm.154-.759c1.056 0 2.057-.891 2.057-2.222 0-1.309-1.001-2.189-2.057-2.189-1.1 0-2.002.814-2.002 2.211 0 1.342.924 2.2 2.002 2.2zm11.088.759c-1.056 0-1.738-.572-2.178-1.21V9h-.847V.97h.847v3.487c.462-.682 1.133-1.265 2.178-1.265 1.364 0 2.717 1.078 2.717 2.97 0 1.859-1.342 2.959-2.717 2.959zm-.154-.759c1.1 0 2.002-.814 2.002-2.211 0-1.342-.924-2.2-2.002-2.2-1.056 0-2.057.891-2.057 2.211 0 1.32 1.001 2.2 2.057 2.2zm5.313 2.431c.858 0 1.408-.429 1.892-1.606l2.387-5.874h-.902l-1.826 4.741-2.068-4.741h-.935l2.585 5.665c-.341.803-.66 1.067-1.166 1.067a1.78 1.78 0 0 1-.891-.209l-.286.671c.385.187.737.286 1.21.286zM69.202 9V1.3h3.278c.88 0 1.584.242 2.013.682.319.33.495.737.495 1.254 0 1.001-.616 1.518-1.221 1.782.913.275 1.65.803 1.65 1.881 0 1.32-1.111 2.101-2.794 2.101h-3.421zm.858-4.268h2.277c1.045 0 1.771-.473 1.771-1.397 0-.759-.605-1.254-1.705-1.254H70.06v2.651zm0 3.487h2.585c1.166 0 1.892-.517 1.892-1.397 0-.836-.704-1.32-2.046-1.32H70.06v2.717zm10.164.902c1.925 0 3.212-1.166 3.212-3.41V1.3h-.869v4.477c0 1.683-.902 2.541-2.321 2.541-1.474 0-2.354-.935-2.354-2.596V1.3h-.869v4.477c0 2.178 1.298 3.344 3.201 3.344zM85.141 9h6.171v-.781h-4.994l4.994-6.336V1.3h-6.006v.781h4.818l-4.983 6.336V9zm7.623 0h6.171v-.781h-4.994l4.994-6.336V1.3h-6.006v.781h4.818l-4.983 6.336V9zm11.55.132c-2.343 0-3.916-1.837-3.916-3.982 0-2.123 1.595-3.982 3.938-3.982s3.916 1.837 3.916 3.982c0 2.123-1.595 3.982-3.938 3.982zm.022-.803c1.76 0 3.014-1.408 3.014-3.179 0-1.749-1.276-3.179-3.036-3.179S101.3 3.379 101.3 5.15c0 1.749 1.276 3.179 3.036 3.179zm9.328.803c-2.343 0-3.916-1.837-3.916-3.982 0-2.123 1.595-3.982 3.938-3.982s3.916 1.837 3.916 3.982c0 2.123-1.595 3.982-3.938 3.982zm.022-.803c1.76 0 3.014-1.408 3.014-3.179 0-1.749-1.276-3.179-3.036-3.179s-3.014 1.408-3.014 3.179c0 1.749 1.276 3.179 3.036 3.179zm5.753.671h5.203v-.803h-4.334V1.3h-.869V9zm6.149 0l3.509-7.755h.814L133.42 9h-.935l-.902-2.035h-4.191L126.479 9h-.891zm2.145-2.816h3.509l-1.749-3.927-1.76 3.927z"/></svg>',buzz_twitter:'<svg id="buzz_twitter" xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 100 100"><path d="M100 19.087a40.976 40.976 0 0 1-11.789 3.228 20.607 20.607 0 0 0 9.018-11.333 41.355 41.355 0 0 1-13.018 4.982c-7.654-8.362-20.639-8.936-29.001-1.281a20.525 20.525 0 0 0-6.087 19.983A58.242 58.242 0 0 1 7.018 13.228c-5.443 9.361-2.679 21.34 6.316 27.369a20.513 20.513 0 0 1-9.298-2.562v.246a20.528 20.528 0 0 0 16.456 20.106c-1.763.47-3.579.705-5.403.701-1.3-.036-2.593-.2-3.86-.491a20.528 20.528 0 0 0 19.158 14.386 41.15 41.15 0 0 1-25.474 8.771c-1.641 0-3.281-.094-4.912-.28a58.003 58.003 0 0 0 31.579 9.229c37.755 0 58.351-31.263 58.351-58.352v-2.667A40.982 40.982 0 0 0 100 19.087z"/></svg>',buzz_vkontakte:'<svg id="buzz_vkontakte" xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 100 100"><title>vk-1</title><path d="M48.927 78.285h5.977s1.806-.198 2.729-1.191c.848-.913.821-2.626.821-2.626s-.117-8.02 3.604-9.201c3.67-1.164 8.382 7.751 13.376 11.18 3.776 2.594 6.646 2.025 6.646 2.025l13.354-.187s6.985-.431 3.673-5.923c-.271-.449-1.93-4.063-9.93-11.489-8.374-7.771-7.252-6.515 2.835-19.959 6.144-8.187 8.599-13.186 7.831-15.326-.73-2.04-5.249-1.5-5.249-1.5l-15.034.092s-1.115-.152-1.941.343c-.809.483-1.327 1.613-1.327 1.613s-2.381 6.335-5.554 11.724c-6.695 11.369-9.373 11.971-10.468 11.264-2.546-1.646-1.909-6.609-1.909-10.136 0-11.019 1.671-15.612-3.255-16.802-1.634-.394-2.838-.655-7.019-.698-5.365-.055-9.905.017-12.477 1.276-1.711.837-3.03 2.704-2.227 2.811.994.133 3.245.607 4.438 2.231 1.541 2.097 1.487 6.804 1.487 6.804s.886 12.97-2.068 14.581c-2.026 1.105-4.807-1.151-10.776-11.466-3.058-5.283-5.367-11.124-5.367-11.124s-.445-1.091-1.239-1.675c-.963-.708-2.31-.932-2.31-.932l-14.289.093s-2.145.06-2.933.993c-.701.83-.056 2.545-.056 2.545s11.186 26.171 23.853 39.36c11.617 12.094 24.804 11.3 24.804 11.3"/></svg>'},s.prototype.init=function(){return this.embedList=[]},s.prototype.embed=function(t){return r.utils.isArray(t)?void t.forEach(function(t){return function(e){return t.embed(e)}}(this)):(t.indexOf(!0)&&(t="buzz_"+t),void(null!=this.data[t]&&(null==this.container&&(this.container=this.createContainer()),n.call(this.embedList,t)>=0||(this.container.innerHTML+=this.data[t],this.embedList.push(t)))))},s.prototype.createContainer=function(){var t,e,r,n,s;if(t=i.querySelector("."+this.className),null!=t){for(n=t.querySelectorAll("svg"),t.users.push(this),e=0,r=n.length;e<r;e++)s=n[e],this.embedList.push(s.id);return t}return t=i.createElement("div"),t.users=[this],t.className=this.className,i.body.appendChild(t),t},s.prototype.destroyContainer=function(){var t,e,i,r,n,s;if(s=null!=(i=null!=(r=this.container)?r.users:void 0)?i:[],e=s.indexOf(this),e!==-1&&s.splice(e,1),this.container&&!(s.length>0))return t=this.container,null!=(n=t.parentNode)&&n.removeChild(t),this.container=null},s}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.BaseModule=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.addsStrategies=[["widget:loadVideo",0,"loadVideo"],["widget:setVolume",0,"setVolume"],["widget:play",0,"play"],["widget:pause",0,"pause"],["widget:resize",0,"resize"],["widget:getCurrentTime",0,"getCurrentTime"],["widget:getTotalTime",0,"getTotalTime"]],i.prototype.triggersEvents=["widget:state_changed","widget:volume_changed","error","widget:fullscreenchange"],i.prototype.callsStrategies=["get_video_size","resize:calcWidth","resize:calcHeight","widget:smoothSetVolume","widget:getVolumeStatus"],i.prototype.init=function(){var t,e;return t=this.callStrategy("get_video_size",e=this.callStrategy("resize:calcWidth"),this.callStrategy("resize:calcHeight",e)),this.initialWidth=t.width,this.initialHeight=t.height,this.data={ready:!1,started:!1,state:"loading"},this.showPanels=+(this.core.loaded_data.player_show_panels&&!this.core.params.inread)},i.prototype.initPlayerEventHandlers=function(){var t,e,i,r;if(this.playerHandlesEvents&&this.player){i=this.playerHandlesEvents,r=[];for(t in i)e=i[t],r.push(this.player.on(t,function(t){return function(e,i){return function(){return i.apply(t,Array.prototype.slice.call(arguments))}}}(this)(t,e),this.player));return r}},i.prototype.changeState=function(t){if(this.data.state!==t||"pause"===t)return this.trigger("widget:state_changed",this.data.state=t)},i.prototype.play=function(){if(this.player)try{return this.player.play()}catch(t){}},i.prototype.pause=function(){if(this.player&&"pause"!==this.data.state)try{return this.player.pause()}catch(t){}},i.prototype.setVolume=function(t){if(this.player)return this.player.setVolume(t),this.trigger("widget:volume_changed",+t)},i.prototype.stop=function(){if(this.player)try{return this.player.stop()}catch(t){}},i.prototype.resize=function(t,e){return this.player?(this.player.resize(t,e),this.core.widget_div.style.width=t+"px",this.core.widget_div.style.height=e+"px"):(this.initialWidth=t,this.initialHeight=e)},i.prototype.getTime=function(t){var e,i;i=-1;try{t=null!=(e=this.player)?e[t]:void 0,t&&(i=r.utils.isFunction(t)?t.call(this.player):t)}catch(n){}return i},i.prototype.getCurrentTime=function(){return this.getTime("getCurrentTime")},i.prototype.getTotalTime=function(){return this.getDuration()},i.prototype.getDuration=function(t){var e;return null==t&&(t="getTotalTime"),(e=this.getTime(t))<=0&&this.core.loaded_data.duration>0?this.core.loaded_data.duration:e},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){var n,s,o,a,l,u;for(n=r.Modules.Widgets.Player.Modules,n.YoutubePlayer=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.handlesEvents={"before:destroyed":function(){if(this.player&&this.player.destroy)return this.player.destroy()}},i.prototype.init=function(){return i.__super__.init.call(this),this.id=this.core.params.id+r.utils.guid(),this.videoID=this.core.loaded_data.main_content,this.isIos=this.core.params.is_ios},i.prototype.loadVideo=function(){return r.YoutubePlayer?this.loadYTVideo():r.utils.loadScript(this.core.params.origin+"/build/buzzoola_yt.js",function(t){return function(e){return e?t.trigger("error","not loaded buzzoola_yt"):t.loadYTVideo()}}(this))},i.prototype.loadYTVideo=function(){return this.player=new r.YoutubePlayer({ytDivId:this.id,container:this.core.widget_div,videoID:this.videoID,isIos:this.isIos,showPanels:this.showPanels,initialWidth:this.initialWidth,initialHeight:this.initialHeight,changeState:function(t){return function(e,i){return t.changeState(e,i)}}(this),auto_play:this.core.loaded_data.auto_play>0&&this.core.state.seen}),this.player.loadVideo()},i.prototype.changeState=function(t,e){if(i.__super__.changeState.call(this,t),"error"===t)return this.trigger("error","youtube code: "+e)},i}(n.BaseModule),l=["play","pause","setVolume","stop"],u=[],s=0,o=l.length;s<o;s++)a=l[s],u.push(function(t){var e,i;return(e=n.YoutubePlayer).prototype[i=t]=function(){if(this.core.loaded_data.auto_play>0)return e.__super__[i].apply(this,arguments)}}(a));return u}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Banner.Core=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.triggersEvents=["error","event:state","warning"],n.prototype.callsStrategies=["api:getData","clickthrough_URL:open"],n.prototype.addsStrategies=[["get_wrap",25,"getWrap"],["resize:calcHeight",10,"calcHeight"],["resize:calcWidth",10,"calcWidth"],["widget:resize",0,"resize"]],n.prototype.handlesEvents={drawn:function(){return this.draw()},"widget:pinned":function(t){this.pinned=t}},n.prototype.init=function(){var t,e,i;return t=this.core.loaded_data.content,this.id=this.core.params.id+r.utils.guid()+Date.now(),this.baseHTML="<style>html, body {padding: 0; margin: 0; width: 100%; height: 100%;}</style>",this.scriptHTML='<script type="text/javascript">\n\tvar id = "'+this.id+'"\n\n\tfunction clickCb(){\n\t\twindow.parent.postMessage(window.parent.Buzzoola.utils.Base64.encode(JSON.stringify({\n\t\t\tmethod: "onclick",\n\t\t\tid: id\n\t\t})), \'*\');\n\t}\n\n\tArray.prototype.slice.call(document.querySelectorAll("a")).filter(function(el){\n\t\treturn el.hasAttribute("href") && el.getAttribute("href").length > 0;\n\t}).forEach(function(el){\n\t\tif (!!el.addEventListener){\n\t\t\tel.addEventListener("click", clickCb, true);\n\t\t} else if (!!el.attachEvent){\n\t\t\tel.attachEvent("onclick", clickCb);\n\t\t}\n\t});\n\n\tsetTimeout(function(){\n\t\twindow.parent.postMessage(window.parent.Buzzoola.utils.Base64.encode(JSON.stringify({\n\t\t\tmethod: "onload",\n\t\t\tid: id\n\t\t})), \'*\');\n\t}, 1);\n</script>',this.width=parseInt(t.banner_width,10),this.height=parseInt(t.banner_height,10),this.html=null!=(e=t.banner_html)?e:t.main_content,this.adaptive=t.adaptive&&((i=t.adaptive)===!0||"true"===i),this.clicked=!1,t.main_content=this.core.loaded_data.main_content=this.html,this.initModules()},n.prototype.initModules=function(){return r.utils.initModules(this.core,{APIEventSender:!0,Overroll:this.core.params.overroll,TrackingUrlSender:"object"==typeof this.core.loaded_data.tracking_url||"object"==typeof this.core.loaded_data.tracking_js,UserEngagement:!0},"Widgets.Banner.Modules")},n.prototype.iframeHandler=function(t,e){if(t)return this.trigger("error",t);switch(e.method){case"onload":return this.trigger("event:state","ready");case"onclick":return this.handleClick()}},n.prototype.handleClick=function(){if(this.callStrategy("clickthrough_URL:open",!1),null!=this.core.loaded_data.third_party_click_tracker&&!this.clicked)return this.clicked=!0,r.utils.loadImage(this.core.loaded_data.third_party_click_tracker,function(t){return function(e){if(e)return t.clicked=!1,t.trigger("wraning","not tracked "+t.core.loaded_data.third_party_click_tracker+" for click")}}(this))},n.prototype.calcHeight=function(t){return this.core.params.overroll||this.adaptive?this.core.callStrategyByMaxPriority("resize:calcHeight",9,t):null==t||t===this.width||isNaN(t)?this.height:this.height*t/this.width},n.prototype.calcWidth=function(){return this.core.params.overroll||this.adaptive?this.core.callStrategyByMaxPriority("resize:calcWidth",9):this.width},n.prototype.getWrap=function(){var t;return t=i.createElement("div"),t.innerHTML='<div class="buzz_code"></div>',t},n.prototype.draw=function(){return this.iframe=this.createIframe(null,this.core.widget_div,[this.baseHTML,this.html,this.scriptHTML]),this.initEventHandlerIframe(),this.iframe.style.position="absolute",this.iframe.style.top="50%",this.iframe.style.left="50%",this.iframe.style.oTransform="translate(-50%, -50%)",this.iframe.style.mozTransform="translate(-50%, -50%)",this.iframe.style.msTransform="translate(-50%, -50%)",this.iframe.style.webkitTransform="translate(-50%, -50%)",this.iframe.style.transform="translate(-50%, -50%)",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px"},n.prototype.resize=function(t,e){var i,r,n,s;return this.iframe?this.adaptive?(this.iframe.setAttribute("width",t),this.iframe.setAttribute("height",e),this.iframe.style.width=this.iframe.contentWindow.document.body.style.width=t+"px",this.iframe.style.height=this.iframe.contentWindow.document.body.style.height=e+"px"):(i=t!==this.width?t/this.width:1,s=1!==i&&this.pinned?"translate(-50%, -50%) scale("+i+")":"translate(-50%, -50%)",this.iframe.style.webkitTransform=s,this.iframe.style.mozTransform=s,this.iframe.style.msTransform=s,this.iframe.style.oTransform=s,this.iframe.style.transform=s,this.iframe.style.msZoom=1!==i?i:""):(this.initialWidth=t,this.initialHeight=e),null!=(r=this.core.widget_div)&&(r.style.width=t+"px"),null!=(n=this.core.widget_div)&&(n.style.height=e+"px"),this.trigger("widget:resize",t,e)},n}(r.Modules.BaseModule),r.Modules.Mixins.Iframe(r.Modules.Widgets.Banner.Core.prototype)}(window,document,Buzzoola),function(e,i,r){var n;return n=r.Modules.Mixins.CarouselInit,r.Modules.Widgets.Carousel.Core=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["widget:move"],i.prototype.addsStrategies=[["widget:getCarouselItems",0,function(){return this.carouselItems}],["widget:resize",0,"resize"]],i.prototype.initModules=function(){return r.utils.initModules(this.core,{APIEventSender:!0,Move:!0,UserEngagement:!0,TrackingUrlSender:"object"==typeof this.core.loaded_data.tracking_url||"object"==typeof this.core.loaded_data.tracking_js},"Widgets.Carousel.Modules")},i.prototype.resize=function(t,e){var i,r,n,s,o,a,l,u,c,d,h,p,g;for(n=Math.floor(t/1.2),u=.0065*t*this.carouselItems.length,c=0,d=this.carouselItems,s=0,a=d.length;s<a;s++)i=d[s],(r=(null!=(h=i.querySelector("div.buzz__info"))?h.clientHeight:void 0)||0)>c&&(c=r),i.style.width=n+"px",(this.core.params.height||this.core.params.container_height)&&(i.style.height=e+"px");if("ready"===this.core.state.state&&c>0)for(p=this.carouselSlides,o=0,l=p.length;o<l;o++)i=p[o],null!=(g=i.wrap_html.querySelector("div.buzz__info"))&&(g.style.height=c+"px"),i.callStrategy("resize:call");return this.core.widget_div.style.display="none",this.core.widget_div.offsetHeight,this.core.widget_div.style.display="",this.core.widget_div.style.width=(n+u)*this.carouselItems.length+"px",this.callStrategy("widget:move")},i}(r.Modules.BaseModule),r.Modules.Mixins.CarouselInit(r.Modules.Widgets.Carousel.Core.prototype)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Clickunder.Core=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.callsStrategies=["clickthrough_URL:open"],n.prototype.triggersEvents=["event:state"],n.prototype.init=function(){var t;return this.params={url:this.core.loaded_data.clickthrough_URL,selector:this.core.params.clickunder_selector},this.params.url&&this.params.selector?(this.initModules(),this.trigger("event:state","ready"),t=function(e){return function(n){var s,o,a;for(s=n.target,o=i.querySelectorAll(e.params.selector),a=-1;s&&(a=Array.prototype.indexOf.call(o,s))===-1;)s=s.parentElement;
if(a>-1)return e.callStrategy("clickthrough_URL:open"),r.utils.remove_event_listener("click",t,i),e.core.destroy()}}(this),r.utils.add_event_listener("click",t,i)):this.core.trigger("error","not enough params for clickunder")},n.prototype.initModules=function(){return r.utils.initModules(this.core,{APIEventSender:!0,TrackingUrlSender:"object"==typeof this.core.loaded_data.tracking_url||"object"==typeof this.core.loaded_data.tracking_js},"Widgets.Clickunder.Modules")},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Maxiscroll.Core=function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,i),n.prototype.triggersEvents=["event:state"],n.prototype.addsStrategies=[["widget:resize",0,"resize"]],n.prototype.callsStrategies=["resize:calcHeight"],n.prototype.handlesEvents={drawn:function(){return r.utils.bowser.android&&(this.core.wrap_html.querySelector(".buzz-maxiscroll__clip__fixed").className+=" buzz-maxiscroll__clip__fixed_android"),this.core.wrapperBlock=this.core.wrap_html.querySelector("div.buzz-maxiscroll__wrapper"),this.resize(0),this.trigger("event:state","ready")}},n.prototype.init=function(){return this.initModules()},n.prototype.initModules=function(){var t;return t=this.core.params.intersectionSupported,r.utils.initModules(this.core,{APIEventSender:!0,IntersectionScroll:t,Scroll:!t,TrackingUrlSender:"object"==typeof this.core.loaded_data.tracking_url,UserEngagement:!0},"Widgets.Maxiscroll.Modules")},n.prototype.resize=function(t){var i,r;this.core.params.screenHeight=e.innerHeight,this.core.wrapperBlock.style.height=this.core.params.screenHeight+"px",r=e.innerWidth,r!==this.core.wrap_html.offsetWidth&&(this.core.params.screenWidth=r,this.core.wrap_html.style.width=r+"px"),this.core.wrap_html.style.marginLeft="0px",i=this.core.wrap_html.offsetLeft||this.core.wrap_html.getBoundingClientRect().left,this.core.wrap_html.style.marginLeft="-"+i+"px"},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Core=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.triggersEvents=["widget:embeded"],i.prototype.callsStrategies=["widget:loadVideo","widget:getVolumeStatus"],i.prototype.handlesEvents={drawn:function(){return this.embedMediaPlayer()},"widget:state_changed":function(t){if("play"===t&&!this.core.state.seen)return this.core.callStrategy("widget:pause")}},i.prototype.init=function(){return this.core.state.state="",this.core.state.slice=0,this.core.state.current_time=0,this.core.state.total_time=0,this.addController(this.core),this.initModules()},i.prototype.initModules=function(){var t,e,i,n,s,o,a,l,u,c,d,h,p,g,m,y,f,_,v,w,b,z,S,k,M,T;if(b=this.core.loaded_data,e=b.content_type,M=parseInt(r.utils.bowser.version,10)<10,a="infeed_video"===e,v=("vpaid"===e||"vast"===e)&&"application/javascript"===b.content.mimeType,g="video_url"===e,_="vimeo"===e,w="youtube_id"===e,d=r.utils.bowser.iphone&&M,l=g&&d,p=r.utils.bowser.tablet||r.utils.bowser.mobile,o=!!b.clickthrough_URL,s=(b.auto_play||a||l)&&b.auto_play!==-1,u=this.core.params.inread,m=this.core.params.overroll,h=o&&"layer"===b.click_event_view,y=o&&(!p||m||"fullscreen"===this.core.state.format||"plank"===b.click_event_view)&&!h,c=y&&"install"===b.click_event_view,c&&(y=!1),o&&this.core.params.minimize&&(h=!0),f=w&&(o||s),t=b.content,b.player_show_panels=!!b.player_show_panels&&(!r.utils.bowser.ios||t.vr)&&!u,t.vr&&null==t.vr_options&&(t.vr_options={}),n=u&&!!t.title_on_top,r.utils.initModules(this.core,{AdsOverlay:b.overlay,APIEventSender:!0,AnimationController:!0,Autoplay:s,InstallScreen:c,ReplayScreen:!c&&(u&&("vpaid"!==e&&(!w||f)||o)||g&&p&&!m||a),HeaderInfoWrap:n,InstallPlank:c,ClickthroughURLLayer:h,ClickthroughURLPlank:y,Overroll:m,Events:!0,Expandable:u,VolumeController:!0,ControlBar:g||v||_&&!b.player_show_panels,PauseWhenUnseen:!0,Repeat:!!b.content.image_for_video_on_hover,ShareButtons:"vast"!==e&&"infeed_video"!==e&&"vpaid"!==e&&"audioroll"!==e&&!this.core.params.is_ios,TrackingUrlSender:"object"==typeof b.tracking_url||"object"==typeof b.tracking_js,UserEngagement:!0,FullscreenApi:!0,YandexMetrik:!!b.ya_id,Subtitles:!!b.content.subtitles},"Widgets.Player.Modules"),this.core.loaded_data.content.vr&&r.utils.initModules(this.core,{ViewportOrientation:!0}),T=this.callStrategy("widget:getVolumeStatus"),S=!(_&&p),z=!(r.utils.bowser.ios&&"fullscreen"===this.core.state.format),k=!(r.utils.bowser.ipad&&M),i=S&&z&&k&&(!b.player_show_panels||a)&&(T.soundControlEnabled||l)&&"rutube_id"!==b.content_type&&(!this.core.isUsingVideoSlot()||this.core.options.videoSlot instanceof HTMLElement))return r.utils.initModules(this.core,{VolumeIcon:!0},"Widgets.Player.Modules")},i.prototype.embedMediaPlayer=function(){var t;switch(t=r.utils.bowser,this.core.loaded_data.content_type){case"rutube_id":new r.Modules.Widgets.Player.Modules.RutubePlayerIframe(this.core);break;case"youtube_id":this.core.loaded_data.iframe_domains&&this.core.loaded_data.iframe_domains.length?new r.Modules.Widgets.Player.Modules.YoutubePlayerIframe(this.core):new r.Modules.Widgets.Player.Modules.YoutubePlayer(this.core);break;case"vast":case"vpaid":case"audioroll":"application/javascript"===this.core.loaded_data.content.mimeType?new r.Modules.Widgets.Player.Modules.VPAIDJsPlayer(this.core):new r.Modules.Widgets.Player.Modules.VPAIDPlayer(this.core);break;case"video_url":case"facebook":this.core.loaded_data.content.vr?new r.Modules.Widgets.Player.Modules.PanoramaPlayerIframe(this.core):(t.iphone&&(parseInt(t.version)<10||t.yandexbrowser)||parseInt(t.version)>10&&this.core.loaded_data.auto_play&&(t.safari||t.iphone))&&!this.core.isUsingVideoSlot()?new r.Modules.Widgets.Player.Modules.VideoUrlInline(this.core):new r.Modules.Widgets.Player.Modules.HTML5Player(this.core);break;case"vimeo":new r.Modules.Widgets.Player.Modules.VimeoPlayer(this.core)}return this.callStrategy("widget:loadVideo"),this.trigger("widget:embeded")},i.prototype.addController=function(t){return t.controller={setVolume:function(e){return t.callStrategy("widget:setVolume",e)},getState:function(){return t.state.state},play:function(){return t.callStrategy("widget:play")},pause:function(){return t.callStrategy("widget:pause")},getPlayerContainer:function(){return t.container},destroy:function(){return t.destroy()},collapse:function(e){return t.collapse(e)},resize:function(e,i){return t.callStrategy("widget:resize",e,i)}}},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Scroller.Core=function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,i),n.prototype.triggersEvents=["event:state"],n.prototype.addsStrategies=[["widget:resize",0,"resize"]],n.prototype.callsStrategies=["resize:calcHeight"],n.prototype.handlesEvents={drawn:function(){return this.core.wrapperBlock=this.core.wrap_html.querySelector("div.buzz-scroll__wrapper"),this.resize(0,this.callStrategy("resize:calcHeight")),this.trigger("event:state","ready")}},n.prototype.init=function(){return this.initModules()},n.prototype.initModules=function(){return r.utils.initModules(this.core,{APIEventSender:!0,Fullscreen:!0,TrackingUrlSender:"object"==typeof this.core.loaded_data.tracking_url||"object"==typeof this.core.loaded_data.tracking_js,UserEngagement:!0},"Widgets.Scroller.Modules")},n.prototype.resize=function(t,i){var r,n;this.core.params.screenHeight=e.innerHeight,this.core.wrapperBlock.style.height=(this.core.params.height=i)+"px",n=e.innerWidth,n!==this.core.wrap_html.offsetWidth&&(this.core.params.screenWidth=n,this.core.wrap_html.style.width=n+"px",this.core.wrap_html.style.marginLeft="0px",r=this.core.wrap_html.offsetLeft||this.core.wrap_html.getBoundingClientRect().left,this.core.wrap_html.style.marginLeft="-"+r+"px")},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Showcase.Core=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.addsStrategies=[["widget:resize",0,"resize"]],i.prototype.initModules=function(){return this.core.loaded_data.custom_html||this.setDefaultWrapForItems(),r.utils.initModules(this.core,{APIEventSender:!0,UserEngagement:!0,TrackingUrlSender:"object"==typeof this.core.loaded_data.tracking_url||"object"==typeof this.core.loaded_data.tracking_js},"Widgets.Showcase.Modules")},i.prototype.resize=function(t,e){var i,r,n,s,o;for(r=Math.floor(t/this.carouselItems.length),o=this.carouselItems,n=0,s=o.length;n<s;n++)i=o[n],i.style.width=r+"px",(this.core.params.height||this.core.params.container_height)&&(i.style.height=e+"px");return this.core.widget_div.style.width=t+"px"},i.prototype.setDefaultWrapForItems=function(){return this.core.loaded_data.custom_html="<style> .buzz_code{background-color:#fff} .default_install.buzz{position:relative;z-index:998;font-family:sans-serif;text-align:center;background-color:#fff} .default_install.buzz:hover .buzz__data{opacity:1} .default_install .buzz-img{display:block;width:100%;height:auto} .default_install .buzz__player{width:100%;margin-bottom:10px} .default_install .buzz__bottom{width:100%;position:absolute;bottom:12px}.default_install .buzz__title{position:relative;height:48px;overflow:hidden;padding:0 10px; margin-bottom:18px;font-size:15px;color:#000;text-overflow:ellipsis;line-height:16px;-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box} .default_install .buzz__title_white{color:#fff} .default_install .buzz__desc{height:90px;overflow:hidden;padding:0 12px;font-size:12px;line-height:15px;color:#000;text-align:left;-webkit-line-clamp:6;-webkit-box-orient:vertical;display:-webkit-box} .default_install .buzz__desc_white{text-align: left;color:#fff}.default_install .buzz__price{padding-bottom:20px;font-size:25px;color:#f37520;font-weight:700} .default_install .buzz__price_white{padding-bottom:18px;font-size:25px;color:#fff}.default_install .buzz__price_none{padding-bottom:0px;height:20px;width: 100%}.default_install .buzz__data{box-sizing:border-box;padding:25px 0 10px;background-color:rgba(0,0,0,.86);position:absolute;z-index:999;top:0;opacity:0;width:100%;height:100%;-webkit-transition:opacity .4s linear;transition:opacity .4s linear} .default_install .buzz__install{width:100%} .default_install .buzz__install__btn{font-size:14px;line-height:14px;text-transform:uppercase;text-decoration:none;color:#fff;vertical-align:middle} .default_install .buzz__install__btn__wrapper{margin:0 auto;width:90%;box-sizing:border-box;display:inline-block;padding:15px 0;border-radius:4px;background-color:#f37520;border:1px solid #f37520;vertical-align:middle} </style>\n<div class='buzz default_install'>\n\t<div class='buzz__player'>\n\t\t<div class='buzz_code' data-width='2' data-height='3' data-resize='' ></div>\n\t</div>\n\t{{#title}}<div class='buzz__title'>{{title}}</div>{{/title}}\n\t{{#displayed_price}}<div class='buzz__price'>{{displayed_price}}</div>{{/displayed_price}}\n\t{{^displayed_price}}<div class='buzz__price buzz__price_none'></div>{{/displayed_price}}\n\t<div class='buzz__data'>\n\t\t{{#title}}<div class='buzz__title buzz__title_white'>{{title}}</div>{{/title}}\n\t\t{{#description}}<div class='buzz__desc buzz__desc_white'>{{description}}</div>{{/description}}\n\t\t<div class='buzz__bottom'>\n\t\t\t{{#displayed_price}}<div class='buzz__price buzz__price_white'>{{displayed_price}}</div>{{/displayed_price}}\n\t\t\t{{^displayed_price}}<div class='buzz__price buzz__price_none'></div>{{/displayed_price}}\n\t\t\t{{#action_button_title}} {{#clickthrough_URL}}\n\t\t\t\t<div class='buzz__install'>\n\t\t\t\t\t<a href='{{clickthrough_URL}}' class='buzz__install__btn'>\n\t\t\t\t\t\t<span class='buzz__install__btn__wrapper'> {{action_button_title}} </span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t{{/clickthrough_URL}} {{/action_button_title}}\n\t\t</div>\n\t</div>\n</div>"},i}(r.Modules.BaseModule),r.Modules.Mixins.CarouselInit(r.Modules.Widgets.Showcase.Core.prototype)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.TGB.Core=function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,n),s.prototype.triggersEvents=["widget:resize","event:state","error","warning","tgb:url_change"],s.prototype.callsStrategies=["wrap:getStyle","wrap:width","wrap:height","resize:calcHeight","get_video_size","viewport:getOrientation","viewport:lockOrientation"],s.prototype.addsStrategies=[["widget:scale",0,"scale"],["widget:resize",0,"resize"],["widget:imgRatio",0,"getImgRatio"],["get_video_size",1,"getSize"]],s.prototype.handlesEvents={drawn:function(){return this.params.drawn=!0,this.core.container.style.background="transperent","fullscreen"!==this.core.state.format||this.params.orientation||(this.params.orientation=this.callStrategy("viewport:getOrientation")),this.deferredLoadImage()},"orientation:change":function(t){if("fullscreen"===this.core.state.format&&(this.params.orientation=t,this.params.drawn&&this.params.ratio.width!==this.params.ratio.height))return this.deferredLoadImage()}},s.prototype.handlesParentEvents={drawn:function(){return this.deferredLoadImage()}},s.prototype.ratios=[{width:16,height:9},{width:16,height:10},{width:3,height:2},{width:4,height:3},{width:1,height:1},{width:2,height:3},{width:3,height:4},{width:10,height:16},{width:9,height:16}],s.prototype.init=function(){return this.deferredLoadImage=r.utils.debounce(function(t){return function(){return t.loadImage()}}(this),20),this.initParams(),this.initModules()},s.prototype.initParams=function(){var t,e,i,n,s,o,a,l,u,c;return i=this.core.loaded_data,c=r.utils.isObject(i.content)&&i.content.main_content||i.content||"",n=null!=(s=i.content)?s.urlTarget:void 0,t=c.match(/^.*?\.((?:png|jpe?g|gif))$/i),e="dir"===n||"image"===n?"image"===n:!(null==t||!t.length)||!new RegExp(/(localhost|\.buzzoola\.com|\.nativehub\.com|192\.168\.\d{1,3}\.\d{1,3})|127\.0\.0\.1/).test(c),"/"===c.slice(-1)||e||(c+="/"),this.params={ready:!1,drawn:!1,orientation:null,baseUrl:c,urlIsImage:e,urlExtension:e&&(null!=t?t[1]:void 0)||"",loadedImages:{},baseImage:null,scaleIsLoaded:!1,ratio:{},cropOptions:null!=(o=i.content.crop_options)?o:{},preventCrop:(a=i.content.preventCrop)===!0||"true"===a,format:null!=(l=i.content.format)?l:"png",hasParent:null!=(null!=(u=this.core.options)?u.parent_core:void 0)}},s.prototype.initModules=function(){var t,e,i;if(t=r.utils.isObject(this.core.loaded_data.content)&&this.core.loaded_data.content.landing_options,r.utils.initModules(this.core,{APIEventSender:!0,ClickthroughURL:this.core.loaded_data.clickthrough_URL&&!t,Overroll:this.core.params.overroll,TrackingUrlSender:"object"==typeof this.core.loaded_data.tracking_url||"object"==typeof this.core.loaded_data.tracking_js,UserEngagement:!0,Wrap:"showcase"!==(null!=(e=this.core.options)&&null!=(i=e.parent_core)?i.params.behavior:void 0)&&(r.utils.bowser.mobile||r.utils.bowser.tablet)},"Widgets.TGB.Modules"),t)return r.utils.initModules(this.core,{Core:"Core",ShareButtons:"ShareButtons"},"Widgets.TGB.Modules.Landing")},s.prototype.preloadImage=function(){var t,e,i;return e=this.params.ratio.width+"x"+this.params.ratio.height,i=""+this.params.baseUrl+e+"."+this.params.format,t=this.params.cropOptions[e],r.utils.loadImage(i,function(r){return function(n,s){return n?(r.trigger("warning","could not load tgb image "+i),"portrait"!==r.params.orientation||r.params.urlIsImage?r.cropImage():r.callStrategy("viewport:lockOrientation","landscape")):null!=t?(r.params.baseImage=s,r.cropImage(),r.params.baseImage=null):(r.params.loadedImages[e]=i,r.setImage(i))}}(this),!!t)},s.prototype.loadBaseImage=function(t){var e;return e=this.params.baseUrl,this.params.urlIsImage||(e+="16x9."+this.params.format),null==t&&(t=3),r.utils.loadImage(e,function(r){return function(n,s){var o,a;return n&&t>0?setTimeout(function(){return r.loadBaseImage(t-1)},100):0===t?r.trigger("error","not loaded tgb image "+e):(o=i.createElement("canvas"),o.width=s.width,o.height=s.height,o.getContext("2d").drawImage(s,0,0),r.params.baseImage=o,a=r.searchImageRatio(s.width,s.height),r.params.loadedImages[a]=o.toDataURL("image/png"),r.cropImage())}}(this),!0)},s.prototype.cropImage=function(){var t,r,n,s,o,a,l,u,c,d,h,p,g,m,y,f,_,v;return this.params.baseImage?(c=this.params.baseImage,p=c.width,h=c.height,v=this.params.ratio.width,u=this.params.ratio.height,g=v+"x"+u,null==this.params.cropOptions[g]||this.params.preventCrop?(y=0===(o=Math.floor(p/v))||0===(s=Math.floor(h/u))?[p,h]:(a=Math[this.params.preventCrop?"max":"min"].call(e,o,s),[v*a,u*a]),_=y[0],l=y[1],d=Math.floor((p-_)/2),f=Math.floor((h-l)/2),this.params.preventCrop&&(d=Math.abs(d),f=Math.abs(f))):(m=this.params.cropOptions[g],f=m.top,d=m.left,_=m.width,l=m.height),r=i.createElement("canvas"),r.width=_,r.height=l,n=r.getContext("2d"),t=[c].concat(this.params.preventCrop?[0,0,p,h,d,f,p,h]:[d,f,_,l,0,0,_,l]),n.drawImage.apply(n,t),this.setImage(this.params.loadedImages[g]=r.toDataURL("image/png"))):this.loadBaseImage()},s.prototype.loadImage=function(){var t;return this.params.ratio=this.calcImgRatio(),null!=(t=this.params.loadedImages[this.params.ratio.width+"x"+this.params.ratio.height])?this.setImage(t):this.params.urlIsImage?"gif"===this.params.urlExtension?this.setImage(this.params.baseUrl):this.cropImage():this.preloadImage()},s.prototype.setImage=function(t){var e,i;i={width:"100%",height:"100%",backgroundImage:"url('"+t+"')",backgroundSize:"auto 100%",backgroundRepeat:"no-repeat",backgroundPosition:"center"},"fullscreen"===this.core.state.format&&(i.backgroundColor="#000000");for(e in i)this.core.widget_div.style[e]=i[e];if(this.trigger("tgb:url_change",t),this.core.wrap.hasAttribute("data-resize")&&!this.params.scaleIsLoaded&&(this.params.scaleIsLoaded=!0,r.utils.initModules(this.core,{Scale:!0},"Widgets.TGB.Modules")),this.resize(this.callStrategy("wrap:width")),this.scale(),!this.params.ready)return this.trigger("event:state","ready"),this.params.ready=!0},s.prototype.searchImageRatio=function(t,e){var i,r,n,s;for(s=this.ratios,i=0,r=s.length;i<r;i++)if(n=s[i],n.width/n.height<=t/e)return n},s.prototype.getFactorDirection=function(t,e){var i;if(i=parseInt(this.core.wrap.getAttribute("data-"+t),10),!i){if(null!=e)return e;i=this.callStrategy("wrap:"+t)}return i},s.prototype.getSize=function(t,e){return e&&!isNaN(e)||(e=this.callStrategy("resize:calcHeight",t)),this.core.params.container_height||"overroll"===this.core.state.format&&this.core.params.height||"fullscreen"===this.core.state.format||(e=t/this.getImgRatio(this.calcImgRatio(e))),{width:t,height:e}},s.prototype.resize=function(t,e){var i;if(e||(e=this.callStrategy("get_video_size",t).height),"fullscreen"!==this.core.state.format&&(this.core.wrap.style.height=e+"px"),i=this.calcImgRatio(e),this.getImgRatio()!==this.getImgRatio(i))return this.deferredLoadImage()},s.prototype.scale=function(){var t,e,i,r;return t="fullscreen"===this.core.state.format?"contain":(t="auto ",i=this.getImgRatio(),r=i<this.params.ratio?(e=100*(this.params.ratio-i),100+Math.ceil(e/2)+Math.floor(e/10)):100,t+=r+"%"),this.core.widget_div.style.backgroundSize=t},s.prototype.calcImgRatio=function(t){var e,i,r;return r=this.getFactorDirection("width")||1,e=this.getFactorDirection("height",t)||1,i=[r,e],"portrait"===this.params.orientation&&i.reverse(),this.searchImageRatio.apply(this,i)},s.prototype.getImgRatio=function(t){return null==t&&(t=this.params.ratio),t.width/t.height},s}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Banner.Modules.APIEventSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.onEvents=[{playerEvent:"event:state",serverEvent:function(t){return"ready"===t?"ctor":null}},{playerEvent:"engagement:seenFirstTime",serverEvent:"player_seen"},{playerEvent:"engagement:seenFirstTime",serverEvent:"impression"},{playerEvent:"mrc:displayed",serverEvent:"mrc_dvi"},{playerEvent:"share_button:clicked",serverEvent:"share"}],i.prototype.paramsEventData={share:function(t){return{external:t}}},i.prototype.allowEvents={banner:["ctor","player_seen","share","mrc_dvi","impression"]},i}(r.Modules.BaseAPIEventSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Banner.Modules.Overroll=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.addsStrategies=[["overroll:getWaitAndDestroyIfInactiveTime",1,function(){return 30}]],i.prototype.handlesEvents={"overroll:shown":function(){return this.core.wrap_html.style.background="rgba(0, 0, 0, 0.7)"}},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Banner.Modules.TrackingUrlSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.handlesEvents={"api:eventSent":function(t){return this.sendState(t)},"clickthrough_URL:click":function(){return this.sendState("click")}},i.prototype.events=["ctor","player_seen","click","mrc_dvi","impression"],i}(r.Modules.BaseTrackingUrlSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Banner.Modules.UserEngagement=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["engagement:enableListenerForVisibility","engagement:disableListener","engagement:enableListenerForLeavePage"],i.prototype.handlesEvents={"event:player_seen_first_time":function(){return this.callStrategy("engagement:disableListener","visibility")}},i.prototype.init=function(){return this.callStrategy("engagement:enableListenerForLeavePage"),this.callStrategy("engagement:enableListenerForVisibility")},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Carousel.Modules.APIEventSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.onEvents=[{playerEvent:"event:state",serverEvent:function(t){return"ready"===t?"ctor":null}},{playerEvent:"engagement:seenFirstTime",serverEvent:"player_seen"},{playerEvent:"engagement:seenFirstTime",serverEvent:"impression"},{playerEvent:"mrc:displayed",serverEvent:"mrc_dvi"},{playerEvent:"engagement:seenItem",serverEvent:"slide_seen"}],i.prototype.paramsEventData={slide_seen:function(t){if("undefined"!=typeof t)return{slugname:t}}},i.prototype.allowEvents={carousel:["ctor","player_seen","slide_seen","mrc_dvi","impression"]},i}(r.Modules.BaseAPIEventSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Carousel.Modules.Move=function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,i),n.prototype.triggersEvents=["widget:move"],n.prototype.callsStrategies=["widget:getCarouselItems","resize:calcWidth"],n.prototype.addsStrategies=[["widget:startAutoPlay",0,"startAutoPlay"],["widget:stopAutoPlay",0,"stopAutoPlay"],["widget:moveLeft",0,"moveLeft"],["widget:moveRight",0,"moveRight"],["widget:move",0,"move"],["widget:movementCarousel",0,"movementCarousel"],["widget:getCurrentItemId",0,function(){return this.currentItemId}]],n.prototype.handlesEvents={"event:state":function(t){if("ready"===t)return r.utils.Hammer?this.initSwipeAndDrag():r.utils.loadScript(this.core.params.origin+"/build/hammer.js",function(t){return function(e){return e?t.trigger("error","not loaded hammer"):t.initSwipeAndDrag()}}(this))},"engagement:seen":function(){return this.seen=!0},"engagement:unseen":function(){return this.seen=!1},terminated:function(){if(this.stopAutoPlay(),null!=this.scrollCheck&&r.utils.remove_event_listener("scroll",this.scrollCheck,e),null!=this.mc)return this.mc.on("panleft"),this.mc.on("panright"),this.mc.on("panend")}},n.prototype.init=function(){return this.currentPositionCarousel=0,this.currentItemId=0,this.animationTime=210,this.endless=!1},n.prototype.startAutoPlay=function(){if(!this.autoPlayIntervalId&&this.seen)return this.autoPlayIntervalId=setInterval(function(t){return function(){return t.moveRight()}}(this),3e3)},n.prototype.stopAutoPlay=function(){if(this.autoPlayIntervalId)return clearInterval(this.autoPlayIntervalId),this.autoPlayIntervalId=null},n.prototype.moveLeft=function(){return this.move(this.currentItemId-1)},n.prototype.moveRight=function(){return this.move(this.currentItemId+1)},n.prototype.getItemId=function(t){return t<this.carouselItems.length&&t>=0?t:t<0&&this.endless||!this.endless&&t>=this.carouselItems.length?this.carouselItems.length-1:0},n.prototype.movementItems=function(t,e,i){var r,n;if(r=[t,e,i].toString(),this.movementItemsPrevArguments!==r){for(this.movementItemsPrevArguments=r,n=3;(n-=1)>=0;)this.core.widget_div.appendChild(this.core.widget_div.childNodes[n]);return this.core.widget_div.insertBefore(this.carouselItems[t],this.core.widget_div.childNodes[0]),this.core.widget_div.insertBefore(this.carouselItems[e],this.carouselItems[t].nextSibling),this.core.widget_div.insertBefore(this.carouselItems[i],this.carouselItems[e].nextSibling)}},n.prototype.movementCarousel=function(t){var e;return e=this.core.widget_div.style,e.webkitTransform=e.transform="translate3d("+t*-1+"px, 0px, 0px)"},n.prototype.move=function(t){var e,i,r,n,s,o,a,l,u;return null==t&&(t=this.currentItemId),this.carouselItems||(this.carouselItems=this.callStrategy("widget:getCarouselItems")),u=Math.floor(this.callStrategy("resize:calcWidth")/1.2),n=.0065,u+=this.carouselItems.length*u*n,r=this.currentItemId,this.currentItemId=this.getItemId(t),a=e=u,this.endless||(t=this.currentItemId),s=r<t?1:r===t?0:-1,this.endless?(o=this.getItemId(this.currentItemId+1),l=this.getItemId(this.currentItemId-1)):(e=this.currentPositionCarousel,a*=this.currentItemId),a-=u*function(){switch(t){case 0:return 4*n;case this.carouselItems.length-1:return.2-4*n;default:return.1}}.call(this),clearTimeout(this.animatinTimer),u=(a-e)*s,i=function(t){return function(){return t.endless&&t.movementItems(l,t.currentItemId,o),t.movementCarousel(t.currentPositionCarousel=a)}}(this),0!==s?this.animation(this.animationTime,function(t){return function(i){var r,n;return r=i>=.5?(!n&&t.endless?(n=!0,t.movementItems(l,t.currentItemId,o)):void 0,a+u*s*(i-1)):e+u*s*i,t.movementCarousel(r)}}(this),i):i(),this.trigger("widget:move",this.currentItemId)},n.prototype.animation=function(t,e,i){var r,n;return r=Date.now(),clearTimeout(this.animatinTimer),(n=function(){var s,o;return o=Date.now()-r,s=o/t,s>1&&(s=1),e&&e(s),o>=t?(clearTimeout(this.animatinTimer),i?i(s):void 0):this.animatinTimer=setTimeout(n,5)})()},n.prototype.initSwipeAndDrag=function(){var t,i,n,s,o;return this.mc=s=new r.utils.Hammer.Manager(this.core.widget_div),s.add(new r.utils.Hammer.Pan({pointers:1,threshold:20,direction:r.utils.Hammer.DIRECTION_HORIZONTAL})),n=0,i=0,o=!0,this.panEvent=function(t){return function(e){return t.stopAutoPlay(),n!==e.deltaX&&(o=n>e.deltaX),t.movementCarousel(i=t.currentPositionCarousel-(n=e.deltaX))}}(this),this.scrollCheck=function(t){return function(){if(t.movementCarousel(t.currentPositionCarousel),t.core.loaded_data.auto_play>0)return t.startAutoPlay()}}(this),r.utils.add_event_listener("scroll",this.scrollCheck,e),t=function(t){return t.stopPropagation(),t.preventDefault(),!1},s.on("panleft",this.panEvent),s.on("panright",this.panEvent),s.on("panend",function(e){return function(s){if(r.utils.add_event_listener("click",t,s.target),setTimeout(function(){return r.utils.remove_event_listener("click",t,s.target)},0),0!==n&&(n=0,e.currentPositionCarousel=i,setTimeout(function(){return e[o?"moveRight":"moveLeft"]()},0),e.core.loaded_data.auto_play>0))return e.startAutoPlay()}}(this))},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Carousel.Modules.TrackingUrlSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.handlesEvents={"api:eventSent":function(t){return this.sendState(t)},"clickthrough_URL:click":function(){return this.sendState("click")}},i.prototype.events=["ctor","player_seen","slide_seen","click","mrc_dvi","impression"],i}(r.Modules.BaseTrackingUrlSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Carousel.Modules.UserEngagement=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.triggersEvents=["engagement:seenItem"],i.prototype.callsStrategies=["engagement:enableListenerForVisibility","engagement:enableListenerForLeavePage","widget:getCurrentItemId","widget:startAutoPlay","widget:stopAutoPlay"],i.prototype.handlesEvents={"engagement:seenFirstTime":function(){return this.seenFirstTime=!0,this.seenItem()},"widget:move":function(t){return this.seenItem(t)},"engagement:seen":function(){return this.core.loaded_data.auto_play>0&&!this.seen&&this.callStrategy("widget:startAutoPlay"),this.seen=!0},"engagement:unseen":function(){return this.seen&&this.callStrategy("widget:stopAutoPlay"),this.seen=!1},"engagement:user_left_page":function(){return this.callStrategy("widget:stopAutoPlay")},"engagement:user_page_back":function(){if(this.core.loaded_data.auto_play>0&&this.seen)return this.callStrategy("widget:startAutoPlay")}},i.prototype.init=function(){return this.seenItemIds=[],this.seenFirstTime=this.seen=!1,this.callStrategy("engagement:enableListenerForVisibility"),this.callStrategy("engagement:enableListenerForLeavePage")},i.prototype.seenItem=function(t){if(null==t&&(t=this.callStrategy("widget:getCurrentItemId")),this.seenItemIds.indexOf(t)===-1&&this.seenFirstTime)return this.seenItemIds.push(t),this.trigger("engagement:seenItem",t)},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Clickunder.Modules.APIEventSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.onEvents=[{playerEvent:"event:state",serverEvent:function(t){return"ready"===t?"ctor":null}},{playerEvent:"event:state",serverEvent:function(t){return"ready"===t?"impression":null}}],i.prototype.allowEvents={clickunder:["ctor","impression"]},i}(r.Modules.BaseAPIEventSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Clickunder.Modules.TrackingUrlSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.handlesEvents={"api:eventSent":function(t){return this.sendState(t)},"clickthrough_URL:click":function(){return this.sendState("click")}},i.prototype.events=["ctor","click","impression"],i}(r.Modules.BaseTrackingUrlSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Maxiscroll.Modules.APIEventSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.onEvents=[{playerEvent:"event:state",serverEvent:function(t){return"ready"===t?"ctor":null}},{playerEvent:"engagement:seenFirstTime",serverEvent:"player_seen"},{playerEvent:"engagement:seenFirstTime",serverEvent:"impression"},{playerEvent:"mrc:displayed",serverEvent:"mrc_dvi"}],i.prototype.allowEvents={maxiscroller:["ctor","player_seen","mrc_dvi","impression"]},i}(r.Modules.BaseAPIEventSender)}(window,document,Buzzoola),function(e,i,r){var n,o;return o=r.Modules.Mixins.ScrollLock,n=r.Modules.Widgets.Maxiscroll.Modules,n.BaseScroll=function(n){function o(){return this.autoScroll=s(this.autoScroll,this),this.freezeAutoScroll=s(this.freezeAutoScroll,this),this.removeTouchFlag=s(this.removeTouchFlag,this),this.setTouchFlag=s(this.setTouchFlag,this),o.__super__.constructor.apply(this,arguments)}return t(o,n),o.prototype.triggersEvents=["widget:player:seen","widget:player:unseen","widget:autoScroll:start","widget:autoScroll:finish"],o.prototype.handlesEvents={drawn:function(){var t;this.dom={clip:this.core.wrap_html.querySelector(".buzz-maxiscroll__clip"),wrapper:this.core.wrap_html.querySelector(".buzz-maxiscroll__wrapper"),root:null!=(t=i.scrollingElement)?t:i.body},this.lastPos=this.clipTopPos=this.dom.clip.getBoundingClientRect().top+this.dom.root.scrollTop,
r.utils.add_event_listener("scroll",this.freezeAutoScroll,e),r.utils.add_event_listener("touchstart",this.setTouchFlag,e),r.utils.add_event_listener("touchend",this.removeTouchFlag,e),"function"==typeof this.initOnDrawn&&this.initOnDrawn()},"resize:after":function(t,e){"function"==typeof this.initOnResize&&this.initOnResize(),this.clipTopPos=this.dom.clip.getBoundingClientRect().top+this.dom.root.scrollTop}},o.prototype.init=function(){this.scrolling=!1,this.scrollPersent=.5,this.freezeTime=.03,this.inertionalFreeze=.5,this.scrollStep=5,this.waiting=!1,this.touchStart=!1,this.timeout=!1},o.prototype.setTouchFlag=function(){if(!this.touchStart)return this.touchStart=!0},o.prototype.removeTouchFlag=function(){this.touchStart&&(this.touchStart=!1),this.waiting&&(this.waiting=!1,this.scrolling=!1,this.autoScroll())},o.prototype.freezeAutoScroll=function(){this.timeout&&clearTimeout(this.timeout),this.timeout=r.utils.freeze(this.inertionalFreeze,this.autoScroll,!1,this)},o.prototype.waitTouchend=function(){this.waiting||(this.waiting=!0)},o.prototype.autoScroll=function(){var t,i,n,s,o,a,l,u,c;this.touchStart?this.waitTouchend():this.scrolling||(this.timeout=!1,l=this.dom.wrapper.getBoundingClientRect().top,i=this.dom.wrapper.getBoundingClientRect().bottom,c=l<this.core.params.screenHeight&&l>0,s=i<this.core.params.screenHeight&&i>0,t=this.core.params.screenHeight*this.scrollPersent,u=l>t,n=i>t,o=this.lastPos>l,this.lastPos=l,a=c&&o&&!u?{finalPos:this.clipTopPos,directionTop:!0}:s&&!o&&n?{finalPos:this.clipTopPos,directionTop:!1}:void 0,null!=a&&(r.utils.remove_event_listener("scroll",this.freezeAutoScroll,e),this.lockScroll(),a.increment=0,this.trigger("widget:autoScroll:start"),this.scroll(a)))},o.prototype.scroll=function(t){t.directionTop&&this.dom.root.scrollTop+t.increment<t.finalPos||!t.directionTop&&this.dom.root.scrollTop-t.increment>t.finalPos?(t.directionTop&&(this.dom.root.scrollTop+=t.increment+=this.scrollStep),t.directionTop||(this.dom.root.scrollTop-=t.increment+=this.scrollStep),r.utils.freeze(this.freezeTime,this.scroll,t,this)):(this.dom.root.scrollTop=t.finalPos,this.scrolling=!1,this.releaseScroll(),this.trigger("widget:autoScroll:finish"),r.utils.add_event_listener("scroll",this.freezeAutoScroll,e))},o}(r.Modules.BaseModule),o(n.BaseScroll.prototype)}(window,document,Buzzoola),function(e,i,r){var n;return n=r.Modules.Widgets.Maxiscroll.Modules,n.IntersectionScroll=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["engagement:enableListenerForVisibility","engagement:activateObserver"],i.prototype.handlesEvents=r.utils.extend({},n.BaseScroll.prototype.handlesEvents,{"engagement:seen":function(){var t;return this.handleObservation(null!=(t=this.lastObservations)?t:[])},"engagement:unseen":function(){var t;return this.handleObservation(null!=(t=this.lastObservations)?t:[])}}),i.prototype.initOnDrawn=function(){var t;if(t=this.core.wrap_html.querySelector(".buzz-maxiscroll__video")||this.core.wrap_html.querySelector(".buzz-scroll__video"),null!=t)return this.callStrategy("engagement:activateObserver",t,function(t){return function(e,i,r){return t.handleObservation(e,i,r)}}(this))},i.prototype.handleObservation=function(t,e,i){var r,n,s,o,a,l;if(t&&0!==t.length&&(this.lastObservations=t,null==i&&(i=null!=(o=this.callStrategy("engagement:getThreshold"))?o:0),a=t[0],s=a.isIntersecting,n=a.intersectionRatio,l=this.core.state.seen&&(null==n||isNaN(n)?s:n>=i),this.playerSeen!==l))return this.playerSeen=l,r=l?"seen":"unseen",this.trigger("widget:player:"+r)},i.prototype.init=function(){i.__super__.init.apply(this,arguments),this.playerSeen=!1,this.callStrategy("engagement:enableListenerForVisibility")},i}(n.BaseScroll)}(window,document,Buzzoola),function(e,i,r){var n,s;return s=r.Modules.Mixins.ScrollerWidgetPlayerSeen,n=r.Modules.Widgets.Maxiscroll.Modules,n.Scroll=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.triggersEvents=["engagement:seenFirstTime","engagement:seen","engagement:unseen"].concat(n.BaseScroll.prototype.triggersEvents),i.prototype.handlesEvents=r.utils.extend({},n.BaseScroll.prototype.handlesEvents),i.prototype.callsStrategies=["resize:calcWidth","resize:calcHeight"],i.prototype.initOnDrawn=function(){this.playerSeenCheck()},i.prototype.initOnResize=function(){this.setCenterOfPlayer()},i}(n.BaseScroll),s(n.Scroll.prototype)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Maxiscroll.Modules.TrackingUrlSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.handlesEvents={"api:eventSent":function(t){return this.sendState(t)},"clickthrough_URL:click":function(){return this.sendState("click")}},i.prototype.events=["ctor","player_seen","click","mrc_dvi","impression"],i}(r.Modules.BaseTrackingUrlSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Maxiscroll.Modules.UserEngagement=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["engagement:enableListenerForLeavePage"],i.prototype.init=function(){return this.callStrategy("engagement:enableListenerForLeavePage")},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.AdsOverlay=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,e),s.prototype.callsStrategies=["resize:calcWidth","resize:calcHeight","widget:pause"],s.prototype.handlesEvents={"widget:embeded":function(){var t,e;if(e=i.querySelectorAll(".buzzplayer-overlay"),t=i.createElement("div"),t.id="buzz_overlay_"+(e.length+1),t.className="buzzplayer-overlay",this.core.wrap.appendChild(t),this.container=t,this.core.loaded_data.overlay)return this.adsUrl=this.core.loaded_data.overlay},"event:time":function(t){if(t>=this.startAfterTime)return this.initAd(this.width,this.height)}},s.prototype.init=function(){return this.startAfterTime=this.core.loaded_data.overlay_start_after,this.width=this.callStrategy("resize:calcWidth"),this.height=this.callStrategy("resize:calcHeight")},s.prototype.initAd=function(t,e){var n,s;if(!this.isInited&&this.adsUrl)return this.isInited=!0,this.stageWidth=t,this.stageHeight=e,n=function(t){var e,i;return i=t.match(/(\d\d)/g),e=i.length-1,i.reduce(function(t,i,r){return t+=i*Math.pow(60,e-r)},0)||0},s=new r.utils.XHR,s.open("GET",this.adsUrl,!0),s.onload=function(t){return function(e){var r,o,a,l,u,c,d,h,p;p=i.createElement("div"),p.innerHTML=s.response,t.loadedXML=p;try{a=t.parseXml("NonLinearAds.NonLinear.StaticResource"),o=t.parseXml("NonLinearAds.NonLinear.NonLinearClickThrough"),r=t.parseXml("NonLinearAds.NonLinear.NonLinearClickThrough","target"),l=n(t.parseXml("NonLinearAds.NonLinear","minSuggestedDuration")),h={width:t.parseXml("NonLinearAds.NonLinear","width"),height:t.parseXml("NonLinearAds.NonLinear","height"),position:t.parseXml("NonLinearAds.NonLinear","id"),vmargin:t.getExtension("vmargin")||0,hmargin:t.getExtension("hmargin")||0},d={impression:t.parseXml("Impression")},c=t.loadedXML.querySelector("NonLinearAds TrackingEvents"),c=c.querySelectorAll("Tracking"),Array.prototype.forEach.call(c,function(e){var i,r;return i=e.getAttribute("event"),r=e.innerHTML,d[i]=t.replaceCDATA(r)}),t.events=d,t.loadEvent("impression"),t.addDisplay({contentURL:a,advertURL:o,size:h,advertTarget:r}),t.addTimer(l),t.loadEvent("creativeView")}catch(g){u=g,console.log("bz",u)}}}(this),s.onerror=function(){return console.log(arguments)},s.send(null)},s.prototype.getExtension=function(t){var e;if(e=this.loadedXML.querySelector('Extension[type="'+t+'"]'))return this.replaceCDATA(e.innerHTML)},s.prototype.replaceCDATA=function(t){return null==t&&(t=""),String(t).replace(/<!-*\[CDATA\[/gi,"").replace(/\]\]-*>/gi,"").trim()},s.prototype.parseXml=function(t,e){var i;return i=this.loadedXML.querySelector(t.split(".").join(" ")),this.replaceCDATA(e?i.getAttribute(e):i.innerHTML)},s.prototype.addTimer=function(t){return this.closeTimeout=setTimeout(function(t){return function(){return t.destroy("timeout")}}(this),1e3*t)},s.prototype.addDisplay=function(t){var e,i,s,o;if(!this.isAdded){try{this.isAdded=!0,this.container.innerHTML='<a href="'+t.advertURL+'" target="'+(t.advertTarget||"_blank")+'">\n\t<img src="'+t.contentURL+'"/>\n</a>\n<div class="buzzplayer-ads-overlay-close"></div>',s=t.size.position,r.utils.add_class(s,this.container),this.container.style.width=t.size.width+"px",this.container.style.height=t.size.height+"px",this.container.style.zIndex="212",this.container.style.position="absolute",i=n.call(s,"R")>=0&&"right"||"left",o=n.call(s,"T")>=0&&"top"||"bottom",this.container.style[i]="B"===s||"T"===s?(this.stageWidth-t.size.width)/2+parseInt(t.size.hmargin,10)+"px":parseInt(t.size.hmargin,10)+"px",this.container.style[o]="R"===s||"L"===s?(this.stageHeight-t.size.height)/2+parseInt(t.size.vmargin,10)+"px":parseInt(t.size.vmargin,10)+"px"}catch(a){e=a,console.log(e)}return r.utils.add_event_listener("click",function(t){return function(e){return t.destroy("buzzplayer-ads-overlay-close"===e.target.className&&"close"||"click"),!1}}(this),this.container)}},s.prototype.destroy=function(t){var e;return e=function(){switch(t){case"close":return"close";case"timeout":return"complete";case"click":return"acceptInvitation";default:return null}}(),null!=e&&this.loadEvent(e),"click"===t&&this.callStrategy("widget:pause"),clearTimeout(this.closeTimeout),this.container.removeAttribute("style"),this.container.innerHTML=""},s.prototype.loadEvent=function(t){var e;if(e=this.events[t]||"",""!==e)return r.utils.loadImage(e)},s}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.AnimationController=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.triggersEvents=["animation:hover"],i.prototype.addsStrategies=[["animation:supported",0,"getAnimationSupportStatus"],["animation:status",0,"getAnimationStatus"]],i.prototype.handlesEvents={got_wrap:function(){return this.initMouseEvents()}},i.prototype.init=function(){return this.supportStatus={inread:this.core.params.inread&&"infeed_video"!==this.core.loaded_data.content_type&&!(r.utils.bowser.mobile||r.utils.bowser.tablet)},this.setStatus(!1)},i.prototype.getAnimationSupportStatus=function(t){return t?this.supportStatus[t]:this.supportStatus},i.prototype.getAnimationStatus=function(){return this.animationStatus},i.prototype.setStatus=function(t){return this.animationStatus=t,this.trigger("animation:hover",t)},i.prototype.initMouseEvents=function(){var t,e,i;return i=this.core.wrap_html,e=function(n){return function(){return n.setStatus(!0),r.utils.remove_event_listener("mouseover",e,i),r.utils.add_event_listener("mouseout",t,i)}}(this),t=function(n){return function(){return n.setStatus(!1),r.utils.add_event_listener("mouseover",e,i),r.utils.remove_event_listener("mouseout",t,i)}}(this),r.utils.add_event_listener("mouseover",e,i)},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){var n;return n=["ctor","tick","share","player_seen","mrc_vvi","impression"],r.Modules.Widgets.Player.Modules.APIEventSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.onEvents=[{playerEvent:"event:state",serverEvent:function(t){return"ready"===t?"ctor":"start"===t&&"application/javascript"!==this.core.loaded_data.content.mimeType?"impression":null}},{playerEvent:"event:player_seen_first_time",serverEvent:"player_seen"},{playerEvent:"vpaidjs:adImpression",serverEvent:"impression"},{playerEvent:"share_button:clicked",serverEvent:"share"},{playerEvent:"event:tick",serverEvent:"tick"},{playerEvent:"mrc:played",serverEvent:"mrc_vvi"}],i.prototype.paramsEventData={share:function(t){return{external:t}}},i.prototype.allowEvents={youtube_id:n,vast:n,vpaid:n,video_url:n,facebook:n,infeed_video:n,audioroll:n,vimeo:n,rutube_id:n},i}(r.Modules.BaseAPIEventSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.Autoplay=function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,i),n.prototype.callsStrategies=["widget:setVolume","widget:play","api:getData"],n.prototype.handlesEvents={"event:player_seen_first_time":function(){if("application/javascript"!==this.core.loaded_data.content.mimeType)return this.playerSeenFirstTime=!0},"event:state":function(t){var e;switch(t){case"ready":if(this.playerSeen&&!this.core.isUsingVideoSlot())return this.play();break;case"start":if(this.started=!0,!this.core.isUsingVideoSlot()&&!this.isOverroll&&("vast"===(e=this.core.loaded_data.content_type)||"vpaid"===e)||this.isSoundDisabled)return this.callStrategy("widget:setVolume",0)}},"engagement:seen":function(){if(this.delayedPlay(),this.playerSeen=!0,"application/javascript"===this.core.loaded_data.content.mimeType&&!this.handledWithoutImpression)return this.playerSeenFirstTime=!0},"engagement:unseen":function(){return null!=this.playTimeout&&clearTimeout(this.playTimeout),this.playerSeen=!1},"engagement:user_page_back":function(){if(this.core.state.playPageBack)return this.delayedPlay(!0)}},n.prototype.init=function(){var t,i,n,s,o,a,l,u;return i=r.utils.bowser,this.isOverroll="overroll"===this.core.state.format,this.isProxy=null!=(n=null!=(s=this.core.options)?s.vpaidJSProxy:void 0)&&n,this.isNewChrome=i.android&&i.chrome&&parseInt(i.version,10)>55,this.isAppleDevice=i.safari||i.ios,this.isSoundDisabled=!(null==(o=null!=(a=this.callStrategy("api:getData","placement").unit_settings)?a.autoplay_enable_sound:void 0)||o),this.hasDNT=!!(e.doNotTrack||navigator.doNotTrack||navigator.msDoNotTrack||null!=(null!=(l=e.external)?l.msTrackingProtectionEnabled:void 0))&&!(null==(u="1"===e.doNotTrack||"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack||("function"==typeof(t=e.external).msTrackingProtectionEnabled?t.msTrackingProtectionEnabled():void 0))||!u),this.playerSeen=!1,this.started=!1,this.handledWithoutImpression=!1},n.prototype.delayedPlay=function(t){if(null==t&&(t=!1),null!=this.playTimeout&&clearTimeout(this.playTimeout),t||this.playerSeen===!1)return this.playTimeout=setTimeout(function(t){return function(){return t.play()}}(this),300)},n.prototype.play=function(){var t;if("loading"!==(t=this.core.state.state)&&"finish"!==t&&this.playerSeen)return this.playerSeenFirstTime&&((this.core.isUsingVideoSlot()||this.isProxy&&!this.hasDNT||this.isOverroll&&!this.isAppleDevice&&!this.isNewChrome)&&!this.isSoundDisabled||this.callStrategy("widget:setVolume",0),this.playerSeenFirstTime=!1,this.handledWithoutImpression=!0),this.callStrategy("widget:play")},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.ClickthroughURLLayer=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.callsStrategies=["clickthrough_URL:open","resize:calcWidth","resize:calcHeight"],n.prototype.handlesEvents={"resize:after":function(t,e){if(this.layer)return this.layer.style.width=t+"px",this.layer.style.height=e+"px"},drawn:function(){return this.renderlayer(),this.initHandlerslayer()},"event:state":function(t){if(this.layer)switch(t){case"play":return!this.minimized&&this.minimizeOnly||this.toggle(!0),this.isPlaying=!0;default:return this.toggle(!1),this.isPlaying=!1}},"widget:pinned":function(t){if(this.minimized=t,this.minimized){if(this.isPlaying)return this.toggle(!0)}else if(this.minimizeOnly)return this.toggle(!1)}},n.prototype.renderlayer=function(){var t;return this.minimizeOnly=this.core.params.minimize&&"layer"!==this.core.loaded_data.click_event_view,this.minimized=!1,this.isPlaying=!1,t=i.createElement("div"),t.style.background="transparent",t.style.width=this.callStrategy("resize:calcWidth")+"px",t.style.height=this.callStrategy("resize:calcHeight")+"px",t.style.position="absolute",t.style.top="0",t.style.cursor="pointer",t.style.display="none",t.style.zIndex="210",t.className+=" buzzplayer-clickthrough-layer",this.core.wrap.appendChild(t),this.layer=t},n.prototype.toggle=function(t){return null==t&&(t=!0),this.layer.style.display=t?"block":"none"},n.prototype.initHandlerslayer=function(){return r.utils.add_event_listener("click",function(t){return function(){var e;if(t.callStrategy("clickthrough_URL:open"),(null!=(e=t.layer)?e.parentNode:void 0)&&(r.utils.bowser.mobile||r.utils.bowser.tablet))return t.layer.parentNode.removeChild(t.layer)}}(this),this.layer),r.utils.remove_event_listener("touchstart",function(t){return function(){return t.layer.className+=" buzzplayer-icon-bg-black-touch"}}(this),this.layer),r.utils.add_event_listener("touchend",function(t){return function(){return r.utils.remove_class("buzzplayer-icon-bg-black-touch",t.layer)}}(this),this.layer)},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.callsStrategies=["clickthrough_URL:open","resize:calcWidth","resize:calcHeight"],n.prototype.handlesEvents={"event:time":function(t){if(this.showOnTime())return!this.params.isShown&&this.params.showTime<=t&&this.animate(!0),this.params.isShown&&!this.params.isMobile&&this.params.hideTime&&this.params.hideTime<=t?this.animate(!1):void 0},"animation:hover":function(t){if(this.params.isBlinking)return this.animate(t)}},n.prototype.availableSizes=[250,550],n.prototype.initCustomParams=function(){var t,e;return t=this.core.loaded_data,e=this.core.params,this.params.baseClass="buzzplayer-clickthrough-plank",this.params.hiddenClass="buzzplayer-clickthrough-plank-hidden",this.params.position=t.clickthrough_position||"left",this.params.reactOnHover=!this.params.isMobile&&!this.params.isBlinking,this.params.isBlinking=!this.params.isMobile&&(e.inread||e.overroll&&"youtube_id"===t.content_type&&0===t.overlay_start)},n.prototype.renderPlank=function(){var t,e,n,s,o;for(r.utils.addStyles('.buzzplayer-clickthrough-plank {\n\tbackground-image: url("'+this.core.params.origin+'/img/globe.svg");\n}'),s=i.createElement("div"),s.className=this.params.baseClass,t=this.getPlankClasses(),e=0,n=t.length;e<n;e++)o=t[e],r.utils.add_class(o,s);if(s.innerHTML='<div class="buzzplayer-clickthrough-plank-text">\n\t'+(this.core.loaded_data.clickthrough_text||"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442")+"\n</div>",s.style.zIndex="210",this.core.wrap.appendChild(s),this.plank=s,this.params.drawn=!0,this.params.resized)return this.resize()},n.prototype.getModClassName=function(t){return this.params.baseClass+"_"+t},n.prototype.getPlankClasses=function(){var t,e;return t=[this.params.position],t.push("left"===(e=this.params.position)||"right"===e?"horizontal":"vertical"),t.push.apply(t,this.params.isBlinking?["blink","hidden"]:["move","initial"]),t.map(function(t){return function(e){return t.params.baseClass+"-"+e}}(this))},n.prototype.showOnTick=function(t){return!this.params.isShown&&!this.params.isBlinking&&this.params.showOnTick&&this.plank&&t>=this.params.tickToShow},n.prototype.showOnTime=function(){return!this.params.isBlinking&&!this.params.showOnTick&&!this.params.wasHiddenOnProgress&&this.plank},n.prototype.couldNotHide=function(){return!this.params.isShown||!this.params.wasHiddenOnProgress},n.prototype.animate=function(t){var e;if(this.params.isShown!==t)return!t||this.params.isBlinking||this.params.wasHiddenOnProgress||r.utils.remove_class(this.params.baseClass+"-initial",this.plank),e=t?"remove_class":"add_class",r.utils[e](this.params.hiddenClass,this.plank),this.params.isShown=t,t?void 0:this.params.wasHiddenOnProgress=!0},n}(r.Modules.BaseModule),r.Modules.Mixins.Plank(n.prototype),r.Modules.Widgets.Player.Modules.ClickthroughURLPlank=n}(window,document,Buzzoola),function(e,i,n){return n.Modules.Widgets.Player.Modules.ControlBar=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,e),s.prototype.triggersEvents=["controls:drawn","controls:shown"],s.prototype.callsStrategies=["widget:pause","widget:play","widget:toggleMute","widget:toggleFullscreen","widget:toggleVR","widget:getTotalTime","embed_svg"],s.prototype.handlesEvents={drawn:function(){return this.draw()},"event:time":function(t){if(!this.disableControls)return this.time=Math.round(t),(!this.duration||isNaN(this.duration)||this.duration<=0)&&(this.duration=Math.floor(this.callStrategy("widget:getTotalTime")),this.duration>0&&this.updateTime(this.controls.duration,this.duration)),this.updateTime(this.controls.current,this.time),this.updateProgress()},"widget:volume_changed":function(t){var e;if(e=!t,e!==this.muted)return this.muted=e,this.setMuted()},"widget:state_changed":function(t){if("duration"===t&&(this.duration=Math.floor(this.callStrategy("widget:getTotalTime")),this.disableControls||(this.duration>0&&this.updateTime(this.controls.duration,this.duration),this.updateProgress())),"play"===t&&(this.keepPlayButton&&this.togglePlayButton(!0),!this.keepPlayButton&&this.disablePlayButtonLater&&(this.togglePlayButton(!1),this.disablePlayButtonLater=null),this.started||(this.started=!0,this.onOut&&this.onOut()),this.paused&&(this.paused=!1,this.setPaused())),~["pause","ended","finish"].indexOf(t)&&(this.paused||(this.paused=!0,this.setPaused()),"pause"!==t&&(this.time=0,!this.disableControls)))return this.updateTime(this.controls.current,this.time),this.updateProgress()},"before:destroyed":function(){if(this.showPanels&&!n.utils.bowser.mobile&&!n.utils.bowser.tablet&&this.onOver)return n.utils.remove_event_listener("mouseover",this.onOver,this.core.widget_div),n.utils.remove_event_listener("mouseout",this.onOut,this.core.widget_div)},"widget:resize":function(){var t;if(t=1<=arguments.length?r.call(arguments,0):[],!this.disableControls&&!this.showPanels)return this.width=t[0],this.height=t[1],this.resized=!0,this.drawn?this.resize():void 0}},s.prototype.init=function(){var t,e;return t=this.core.loaded_data,this.paused=!0,this.muted=!1,this.duration=this.time=0,this.drawn=!1,this.resized=!1,this.disableControls="rutube_id"===t.content_type||"vimeo"===t.content_type&&(n.utils.bowser.mobile||n.utils.bowser.tablet),this.fullscreenHide=("vpaid"===(e=t.content_type)||"vast"===e)&&"application/javascript"===t.content.mimeType,this.showPanels=t.player_show_panels&&!this.disableControls,this.keepPlayButton=this.core.loaded_data.auto_play&&"video_url"===t.content_type&&(this.core.params.inread||this.core.params.overroll),this.controls={}},s.prototype.draw=function(){var t,e,r,s;return this.callStrategy("embed_svg","play_button"),e=i.createElement("div"),e.className="buzzplayer-control_bar",r='<div class="buzzplayer-control_bar-control buzzplayer-control_bar-play bz-play"></div>\n<div class="buzzplayer-control_bar-control buzzplayer-control_bar-time buzzplayer-control_bar-time-current bz-current">00:00</div>\n<div class="buzzplayer-control_bar-time buzzplayer-control_bar-time-divider">/</div>\n<div class="buzzplayer-control_bar-control buzzplayer-control_bar-time buzzplayer-control_bar-time-duration bz-duration">00:00</div>\n<div class="buzzplayer-control_bar-control buzzplayer-control_bar-progress">\n\t\t<div class="buzzplayer-control_bar-progress-holder">\n\t\t\t\t<div class="buzzplayer-control_bar-control buzzplayer-control_bar-progress-value bz-progress"></div>\n\t\t</div>\n</div>',this.fullscreenHide||(r+='<div class="buzzplayer-control_bar-control buzzplayer-control_bar-fullscreen bz-fullscreen"></div>'),this.core.loaded_data.content.vr&&"3dVideo"!==this.core.loaded_data.content.vr_options.videoType&&(r+='<div class="buzzplayer-control_bar-control buzzplayer-control_bar-vr bz-vr"></div>'),(!this.core.isUsingVideoSlot()||this.core.options.videoSlot instanceof HTMLElement)&&(r+='<div class="buzzplayer-control_bar-control buzzplayer-control_bar-mute bz-mute"></div>'),e.innerHTML=r,["play","current","duration","progress","fullscreen","vr","mute"].forEach(function(t){return function(i){return t.controls[i]=e.querySelector(".bz-"+i)}}(this)),this.core.widget_div.appendChild(e),this.el=e,s=i.createElement("div"),s.innerHTML='<svg viewBox="0 0 100 100" class="buzzplayer-control_bar-big_play_button_icon">\n\t<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#buzz_play_button"></use>\n</svg>',s.className="buzzplayer-control_bar-big_play_button",this.core.widget_div.appendChild(s),this.controls.bigPlayButton=s,t=n.utils.bowser,this.disablePlayButtonLater=t.android&&t.chrome&&parseInt(t.version,10)>55,(this.disableControls||this.showPanels||this.core.loaded_data.auto_play&&!this.disablePlayButtonLater)&&this.togglePlayButton(!1),this.showPanels?this.trigger("controls:shown",!0):n.utils.add_class("buzzplayer-control_bar-hidden",e),this.disableControls&&n.utils.add_class("buzzplayer-control_bar-disable",e),this.initHandlers(),this.setPaused(),this.drawn=!0,this.resized&&this.resize(),this.trigger("controls:drawn")},s.prototype.resize=function(){var t,e;return"vimeo"!==this.core.loaded_data.content_type||this.disableControls||(t=this.width<300&&"add_class"||"remove_class",n.utils[t]("buzzplayer-control_bar-disabled",this.el),this.togglePlayButton(this.width>=300)),this.width<500?(this.styleChanged=!0,e=this.controls.bigPlayButton.style,e.width=e.height=.15*this.width+"px",e.marginTop=e.marginLeft=.075*-this.width+"px"):this.styleChanged?(this.styleChanged=!1,this.controls.bigPlayButton.removeAttribute("style")):void 0},s.prototype.togglePlayButton=function(t){var e;return e=t&&"remove_class"||"add_class",n.utils[e]("buzzplayer-control_bar-big_play_button-disabled",this.controls.bigPlayButton)},s.prototype.setPaused=function(){var t,e,i;return i=this.paused&&["add_class","remove_class"]||["remove_class","add_class"],t=i[0],e=i[1],n.utils[t]("buzzplayer-control_bar-paused",this.el),n.utils[e]("buzzplayer-control_bar-playing",this.el),n.utils[e]("buzzplayer-control_bar-big_play_button-hidden",this.controls.bigPlayButton)},s.prototype.setMuted=function(){var t;return t=this.muted&&"add_class"||"remove_class",n.utils[t]("buzzplayer-control_bar-muted",this.el)},s.prototype.updateTime=function(t,e){var i,r;return i=("0"+Math.floor(e/60)).slice(-2),r=("0"+e%60).slice(-2),n.utils.setText(t,i+":"+r)},s.prototype.updateProgress=function(){var t;return t=Math.round(100*this.time/this.duration),this.controls.progress.style.width=t+"%"},s.prototype.initHandlers=function(){var t,e;if(n.utils.add_event_listener("click",function(t){return function(){return t.callStrategy("widget:"+(t.paused&&"play"||"pause"))}}(this),this.controls.play),n.utils.add_event_listener("click",function(t){return function(){return t.callStrategy("widget:play")}}(this),this.controls.bigPlayButton),null!=this.controls.mute&&n.utils.add_event_listener("click",function(t){return function(){return t.callStrategy("widget:toggleMute",!0)}}(this),this.controls.mute),null!=this.controls.fullscreen&&n.utils.add_event_listener("click",function(t){return function(){return t.callStrategy("widget:toggleFullscreen")}}(this),this.controls.fullscreen),null!=this.controls.vr&&n.utils.add_event_listener("click",function(t){return function(){return t.callStrategy("widget:toggleVR")}}(this),this.controls.vr),this.showPanels&&!n.utils.bowser.mobile&&!n.utils.bowser.tablet)return t=null,e="buzzplayer-control_bar-collapsed",this.onOver=function(i){return function(){if(i.trigger("controls:shown",!0),clearTimeout(t),null!=i.el)return n.utils.remove_class(e,i.el)}}(this),this.onOut=function(i){return function(){return t=setTimeout(function(){if(i.trigger("controls:shown",!1),null!=i.el)return n.utils.add_class(e,i.el)},3e3)}}(this),n.utils.add_event_listener("mouseover",this.onOver,this.core.widget_div),n.utils.add_event_listener("mouseout",this.onOut,this.core.widget_div)},s}(n.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.Events=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.triggersEvents=["event:player_seen_first_time","event:state","event:tick","event:time","error","widget:state_changed"],i.prototype.callsStrategies=["widget:getCurrentTime","widget:getTotalTime"],i.prototype.handlesEvents={"engagement:seenFirstTime":function(){return this.triggerPlayerSeenOnce()},"widget:state_changed":function(t){if("ready"!==t||!this.playerIsReady){switch(t){case"play":this.core.isManagedByIMA()&&null==this.updateInterval&&(this.updateInterval=setInterval(function(t){return function(){return t.updateTimeInfo()}}(this),100)),this.played=!0,this.triggerPlayerSeenOnce();break;case"pause":case"finish":this.timeInactiveVideo=0,"finish"===t&&(clearInterval(this.updateInterval),this.updateTimeInfo());break;case"videoComplete":clearInterval(this.updateInterval),this.updateTimeInfo(),this.videoComplete=!0}return this.core.state.state!==t&&(this.core.state.state=t,this.trigger("event:state",t),"ready"===t)?(this.core.isManagedByIMA()||(this.updateInterval=setInterval(function(t){return function(){return t.updateTimeInfo()}}(this),100)),this.playerIsReady=!0):void 0}},"overroll:shown":function(){return this.triggerPlayerSeenOnce()},"vpaidjs:adStarted":function(){return this.adStarted=!0,this.triggerPlayerSeenOnce()},terminated:function(){return clearInterval(this.updateInterval)}},i.prototype.init=function(){return this.playerIsReady=!1,this.tick0Sent=!1,this.playerSeenOnce=!1,this.timeInactiveVideo=0,this.isVpaid="application/javascript"===this.core.loaded_data.content.mimeType,this.adStarted=!this.isVpaid},i.prototype.triggerPlayerSeenOnce=function(){if(this.playerSeenOnce===!1&&this.core.state.seen===!0&&this.adStarted)return this.playerSeenOnce=!0,this.trigger("event:player_seen_first_time")},i.prototype.updateTimeInfo=function(){var t,e,i,r,n;if(t=this.callStrategy("widget:getCurrentTime"),n=this.callStrategy("widget:getTotalTime"),!(!n||t<0||n<0))return e=Math.round(t/n*100)/100,r=this.videoComplete?10:Math.round(10*e),this.isVpaid||!this.played||this.core.state.slice===r&&this.tick0Sent||(this.tick0Sent=!0,this.core.state.slice=r,this.trigger("event:tick",r)),this.core.state.current_time!==t?(this.timeInactiveVideo=0,this.core.state.current_time=t,this.core.state.total_time=n,this.trigger("event:time",t)):"pause"!==this.core.state.state&&this.played&&(this.timeInactiveVideo+=1,this.timeInactiveVideo>=120&&"vast"!==(i=this.core.loaded_data.content_type)&&"vpaid"!==i&&"audioroll"!==i)?this.trigger("error","video inactive > 12 sec"):void 0},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.Expandable=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.addsStrategies=[["get_wrap",2,"getWrap"]],n.prototype.callsStrategies=["embed_svg"],n.prototype.handlesEvents={"event:state":function(t){var e,i,r,n,s,o,a;if(e=this.core.loaded_data.content_type,i=!this.core.loaded_data.clickthrough_URL,o="youtube_id"===e&&!this.core.loaded_data.auto_play&&i,s="vpaid"===e&&i,"finish"===t&&("audioroll"===e||s||o))return n=this.core.couldBeReloaded()?["destroy",!1]:this.core.params.expandable?["collapse",!0]:["destroy",!0],r=n[0],a=n[1],this.core[r](a)}},n.prototype.getWrap=function(){var t,e,n,s,o;return this.callStrategy("embed_svg","powered"),t=r.utils.bowser,e=this.core.loaded_data,n=i.createElement("div"),s=r.utils.bowser.mobile||r.utils.bowser.tablet?'<div class="buzz-ad-title buzz-ad-title_mobile-engage">\n\t<span class="buzz-ad-title__el"><hr class="buzz-ad-title__line" /></span>\n\t<span class="buzz-ad-title__el buzz-ad-title__text">\u0420\u0435\u043a\u043b\u0430\u043c\u0430</span>\n\t<span class="buzz-ad-title__el"><hr class="buzz-ad-title__line" /></span>\n</div>':'<div class="buzz-ad-title">\u0420\u0435\u043a\u043b\u0430\u043c\u0430</div>',s+='<div class="buzz_default">\n\t<div class=buzz_code></div>',
e.clickthrough_URL&&(t.mobile||t.tablet)&&(o=!!e.action_button_title&&e.action_button_title||"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442",s+='<div class="buzz-default__long-block buzz-default__long-block_no-padd">\n\t<div class="buzz-default__install b-def-install b-def-install_mobile-site-link">\n\t\t<a href="'+e.clickthrough_URL+'" target="_blank" class="b-def-install__btn">\n\t\t\t<span class="b-def-install__btn__wrapper">'+o+"</span>\n\t\t</a>\n\t</div>\n</div>"),s+="\t"+this.getPoweredButton()+"\n</div>",n.innerHTML=s,n.style.position="relative",n},n}(r.Modules.BaseModule),r.Modules.Mixins.PoweredBy(r.Modules.Widgets.Player.Modules.Expandable.prototype)}(window,document,Buzzoola),function(e,i,r){var n;return n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r.Modules.Widgets.Player.Modules.FullscreenApi=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,e),s.prototype.addsStrategies=[["fullscreen:enter",0,"enterFullscreen"],["fullscreen:exit",0,"exitFullscreen"],["fullwindow:enter",0,"enterFullWindow"],["fullwindow:exit",0,"exitFullWindow"],["fullscreen:element",0,"getFullscreenElement"],["fullscreen:is_available",0,"isAvailable"],["fullscreen:get_event",0,"getFullscreenEvent"],["fullscreen:active",0,"isFullscreen"]],s.prototype.triggersEvents=["widget:fullwindowchange"],s.prototype.init=function(){var t,e,i,r;for(this.classes={screen:"buzz_fullscreen_el",window:"buzz_fullwindow_el",mobile:"buzz_full_mobile_el"},r=[],e=0,i=n.length;e<i;e++){if(t=n[e],t[1]in document){this.api={},["enter","exit","element","enabled","event"].forEach(function(e){return function(i,r){return e.api[i]=t[r]}}(this));break}r.push(void 0)}return r},s.prototype.enterFullscreen=function(t,e){var i;if(null==e&&(e=!1),null!=t){i=r.utils.bowser;try{null!=this.api?t[this.api.enter]():i.ios&&!e?t.webkitEnterFullScreen():this.enterFullWindow(t)}catch(n){}return r.utils.add_class(this.classes.screen,t),(i.mobile||i.tablet)&&r.utils.add_class(this.classes.mobile,t),this.fullscreenElement=t}},s.prototype.exitFullscreen=function(t){var e;return e=r.utils.bowser,r.utils.remove_class(this.classes.screen,this.fullscreenElement),(e.mobile||e.tablet)&&r.utils.remove_class(this.classes.mobile,this.fullscreenElement),this.fullWindowElement?this.exitFullWindow():this.getFullscreenElement()?(null!=this.api?i[this.api.exit]():r.utils.bowser.ios&&null!=t&&t.webkitExitFullScreen(),this.fullscreenElement=null):void 0},s.prototype.enterFullWindow=function(t){return this.fullWindowElement=t,r.utils.add_class(this.classes.window,t),this.trigger("widget:fullwindowchange",!0)},s.prototype.exitFullWindow=function(){return r.utils.remove_class(this.classes.window,this.fullWindowElement),this.fullWindowElement=null,this.trigger("widget:fullwindowchange",!1)},s.prototype.getFullscreenEvent=function(){var t,e;return null!=(t=null!=(e=this.api)?e.event:void 0)?t:null},s.prototype.getFullscreenElement=function(){return null!=this.api?i[this.api.element]:this.fullscreenElement},s.prototype.isAvailable=function(){return null!=this.api&&i[this.api.enabled]},s.prototype.isFullscreen=function(){var t;return t=this.getFullscreenElement(),t&&r.utils.is_child(t,this.core.container)},s}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.HeaderInfoWrap=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.callsStrategies=["embed_svg"],n.prototype.addsStrategies=[["get_wrap",5,"getWrap"]],n.prototype.init=function(){return this.default_font="Verdana"},n.prototype.getFont=function(t){return null!=t?r.utils.getPropertyValue(t,"font-family"):null},n.prototype.getWrap=function(){var t,e,n,s,o,a,l,u,c,d,h,p,g,m,y;return this.callStrategy("embed_svg","powered"),a=i.createElement("div"),d="",t=r.utils.bowser,n=this.core.loaded_data,c=n.show_title&&!!n.title,u=!!n.sponsor_logo,l=!!n.clickthrough_URL&&(t.mobile||t.tablet),d+='<div class="buzz-ad-title buzz-ad-title_mobile-engage">\n\t<span class="buzz-ad-title__el"><hr class="buzz-ad-title__line" /></span>\n\t<span class="buzz-ad-title__el buzz-ad-title__text">\u0420\u0435\u043a\u043b\u0430\u043c\u0430</span>\n\t<span class="buzz-ad-title__el"><hr class="buzz-ad-title__line" /></span>\n</div>',d+='<div class="buzz-default">',c&&(d+='<div class="buzz-default__long-block b-def-sponsor b-def-sponsor_ontop">',d+=n.sponsor_link?'<a href="'+n.sponsor_link+'" target="_blank" class="b-def-sponsor__link">':'<div class="b-def-sponsor__link">',u&&(d+='<span class="b-def-sponsor__logo">\n\t<img src="'+n.sponsor_logo+'" alt="" class="b-def-sponsor__logo__img">\n</span>'),t=r.utils.bowser,y=this.core.loaded_data,e=y.content_type,p="infeed_video"===e,g="video_url"===e&&t.iphone&&parseInt(t.version,10)<10,h=(y.auto_play||p||g)&&y.auto_play!==-1,s=this.core.params.minimize&&this.core.params.inread&&h?this.core.container.parentNode:this.core.container,o=this.getFont(s.nextElementSibling)||this.getFont(s.previousElementSibling)||this.getFont(s.parentNode),o=o.replace(/[\"\']/g,""),"Times New Roman"!==o&&"Times"!==o||(o=this.default_font),d+='<span class="b-def-sponsor__wrap" style="font-family: '+o+' !important"><div class="b-def-sponsor__txt">'+n.title+"</div>",n.description&&(d+='<div class="b-def-sponsor__txt">'+n.description+"</div>"),d+="</span>",d+=n.sponsor_link?"</a>":"</div>",d+="</div>"),d+="<div class=\"buzz__default__player\">\n\t<div class=\"buzz_code\" data-width='16' data-height='9' data-resize></div>\n</div>",l&&(m=!!n.action_button_title&&n.action_button_title||"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442",d+='<div class="buzz-default__long-block buzz-default__long-block_no-padd">\n\t<div class="buzz-default__install b-def-install b-def-install_mobile-site-link">\n\t\t<a href="'+n.clickthrough_URL+'" target="_blank" class="b-def-install__btn">\n\t\t\t<span class="b-def-install__btn__wrapper">'+m+"</span>\n\t\t</a>\n\t</div>\n</div>"),d+="\t"+this.getPoweredButton()+"\n</div>",a.innerHTML=d,a.style.position="relative",a},n}(r.Modules.BaseModule),r.Modules.Mixins.PoweredBy(r.Modules.Widgets.Player.Modules.HeaderInfoWrap.prototype)}(window,document,Buzzoola),function(e,i,r){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.callsStrategies=["clickthrough_URL:open","embed_svg"],n.prototype.handlesEvents={"event:time":function(t){if(this.showOnTime())return!this.params.isShown&&this.params.showTime<=t&&(this.animate(!0),this.params.isMobile&&this.delayedHide()),this.params.isShown&&!this.params.isMobile&&this.params.hideTime&&this.params.hideTime<=t?this.animate(!1):void 0}},n.prototype.availableSizes=[400],n.prototype.initCustomParams=function(){return this.params.baseClass="bpinstall-link",this.params.hiddenClass="bpinstall-link_inactive",this.params.fullClass="bpinstall-link_active",this.params.reactOnHover=!this.params.isMobile},n.prototype.renderPlank=function(){var t;if(this.callStrategy("embed_svg","out"),t=i.createElement("div"),t.className=this.params.baseClass,r.utils.add_class(this.params.hiddenClass,t),t.innerHTML='<div class="bpinstall-link__wrapper">\n\t<div class="bpinstall-link__app">\n\t\t<img src="'+this.core.loaded_data.sponsor_logo+'" alt="" class="bpinstall-link__app__img bpinstall__img">\n\t</div>\n\t<div class="bpinstall-link__text">\n\t\t<div class="bpinstall-link__text__text">'+(this.core.loaded_data.clickthrough_text||"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c")+'</div>\n\t</div>\n\t<div class="bpinstall-link__out">\n\t\t<svg class="buzzplayer-svg-icon buzzplayer-svg-icon_white" viewBox="0 0 100 100">\n\t\t\t<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#buzz_out"></use>\n\t\t</svg>\n\t</div>\n</div>',t.style.zIndex="210",this.core.wrap.appendChild(t),this.plank=t,this.params.drawn=!0,this.params.resized)return this.resize()},n.prototype.getModClassName=function(t){return this.params.baseClass+"_w-"+t},n.prototype.showOnTick=function(t){return!this.params.isShown&&this.params.showOnTick&&this.plank&&t>=this.params.tickToShow},n.prototype.showOnTime=function(){return!this.params.showOnTick&&!this.params.wasHiddenOnProgress&&this.plank},n.prototype.couldNotHide=function(){return!(this.params.isMobile||this.params.isShown&&this.params.wasHiddenOnProgress)},n.prototype.animate=function(t){var e;if(this.params.isShown!==t)return t&&!this.params.wasHiddenOnProgress&&(r.utils.add_class(this.params.fullClass,this.plank),r.utils.remove_class(this.params.hiddenClass,this.plank)),e=t?"add_class":"remove_class",r.utils[e](this.params.fullClass,this.plank),this.params.isShown=t,t?void 0:this.params.wasHiddenOnProgress=!0},n}(r.Modules.BaseModule),r.Modules.Mixins.Plank(n.prototype),r.Modules.Widgets.Player.Modules.InstallPlank=n}(window,document,Buzzoola),function(e,i,n){return n.Modules.Widgets.Player.Modules.InstallScreen=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,e),s.prototype.triggersEvents=["install_screen:drawn"],s.prototype.callsStrategies=["clickthrough_URL:open"],s.prototype.handlesEvents={"event:state":function(t){if("finish"===t)return null==this.foreground?(this.draw(),this.initHTMLEvents(),this.trigger("install_screen:drawn")):void 0},"widget:resize":function(){var t;if(t=1<=arguments.length?r.call(arguments,0):[],this.params.width=t[0],this.params.height=t[1],this.params.resized=!0,this.params.drawn)return this.resize()}},s.prototype.availableSizes=[400,600],s.prototype.init=function(){return this.params={thumbnail:this.core.loaded_data.thumbnail,logo:this.core.loaded_data.sponsor_logo,title:this.core.loaded_data.title,drawn:!1,resized:!1}},s.prototype.draw=function(){var t,e;if(t=i.createElement("div"),t.className="bpinstall-end",e="",this.params.thumbnail&&(e='<div\n\tclass="bpinstall-end__thumb"\n\tstyle="background-image: url(\''+this.params.thumbnail+"')\">\n</div>"),e='<div class="bpinstall-end__bg"></div>\n<div class="bpinstall-end__blocks bpinstall-end-blocks">\n\t<div class="bpinstall-end-blocks__app">\n\t\t<img src="'+this.params.logo+'" alt="" class="bpinstall__img">\n\t</div>\n\t<div class="bpinstall-end-blocks__text">'+this.params.title+'</div>\n\t<div class="bpinstall-end-blocks__btn">\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c</div>\n</div>',t.innerHTML=e,this.foreground=t,this.core.wrap.appendChild(t),this.params.drawn=!0,this.params.resized)return this.resize()},s.prototype.resize=function(){var t,e,i,r,s;for(t=null,r=this.availableSizes,e=0,i=r.length;e<i;e++)if(s=r[e],s>this.params.width){t=s;break}if(t!==this.params.currentMod)return null!=this.params.currentMod&&n.utils.remove_class("bpinstall-end_w-"+this.params.currentMod,this.foreground),null!=t&&n.utils.add_class("bpinstall-end_w-"+t,this.foreground),this.params.currentMod=t},s.prototype.initHTMLEvents=function(){var t;if(this.foreground)return t=this.foreground.querySelector(".bpinstall-end-blocks__btn"),n.utils.add_event_listener("click",function(t){return function(){return t.callStrategy("clickthrough_URL:open"),setTimeout(function(){return t.core.destroy()},0),!1}}(this),t)},s}(n.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.Overroll=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.triggersEvents=["overroll:destroy_inactive"],r.prototype.addsStrategies=[["get_wrap",3,"getWrap"]],r.prototype.callsStrategies=["close_button:is_shown","resize:calcWidth","resize:calcHeight","overroll:stopDestructionTimer","widget:setVolume"],r.prototype.moduleName="overroll",r.prototype.handlesEvents={"close_button:drawn":function(){if(!this.callStrategy("close_button:is_shown")&&this.core.loaded_data.auto_play<=0)return this.message=this.renderMessageContainer()},"event:state":function(t){switch(t){case"ready":if(!this.core.isUsingVideoSlot())return this.callStrategy("widget:setVolume",50);break;case"start":return this.message&&(this.message.innerHTML=""),this.callStrategy("overroll:stopDestructionTimer");case"finish":if("install"!==this.core.loaded_data.click_event_view)return this.core.destroy()}}},r.prototype.init=function(){return this.state=""},r.prototype.getWrap=function(){var t;return t=i.createElement("div"),t.innerHTML="<div class='buzz_code' data-width='16' data-height='9'></div>",t},r.prototype.renderMessageContainer=function(){var t;return t=i.createElement("div"),t.className="buzz__skip__info",t.style.cssText="position: absolute; top: 10px; left: 0; color: white; text-shadow: 2px 2px 2px #000; font-size: 13px; font-family: sans-serif; text-align: center; z-index: 99999; width: 100%;",t.innerHTML="<div style=' border-radius: 2px; opacity: 0.8; display: inline-block; padding: 10px; background-color: #000;'> \u0424\u0438\u043b\u044c\u043c \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0433\u043e \u0440\u043e\u043b\u0438\u043a\u0430 </div>",this.core.wrap.appendChild(t),t},r}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.PauseWhenUnseen=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["widget:pause"],i.prototype.handlesEvents={"engagement:user_left_page":function(){return this.core.state.playPageBack="play"===this.core.state.state,this.pause()},"engagement:unseen":function(){return this.pause()}},i.prototype.pause=function(){if("pause"!==this.core.state.state&&("ready"!==this.core.state.state||"application/javascript"===this.core.loaded_data.content.mimeType&&!this.core.isUsingVideoSlot()))return this.callStrategy("widget:pause")},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.Repeat=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["widget:play"],i.prototype.handlesEvents={"event:state":function(t){if("finish"===t)return this.callStrategy("widget:play")}},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,n){return n.Modules.Widgets.Player.Modules.ReplayScreen=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,e),s.prototype.triggersEvents=["replay_screen:drawn","replay_button:click"],s.prototype.callsStrategies=["widget:play","clickthrough_URL:open"],s.prototype.handlesEvents={"widget:resize":function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],this.params.width=t[0],this.params.height=t[1],this.resize()},"event:state":function(t){if("finish"===t)return null==this.foreground&&(this.draw(this.core.wrap),this.trigger("replay_screen:drawn")),this.show(),this.params.enableTimer?this.delayedHide():void 0},terminated:function(){return clearTimeout(this.collapseTimeout)}},s.prototype.init=function(){return this.params={thumbnail:this.core.loaded_data.thumbnail,enableTimer:this.core.params.inread||this.core.params.overroll,clickthrough_URL:this.core.loaded_data.clickthrough_URL,action_button_title:this.core.loaded_data.action_button_title}},s.prototype.draw=function(t){var e,r,s,o,a;return s=i.createElement("div"),n.utils.add_class("buzzplayer-replay_screen",s),r=this.core.loaded_data,e=r.content_type,(n.utils.bowser.mobile||n.utils.bowser.tablet)&&n.utils.add_class("buzzplayer-replay_screen-mobile",s),o="",this.params.thumbnail&&(o='<div\n\tclass="buzzplayer-replay_screen-thumbnail"\n\tstyle="background-image: url(\''+this.params.thumbnail+"')\">\n</div>"),o+='<div class="buzzplayer-replay_screen-background"></div>\n<div class="buzzplayer-replay_screen-aligner"></div>\n<div class="buzzplayer-replay_screen-container">',"vpaid"===e||"youtube_id"===e&&!r.auto_play||(o+='<a class="buzzplayer-replay_screen-link buzzplayer-replay_screen-action">\n\t<div class="buzzplayer-replay_screen-link-image buzzplayer-replay_screen-link-image-replay buzzplayer-svg-sprite"></div>\n\t<span class="buzzplayer-replay_screen-link-text">\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437</span>\n</a>'),this.params.clickthrough_URL&&(o+='<a href="'+this.params.clickthrough_URL+'" target="_blank" class="buzzplayer-replay_screen-link buzzplayer-replay_screen-click">\n\t<div class="buzzplayer-replay_screen-link-image buzzplayer-replay_screen-link-image-away buzzplayer-svg-sprite"></div>\n\t<span class="buzzplayer-replay_screen-link-text">'+(this.params.action_button_title||"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442")+"</span>\n</a>"),this.params.enableTimer&&(o+='<div class="buzzplayer-replay_screen-timer"></div>'),o+="</div>",s.innerHTML=o,this.foreground=s,this.containerEl=this.foreground.querySelector(".buzzplayer-replay_screen-container"),a=this.foreground.querySelectorAll(".buzzplayer-replay_screen-link-image"),this.iconEls=Array.prototype.slice.call(a),this.params.enableTimer&&(this.timerEl=this.foreground.querySelector(".buzzplayer-replay_screen-timer")),this.initHTMLEvents(),this.resize(),this.hide(),t.appendChild(s)},s.prototype.hide=function(){var t;return null!=(t=this.foreground)?t.style.display="none":void 0},s.prototype.show=function(){var t;return null!=(t=this.foreground)?t.style.display="block":void 0},s.prototype.resize=function(){var t,e,i,r,n,s,o,a,l,u,c,d,h,p,g,m,y,f;if(this.foreground)if(this.foreground.style.width=this.params.width+"px",this.foreground.style.height=this.params.height+"px",this.params.width<300){for(this.styleChanged=!0,f=.1185*this.params.height,d=.6*f,c=.75*f,this.containerEl.style.fontSize=f+"px",h=this.iconEls,r=0,s=h.length;r<s;r++)e=h[r],e.style.width=e.style.height=f+"px";if(null!=this.links){for(p=this.links,m=[],i=n=0,o=p.length;n<o;i=++n)l=p[i],l.style.padding=d+"px "+c+"px",m.push(l.style.marginBottom=.5*f+"px");return m}}else if(this.styleChanged){for(this.styleChanged=!1,g=[this.containerEl].concat(this.iconEls,this.links),y=[],u=0,a=g.length;u<a;u++)t=g[u],y.push(t.removeAttribute("style"));return y}},s.prototype.initHTMLEvents=function(){var t,e;if(this.foreground)return this.links=[],e=this.foreground.querySelector("a.buzzplayer-replay_screen-action"),t=this.foreground.querySelector("a.buzzplayer-replay_screen-click"),null!=e&&(this.links.push(e),n.utils.add_event_listener("click",function(t){return function(){return t.play(),!1}}(this),e)),null!=t?(this.links.push(t),n.utils.add_event_listener("click",function(t){return function(e){return e.preventDefault(),t.callStrategy("clickthrough_URL:open"),!1}}(this),t)):void 0},s.prototype.play=function(){return clearTimeout(this.collapseTimeout),this.callStrategy("widget:play"),this.hide(),this.params.enableTimer&&(this.timerEl.style.width="0"),this.trigger("replay_button:click")},s.prototype.delayedHide=function(){var t;return t=this.core.params.overroll||this.core.couldBeReloaded()?function(t){return function(){return t.core.destroy()}}(this):this.core.params.expandable?function(t){return function(){return t.core.collapse(!0)}}(this):this.core.params.inread?function(t){return function(){return t.core.destroy()}}(this):function(){},setTimeout(function(t){return function(){return t.timerEl.style.width="100%"}}(this),100),this.collapseTimeout=setTimeout(t,5100)},s}(n.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,n){return n.Modules.Widgets.Player.Modules.ShareButtons=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,e),s.prototype.callsStrategies=["widget:pause","embed_svg"],s.prototype.handlesEvents={"event:state":function(t){if("ready"===t)return this.renderButtons(),this.addEventsListenersButtonContainer()},"before:destroyed":function(){if(this.onOver&&n.utils.remove_event_listener("mouseover",this.onOver,this.core.container),this.onOut)return n.utils.remove_event_listener("mouseout",this.onOut,this.core.container)},"widget:resize":function(){var t;if(t=1<=arguments.length?r.call(arguments,0):[],this.params.width=t[0],this.params.height=t[1],this.params.resized=!0,this.params.drawn)return this.resize()}},s.prototype.init=function(){var t;if(s.__super__.init.apply(this,arguments),this.params={resized:!1,drawn:!1,sizeMultiplier:"top"===(t=this.sideShareButtons)||"bottom"===t?2/3:1,overlay:!1},"overlay_bottom"===this.sideShareButtons)return this.sideShareButtons="bottom",this.params.overlay="youtube_id"===this.core.loaded_data.content_type},s.prototype.renderButtons=function(){var t,e,r,n,s,o;for(this.callStrategy("embed_svg",["facebook","vkontakte","twitter","moimir","odnoklassniki"]),e=i.createElement("div"),e.className="buzzplayer-social_block "+this.sideShareButtons,this.params.overlay&&(e.className+=" bottom_full"),this.core.wrap.insertBefore(e,this.core.wrap.firstChild),this.shareButtons.indexOf("embed")!==-1&&this.shareButtons.splice(this.shareButtons.indexOf("embed"),1),o=this.shareButtons,n=0,s=o.length;n<s;n++)r=o[n],"embed"!==r&&(t=i.createElement("div"),t.setAttribute("soc_name",r),t.className="buzzplayer-social buzzplayer-"+r,t.innerHTML="<svg viewBox='0 0 100 100' class='buzzplayer-social__icon'><use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_"+r+"'></use></svg>",e.appendChild(t));if(this.buttonContainer=e,this.buttons=e.children,this.params.drawn=!0,this.needToResize())return this.resize()},s.prototype.resize=function(){var t,e,i,r,n,s,o,a,l,u,c;if(this.needToResize()){for(this.styleChanged=!0,s=function(){switch(this.sideShareButtons){case"left":case"right":return this.params.height;case"top":case"bottom":return this.params.width}}.call(this),c=Math.max(8,(this.params.sizeMultiplier*s-70)/this.shareButtons.length),"left"!==(o=this.sideShareButtons)&&"right"!==o||this.buttonContainer.setAttribute("style","width: "+c+"px !important"),a=this.buttons,u=[],e=0,r=a.length;e<r;e++)t=a[e],u.push(t.style.cssText="width: "+c+"px !important;\nheight: "+c+"px !important;");return u}if(this.styleChanged){for(this.styleChanged=!1,l=this.buttons,i=0,n=l.length;i<n;i++)t=l[i],t.removeAttribute("style");return this.buttonContainer.removeAttribute("style")}},s.prototype.needToResize=function(){var t;return!!this.params.resized&&(t=function(){switch(this.sideShareButtons){case"left":case"right":return"height";case"top":case"bottom":return"width"}}.call(this),this.params.sizeMultiplier*this.params[t]<32*this.shareButtons.length+70)},s.prototype.addEventsListenersButtonContainer=function(){if(n.utils.add_event_listener("click",function(t){return function(e){var i;try{if(i=e.target.getAttribute("soc_name"),t.shareButtons.indexOf(i)!==-1)return t.callStrategy("widget:pause"),t.share(i)}catch(r){return e=r,console.log("SHARE ERROR",e)}}}(this),this.buttonContainer),n.utils.bowser.msie)return this.onOver=function(t){return function(){if(!t.params.overlay)return t.buttonContainer.style[t.sideShareButtons]="0px",n.utils.remove_event_listener("mouseover",t.onOver,t.core.container),n.utils.add_event_listener("mouseout",t.onOut,t.core.container)}}(this),this.onOut=function(t){return function(){if(!t.params.overlay)return t.buttonContainer.style[t.sideShareButtons]="-30px",n.utils.add_event_listener("mouseover",t.onOver,t.core.container),n.utils.remove_event_listener("mouseout",t.onOut,t.core.container)}}(this),n.utils.add_event_listener("mouseover",this.onOver,this.core.container)},s}(n.Modules.BaseShareButtons)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.Subtitles=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,e),s.prototype.triggersEvents=["warning"],s.prototype.handlesEvents={"event:time":function(t){if(this.ready)return this.renderSubtitles(t)},"event:state":function(t){if("finish"===t)return this.ready?this.renderSubtitles(-1):void 0},drawn:function(){return this.draw()},"controls:shown":function(t){return this.showPanels=t,this.riseSubs()},"widget:resize":function(t,e){return this.resize(t,e)},terminated:function(){var t,e;return null!=this.container&&(this.container.innerHTML="",null!=(t=this.container.parentNode)&&t.removeChild(this.container)),null!=this.el&&null!=(e=this.el.parentNode)&&e.removeChild(this.el),r.utils.remove_event_listener("mouseover",this.onOver,this.core.widget_div),r.utils.remove_event_listener("mouseout",this.onOut,this.core.widget_div)}},s.prototype.init=function(){var t,e,i;return t=this.core.loaded_data,i=this.core.params.side_share_buttons?this.core.params.side_share_buttons:!t.share_panel_position||"left"!==(e=t.share_panel_position)&&"top"!==e&&"right"!==e&&"bottom"!==e&&"overlay_bottom"!==e?"right":t.share_panel_position,this.ready=!1,this.hasSocial="bottom"===i||"overlay_bottom"===i,this.showSocialAlways="overlay_bottom"===i&&"youtube_id"===t.content_type,this.showSocial=!1,this.showPanels=!1,this.smallClass="buzzplayer-control_bar-subtitles_small",this.small=null,this.data=[],this.activeSubs=[],this.lastTime=0,this.lastIndex=null,this.loadSubtitles()},s.prototype.draw=function(){var t,e;return this.el=e=i.createElement("div"),e.className="buzzplayer-control_bar-subtitles",this.container=t=i.createElement("div"),t.className="buzzplayer-control_bar-subtitles__text",t.style.visibility="hidden",e.appendChild(t),this.core.wrap.appendChild(this.el),this.hasSocial&&!this.showSocialAlways&&(this.onOver=function(t){return function(){return t.showSocial=!0,t.riseSubs()}}(this),this.onOut=function(t){return function(){return t.showSocial=!1,t.riseSubs()}}(this),r.utils.add_event_listener("mouseover",this.onOver,this.core.widget_div),r.utils.add_event_listener("mouseout",this.onOut,this.core.widget_div)),this.riseSubs()},s.prototype.riseSubs=function(){var t;if(this.el)return t=this.showPanels||this.showSocial||this.showSocialAlways?"40px":"",this.el.style.bottom=t},s.prototype.resize=function(t,e){return null==this.el?(this.initialWidth=t,this.initialHeight=e):t<=500&&!this.small?(this.small=!0,r.utils.add_class(this.smallClass,this.el)):t>500&&this.small?(this.small=!1,r.utils.remove_class(this.smallClass,this.el)):void 0},s.prototype.renderSubtitles=function(t){var e,i,r,s,o,a;if(t===-1)a=!0,this.activeSubs=[];else for((!this.lastIndex||t<this.lastTime)&&(this.lastIndex=0),this.lastTime=t,a=!1,s=this.activeSubs.length,this.activeSubs=this.activeSubs.filter(function(e){return e.end>=t&&e.start>=t}),s!==this.activeSubs.length&&(a=!0),o=!1,i=this.lastIndex;i<this.data.length-1&&(r=this.data[i],!(o&&r.end<t||r.start>t));)r.start<=t&&r.end>=t&&!(n.call(this.activeSubs,r)>=0)&&(this.activeSubs.push(r),this.lastIndex=i,a=!0,o=!0),++i;if(a)return e=this.activeSubs.map(function(t){return t.text}).join("<br/>"),this.container.innerHTML=e,this.container.style.visibility=0===this.activeSubs.length?"hidden":"visible"},s.prototype.loadSubtitles=function(){return r.utils.loadXHR(this.core.loaded_data.content.subtitles,function(t){return function(e,i,r){var n;return n=e&&(r.status<200||r.status>400)?"could not load subtitles":0===i.length?"subtitles file is empty":"",n?t.trigger("warning",n):t.parseSubtitles(i)}}(this),{timeout:3e3},"GET",null)},s.prototype.parseSubtitles=function(t){return this.data=t.trim().replace(/(?:\r\n|\r|\n)/gm,"\n").split(/(?:\n{2,})/gm).map(function(t){return function(e){return t.parseBlock(e)}}(this)),this.ready=!0},s.prototype.parseBlock=function(t){var e,i;return e=t.split(/\n/gm),i={id:e[0],text:e.slice(2).join("<br/>")},r.utils.extend(i,this.parseIntervals(e[1]))},s.prototype.parseIntervals=function(t){var e,i,r;return i=t.split(/\s*?-->\s*?/g).map(function(t){return function(e){return t.parseTime(e)}}(this)),r=i[0],e=i[1],{start:r,end:e}},s.prototype.parseTime=function(t){var e,i,r,n,s,o,a;return s=t.split(","),i=s[0],n=s[1],n=parseInt(n,10),isNaN(n)&&(n=0),o=i.split(":").map(function(t){var e;return null!=(e=parseInt(t,10))?e:0}),e=o[0],r=o[1],a=o[2],(n+1e3*a+6e4*r+36e5*e)/1e3},s}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.TrackingUrlSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.handlesEvents={"api:eventSent":function(t,e){if("ctor"!==t)return this.sendState(t,{slice:e})},"event:state":function(t){return this.sendState("ready"===t?"ctor":t,{slice:this.core.state.slice})},"clickthrough_URL:click":function(){return this.sendState("click")},"share_button:clicked":function(t){return this.sendState("share_"+t,{slice:"",custom:!0})}},i.prototype.events=["ctor","play","pause","tick","player_seen","duration","click","mrc_vvi","impression"],i.prototype.noSliceEvents=["ctor","pause","player_seen","duration","click","mrc_vvi","impression"],i.prototype.sliceless=!1,i}(r.Modules.BaseTrackingUrlSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.UserEngagement=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.callsStrategies=["engagement:enableListenerForVisibility","engagement:enableListenerForLeavePage","engagement:disableListener"],r.prototype.handlesEvents={"event:state":function(t){var e;return"ready"===t?(this.core.params.intersectionSupported||this.callStrategy("engagement:enableListenerForVisibility"),this.callStrategy("engagement:enableListenerForLeavePage")):"play"===t&&null!=(e=i.activeElement)?e.blur():void 0}},r.prototype.init=function(){if(this.core.params.intersectionSupported)return this.callStrategy("engagement:enableListenerForVisibility")},r}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.VolumeController=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.triggersEvents=[],i.prototype.callsStrategies=["widget:setVolume","api:getData"],i.prototype.addsStrategies=[["widget:smoothSetVolume",0,"smoothSetVolume"],["widget:getVolumeStatus",0,"getVolumeStatus"],["widget:changeVolumeStatus",0,"changeVolumeStatus"],["widget:toggleMute",0,"toggleMute"]],i.prototype.handlesEvents={"widget:volume_changed":function(t){return this.currentVolume=t,this.status.muted=!this.currentVolume},"widget:embeded":function(){var t,e;if(this.core.params.inread)return t=r.utils.bowser,e=t.safari||t.ios,"infeed_video"===this.core.loaded_data.content_type||t.tablet||t.mobile||e&&this.core.loaded_data.auto_play||!(this.core.params.expandable&&!this.status.forcedClick||this.status.forcedHover)?void 0:(this.onHover=function(t){return function(){if(r.utils.remove_event_listener("mouseover",t.onHover,t.core.container),!t.status.clickOnly)return t.changeVolumeOnHover(!0),r.utils.add_event_listener("mouseout",t.onOut,t.core.container)}}(this),this.onOut=function(t){return function(){if(r.utils.remove_event_listener("mouseout",t.onOut,t.core.container),!t.status.clickOnly)return t.changeVolumeOnHover(),r.utils.add_event_listener("mouseover",t.onHover,t.core.container)}}(this),r.utils.add_event_listener("mouseover",this.onHover,this.core.container))},"before:destroyed":function(){if(this.onHover&&r.utils.remove_event_listener("mouseover",this.onHover,this.core.container),this.onOut)return r.utils.remove_event_listener("mouseout",this.onOut,this.core.container);
}},i.prototype.init=function(){var t,e,i;return i=null!=(e=this.callStrategy("api:getData","placement").unit_settings)?e.sound_control:void 0,t="youtube_id"!==this.core.loaded_data.content_type||this.core.loaded_data.auto_play>0,this.status={muted:!1,soundControlEnabled:t,clickOnly:!1,forcedClick:"onclick"===i,forcedHover:"onhover"===i},this.unmutedVolume=50,this.volumeChangeStep=5,this.volumeChangeStepTimeout=80},i.prototype.changeVolumeOnHover=function(t){if("play"===this.core.state.state||"pause"===this.core.state.state)return this.smoothSetVolume(t)},i.prototype.setVolume=function(t){return this.callStrategy("widget:setVolume",t)},i.prototype.getVolumeStatus=function(){return this.status},i.prototype.changeVolumeStatus=function(t){return null==t&&(t={}),this.status=r.utils.extend(this.status,t)},i.prototype.toggleMute=function(t){return t&&(this.status.clickOnly=!this.status.clickOnly),this.callStrategy("widget:setVolume",+!!this.status.muted*this.unmutedVolume)},i.prototype.smoothSetVolume=function(t,e){var i,r,n,s,o,a,l,u;return null==t&&(t=!1),null==e&&(e={}),a=e.step||this.volumeChangeStep,s=e.duration,o=t&&this.unmutedVolume||0,i=(t?1:-1)*a,n=(u=this.getVolume())?u:t?0:this.unmutedVolume,l=null!=s?this.calculateVolumeTimeout(a,s):this.volumeChangeStepTimeout,(r=function(e){return function(){if(clearTimeout(e.changeVolumeTimer),n+=i,e.setVolume(n),t&&n<o||!t&&n>o)return e.changeVolumeTimer=setTimeout(function(){return r()},l)}}(this))()},i.prototype.calculateVolumeTimeout=function(t,e){return t*e/this.unmutedVolume},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,n){return n.Modules.Widgets.Player.Modules.VolumeIcon=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,e),s.prototype.triggersEvents=[],s.prototype.callsStrategies=["animation:supported","animation:status","widget:toggleMute"],s.prototype.addsStrategies=[["resize:set_aspect",1,"setAspect"]],s.prototype.handlesEvents={drawn:function(){return this.draw(this.core.wrap),this.initSoundControl()},"widget:volume_changed":function(t){var e;if(e=!!t,e!==this.status.active)return this.changeStatus(e)},"animation:hover":function(t){if(this.animationSupported)return this.animate(t)},"widget:resize":function(){var t;if(t=1<=arguments.length?r.call(arguments,0):[],this.status.width=t[0],this.status.height=t[1],this.status.resized=!0,this.status.drawn)return this.resize()}},s.prototype.animation={hidden:"-28px",shown:"0"},s.prototype.animate=function(t){if(this.foreground)return this.foreground.style.bottom=this.animation[t?"shown":"hidden"]},s.prototype.init=function(){return this.status={active:!0,resized:!1,drawn:!1}},s.prototype.changeStatus=function(t){if(this.status.active=t,this.control)return n.utils.remove_class("buzzplayer-icon-sound-off",this.control),n.utils.remove_class("buzzplayer-icon-sound-on",this.control),n.utils.add_class(this.status.active?"buzzplayer-icon-sound-on":"buzzplayer-icon-sound-off",this.control)},s.prototype.draw=function(t){var e,r,s,o,a,l,u,c,d,h,p;for(o=i.createElement("div"),o.className="buzzplayer-icon-sound-wrap",o.style.background="transparent",n.utils.bowser.mobile||n.utils.bowser.tablet||(o.style.cursor="pointer"),r=i.createElement("span"),r.className="buzzplayer-icon-sound buzzplayer-icon-rounded buzzplayer-icon",this.core.params.inread||n.utils.add_class("buzzplayer-icon-bg-black",r),this.status.controlSize=28,this.status.foregroundSize=n.utils.bowser.mobile||n.utils.bowser.tablet?120:this.status.controlSize,r.style.width=r.style.height=this.status.controlSize+"px",o.style.height=o.style.width=this.status.foregroundSize+"px",o.style.position=r.style.position="absolute",r.style.webkitTransform=r.style.transform="translate3d(0,0,0)",this.animation.shown=function(){switch(this.core.loaded_data.content_type){case"video_url":case"facebook":return"3px";default:return"0"}}.call(this),h=[o,r],l=0,c=h.length;l<c;l++)for(e=h[l],p=["bottom","right"],u=0,d=p.length;u<d;u++)s=p[u],e.style[s]=this.animation.shown;if(r.style.zIndex=o.style.zIndex=9999,a=i.createElement("span"),r.appendChild(a),o.appendChild(r),this.icon=a,this.control=r,this.foreground=o,(this.animationSupported=this.callStrategy("animation:supported","expandable"))&&(n.utils.add_class("buzz__animation__bottom",o),this.animate(this.callStrategy("animation:status"))),this.changeStatus(this.status.active),t.appendChild(o),this.status.drawn=!0,this.status.resized&&this.resize(),null!=this.verticalFullscreenPad)return this.resetBottom()},s.prototype.resize=function(){var t,e,i,r,n,s,o,a;if(this.status.width<400){for(this.styleChanged=!0,a=Math.max(18,.08*this.status.width|0),s=[this.foreground,this.control],e=0,r=s.length;e<r;e++)t=s[e],t.style.width=t.style.height=a+"px";return this.icon.style.width=this.icon.style.height=a-6+"px"}if(this.styleChanged){for(this.styleChanged=!1,o=["foreground","control"],i=0,n=o.length;i<n;i++)t=o[i],this[t].style.width=this[t].style.height=this.status[t+"Size"]+"px";return this.icon.style.width=this.icon.style.height="22px"}},s.prototype.initSoundControl=function(){return n.utils.add_event_listener("click",function(t){return function(){return t.callStrategy("widget:toggleMute",!0)}}(this),this.foreground)},s.prototype.setAspect=function(t){return"fullscreen"===this.core.state.format&&t<1&&(n.utils.bowser.mobile||n.utils.bowser.tablet)&&(this.verticalFullscreenPad="80px",null!=this.foreground&&this.resetBottom()),this.core.callStrategyByMaxPriority("resize:set_aspect",0,t)},s.prototype.resetBottom=function(){return this.foreground.style.bottom=this.animation.shown=this.verticalFullscreenPad},s}(n.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Player.Modules.YandexMetrik=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["metrika:reachGoal"],i.prototype.handlesEvents={"event:tick":function(t){if(0===+t)return this.callStrategy("metrika:reachGoal","Tick0",{uuid:this.core.params.uuid,timestamp:Date.now()})}},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Scroller.Modules.APIEventSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.onEvents=[{playerEvent:"event:state",serverEvent:function(t){return"ready"===t?"ctor":null}},{playerEvent:"engagement:seenFirstTime",serverEvent:"player_seen"},{playerEvent:"engagement:seenFirstTime",serverEvent:"impression"},{playerEvent:"mrc:displayed",serverEvent:"mrc_dvi"},{playerEvent:"fullscreen:open",serverEvent:"landing_open"},{playerEvent:"fullscreen:close",serverEvent:"landing_close"}],i.prototype.allowEvents={scroller:["ctor","player_seen","landing_open","landing_close","mrc_dvi","impression"]},i}(r.Modules.BaseAPIEventSender)}(window,document,Buzzoola),function(e,i,r){var n,s;return n=r.Modules.Mixins.ScrollLock,s=r.Modules.Mixins.ScrollerWidgetPlayerSeen,r.Modules.Widgets.Scroller.Modules.Fullscreen=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.triggersEvents=["fullscreen:open","fullscreen:close","widget:player:seen","widget:player:unseen","engagement:seenFirstTime","engagement:seen","engagement:unseen"],n.prototype.addsStrategies=[["fullscreen:open",0,"open"],["fullscreen:close",0,"close"]],n.prototype.callsStrategies=["resize:calcWidth","resize:calcHeight"],n.prototype.handlesEvents={drawn:function(){this.closeBtn=this.core.wrap_html.querySelector("a.buzz-scroll__close"),this.clipContainer=this.core.wrap_html.querySelector("div.buzz-scroll__clip"),this.maximizeBtn=this.core.wrap_html.querySelector("span.buzz-scroll__maximize"),this.detailBtn=this.core.wrap_html.querySelector("a.buzz-scroll__detail"),this.foreground=this.renderForeground(),this.close(!0),r.utils.add_event_listener("click",function(t){return function(e){return e.preventDefault(),t.open()}}(this),this.foreground),r.utils.add_event_listener("click",function(t){return function(e){return e.preventDefault(),t.close()}}(this),this.closeBtn),this.playerSeenCheck()},"resize:after":function(t,e){this.setCenterOfPlayer(),this.foreground&&(this.foreground.style.width=(this.core.params.screenWidth||t)+"px",this.foreground.style.height=e+"px")}},n.prototype.open=function(){this.foreground.style.display="none",this.maximizeBtn&&(this.maximizeBtn.style.display="none"),this.closeBtn&&(this.closeBtn.style.display="block"),this.detailBtn&&(this.detailBtn.style.display="block"),this.clipContainer.style.clip="auto",this.clipContainer.className="buzz-scroll__clip",this.lockScroll(),this.widgetSeen(!0),this.trigger("fullscreen:open"),this.setPlayed()},n.prototype.close=function(t){this.foreground.style.display="block",this.maximizeBtn&&(this.maximizeBtn.style.display="block"),this.closeBtn&&(this.closeBtn.style.display="none"),this.detailBtn&&(this.detailBtn.style.display="none"),this.clipContainer.style.clip="rect(auto auto auto auto)",this.clipContainer.className+=" buzz-scroll__clip_closed",this.releaseScroll(),t||(this.trigger("fullscreen:close"),this.playerSeen())},n.prototype.renderForeground=function(){var t,e;return e=this.callStrategy("resize:calcWidth"),t=i.createElement("div"),t.style.cssText="position: absolute; top: 0; z-index: 9999; width: "+e+"px; height: "+this.callStrategy("resize:calcHeight",e)+"px; background: transparent; cursor: pointer;",this.core.wrapperBlock.appendChild(t),t},n}(r.Modules.BaseModule),n(r.Modules.Widgets.Scroller.Modules.Fullscreen.prototype),s(r.Modules.Widgets.Scroller.Modules.Fullscreen.prototype)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Scroller.Modules.TrackingUrlSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.handlesEvents={"api:eventSent":function(t){return this.sendState(t)},"clickthrough_URL:click":function(){return this.sendState("click")}},i.prototype.events=["ctor","player_seen","landing_open","landing_close","click","mrc_dvi","impression"],i}(r.Modules.BaseTrackingUrlSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Scroller.Modules.UserEngagement=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["engagement:enableListenerForLeavePage"],i.prototype.init=function(){return this.callStrategy("engagement:enableListenerForLeavePage")},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Showcase.Modules.APIEventSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.onEvents=[{playerEvent:"event:state",serverEvent:function(t){return"ready"===t?"ctor":null}},{playerEvent:"engagement:seenFirstTime",serverEvent:"player_seen"},{playerEvent:"engagement:seenFirstTime",serverEvent:"impression"},{playerEvent:"mrc:displayed",serverEvent:"mrc_dvi"}],i.prototype.allowEvents={showcase:["ctor","player_seen","mrc_dvi","impression"]},i}(r.Modules.BaseAPIEventSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Showcase.Modules.TrackingUrlSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.handlesEvents={"api:eventSent":function(t){return this.sendState(t)},"clickthrough_URL:click":function(){return this.sendState("click")}},i.prototype.events=["ctor","player_seen","click","mrc_dvi","impression"],i}(r.Modules.BaseTrackingUrlSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.Showcase.Modules.UserEngagement=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["engagement:enableListenerForVisibility","engagement:disableListener","engagement:enableListenerForLeavePage"],i.prototype.handlesEvents={"mrc:displayed":function(){return this.callStrategy("engagement:disableListener","visibility")}},i.prototype.init=function(){return this.callStrategy("engagement:enableListenerForLeavePage"),this.callStrategy("engagement:enableListenerForVisibility")},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.TGB.Modules.APIEventSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.onEvents=[{playerEvent:"event:state",serverEvent:function(t){return"ready"===t?"ctor":null}},{playerEvent:"engagement:seenFirstTime",serverEvent:"player_seen"},{playerEvent:"engagement:seenFirstTime",serverEvent:"impression"},{playerEvent:"mrc:displayed",serverEvent:"mrc_dvi"},{playerEvent:"share_button:clicked",serverEvent:"share"},{playerEvent:"landing:open",serverEvent:"landing_open"},{playerEvent:"landing:close",serverEvent:"landing_close"},{playerEvent:"landing:action",serverEvent:"invoke_action"}],i.prototype.paramsEventData={share:function(t){return{external:t}}},i.prototype.allowEvents={image_url:["ctor","player_seen","share","landing_open","landing_close","invoke_action","mrc_dvi","impression"]},i}(r.Modules.BaseAPIEventSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.TGB.Modules.ClickthroughURL=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["clickthrough_URL:open"],i.prototype.handlesEvents={drawn:function(){return this.core.wrap_html.style.cursor="pointer",this._onClick_=function(t){return function(e){return t.callStrategy("clickthrough_URL:open")}}(this),r.utils.add_event_listener("click",this._onClick_,this.core.wrap_html)},"before:destroyed":function(){return r.utils.remove_event_listener("click",this._onClick_,this.core.wrap_html)}},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.TGB.Modules.Overroll=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.addsStrategies=[["get_wrap",20,"getWrap"],["overroll:getWaitAndDestroyIfInactiveTime",1,function(){return 30}]],n.prototype.callsStrategies=["resize:call","wrap:width","wrap:height","widget:imgRatio"],n.prototype.handlesEvents={"overroll:shown":function(){var t;return this.core.wrap_html.style.background="rgba(0, 0, 0, 0.7)",this.isMobile||(this.core.wrap_html.style.padding="20px"),t=this.core.wrap_html.children[0],t&&(t.style.background="white",this.core.loaded_data.custom_html||this.isMobile||(t.style.padding="1em")),this.callStrategy("resize:call")}},n.prototype.init=function(){return this.isMobile=r.utils.bowser.mobile||r.utils.bowser.tablet},n.prototype.getWrap=function(){var t,e;return this.isMobile?this.core.callStrategyByMaxPriority("get_wrap",19):(e=i.createElement("div"),t=i.createElement("div"),e.style.boxSizing=t.style.boxSizing="border-box",t.appendChild(this.core.callStrategyByMaxPriority("get_wrap",19)),e.appendChild(t),e)},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.TGB.Modules.Scale=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["widget:scale"],i.prototype.handlesEvents={drawn:function(){return r.utils.add_resize_listener(this.core.wrap,function(t){return function(){if(!t.core.state.destroyed&&!t.core.state.collapsing)return t.callStrategy("widget:scale")}}(this))}},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.TGB.Modules.TrackingUrlSender=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.handlesEvents={"api:eventSent":function(t){return this.sendState(t)},"clickthrough_URL:click":function(){return this.sendState("click")}},i.prototype.events=["ctor","player_seen","click","landing_open","landing_close","invoke_action","mrc_dvi","impression"],i}(r.Modules.BaseTrackingUrlSender)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.TGB.Modules.UserEngagement=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=["engagement:enableListenerForVisibility","engagement:disableListener","engagement:enableListenerForLeavePage"],i.prototype.init=function(){return this.callStrategy("engagement:enableListenerForLeavePage"),this.callStrategy("engagement:enableListenerForVisibility")},i}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,i,n){return n.Modules.Widgets.TGB.Modules.Wrap=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.addsStrategies=[["get_wrap",1,"getWrap"]],n.prototype.callsStrategies=["embed_svg"],n.prototype.init=function(){return this.colorFormatters=["toHEX","toRGBA"],this.styledElements={text:{selector:".buzz-tgb-default__btn",property:"color"},background:{selector:".buzz-tgb-default__btn",property:"background-color"},icon:{selector:"span.buzz-tgb-default__btn-arr svg",property:"fill"}},this.extendStyles()},n.prototype.getWrap=function(){var t,e,r,n,s,o,a,l,u,c,d,h,p;return this.callStrategy("embed_svg",["arrow_right","powered"]),e=i.createElement("div"),l="",t=this.core.loaded_data,u=this.core.params,a=t.show_title&&!!t.title,n=!!t.description,r=!!t.clickthrough_URL&&!((c=t.content.excludeClickButton)===!0||"true"===c),o=!!t.sponsor_logo,s=!(u.overroll||u.fullscreen||null!=(null!=(d=this.core.options)?d.parent_core:void 0)),s&&(l+='<div class="buzz-ad-title buzz-ad-title_mobile-engage">\n\t<span class="buzz-ad-title__el"><hr class="buzz-ad-title__line" /></span>\n\t<span class="buzz-ad-title__el buzz-ad-title__text">\u0420\u0435\u043a\u043b\u0430\u043c\u0430</span>\n\t<span class="buzz-ad-title__el"><hr class="buzz-ad-title__line" /></span>\n</div>'),l+='<div class="buzz-tgb-default__player">\n  <div class="buzz_code"',u.overroll||(l+=' data-width="16" data-height="9"'),l+=" data-resize></div>",(a||n)&&(l+='<div class="buzz-tgb-default__info buzz__info">',o&&(l+='<div class="buzz-tgb-default__logo-wrap',(h=t.content.isWideLogo)!==!0&&"true"!==h||(l+=" buzz-tgb-default__logo-wrap_wide"),l+='">\n\t<img class="buzz-tgb-default__logo" src="'+t.sponsor_logo+'" alt=""/>\n</div>'),l+='<div class="buzz-tgb-default__text-wrap">',a&&(l+='<div class="buzz-tgb-default__title">'+t.title+"</div>"),n&&(l+='<div class="buzz-tgb-default__desc">'+t.description+"</div>"),l+="</div>",l+="</div>",r&&(l+='<div class="buzz-tgb-default__install">\n\t<a href="'+t.clickthrough_URL+'" target="_blank" class="buzz-tgb-default__btn">\n\t\t<span class="buzz-tgb-default__wrapper">\n\t\t\t'+(t.action_button_title||"\u041f\u0435\u0440\u0435\u0439\u0442\u0438")+'\n\t\t</span>\n\t\t<span class="buzz-tgb-default__btn-arr">\n\t\t\t<svg viewBox="0 0 70 110">\n\t\t\t\t<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#buzz_arrow_right"></use>\n\t\t\t</svg>\n\t\t</span>\n\t</a>\n</div>')),l+="</div>",u.overroll||t.custom_html||null!=(null!=(p=this.core.options)?p.parent_core:void 0)||(l+=this.getPoweredButton()),e.innerHTML=l,e.style.position="relative",e},n.prototype.extendStyles=function(){var t,e,i,r,n,s,o,a,l,u,c;r=null!=(o=this.core.loaded_data.content)?o:{},c=null!=(a=r.styles)?a:"",t=[],i=null!=(l=r.clickButtonColors)?l:{},u=this.styledElements;for(s in u)n=u[s],i.hasOwnProperty(s)&&(e=this.formatColor(i[s]))&&t.push("{{id}} "+n.selector+" {"+n.property+": "+e+"}");return r.styles=c+t.join(" ")},n.prototype.formatColor=function(t){var e,i,r,n,s,o;if(this.isColor(t))return t;for(o=t.replace(/(rgba?)|[#\s\(\)]+?/g,""),s=this.colorFormatters,r=0,n=s.length;r<n;r++)if(e=s[r],i=this[e](o))return i;return!1},n.prototype.isColor=function(t){var e;try{return e=(new Option).style,e.color=t,""!==e.color}catch(i){return!1}},n.prototype.toHEX=function(t){var e,i,r,n;if(3!==t.length&&6!==t.length)return!1;for(e=t.split(""),r=0,n=e.length;r<n;r++)if(i=e[r],!this.numberIsWithinRange(parseInt(i,16),15))return!1;return"#"+t.toUpperCase()},n.prototype.toRGBA=function(t){var e,i,n,s,o,a;if(o=t.split(","),o.length<3||o.length>4)return!1;for(3===o.length&&o.push(1),a=2<=o.length?r.call(o,0,i=o.length-1):(i=0,[]),e=o[i++],n=0,s=a.length;n<s;n++)if(t=a[n],!this.numberIsWithinRange(parseInt(t,10)))return!1;return!!this.numberIsWithinRange(parseFloat(e),1)&&"rgba("+o.join(", ")+")"},n.prototype.numberIsWithinRange=function(t,e,i){return null==e&&(e=255),null==i&&(i=0),!isNaN(t)&&t>=i&&t<=e},n}(n.Modules.BaseModule),n.Modules.Mixins.PoweredBy(n.Modules.Widgets.TGB.Modules.Wrap.prototype)}(window,document,Buzzoola),function(e,i,r){var n;return n=r.Modules.Widgets.Player.Modules,n.VideoUrlPlayerBase=function(s){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,s),o.prototype.callsStrategies=[].concat(r.Modules.Widgets.Player.Modules.BaseModule.prototype.callsStrategies,["resize:set_aspect","fullscreen:enter","fullscreen:exit","fullscreen:get_event"]),o.prototype.addsStrategies=[].concat(r.Modules.Widgets.Player.Modules.BaseModule.prototype.addsStrategies,[["widget:toggleFullscreen",0,"toggleFullscreen"]]),o.prototype.handlesEvents={"widget:fullscreenchange":function(t){return this.onFullSize(t)},"widget:fullwindowchange":function(t){return this.onFullSize(t),null!=this.onFullscreenChange?"function"==typeof this.onFullscreenChange?this.onFullscreenChange():void 0:this.fullscreen=!0}},o.prototype.init=function(){return o.__super__.init.call(this),this.core.isUsingVideoSlot()&&(this.videoTag=this.core.options.videoSlot),this.videoUrl=this.core.loaded_data.main_content,this.mimeType=this.core.loaded_data.content.mimeType||"video/mp4",this.ready=!1},o.prototype.onPlay=function(){if(!this.core.isManagedByIMA()){if(this.videoTag.paused)return;if(!(this.autoStart||this.core.state.seen&&this.core.loaded_data.auto_play))return void this.pause()}if(this.unfreezePosted(),this.videoTag&&(!this.videoTag.seeking||this instanceof n.VideoUrlInline))return this.data.started?this.changeState("play"):(this.data.started=!0,this.changeState("start"),this.changeState("duration"),this.changeState("play"))},o.prototype.onFullSize=function(t){if(t)return this.resize(e.innerWidth,e.innerHeight)},o.prototype.onPlayerReady=function(){var t;this.ready=!0,this.changeState("ready");try{t=100*this.player.volume}catch(e){}return isNaN(t)&&(t=this.player.muted?0:50),this.trigger("widget:volume_changed",t)},o.prototype.getCurrentTime=function(){return this.getTime("currentTime")},o.prototype.getTotalTime=function(){return this.getDuration("duration")},o.prototype.renderVideoTag=function(){var t,e;if(this.core.isUsingVideoSlot()?e=this.videoTag:(this.videoTag=e=i.createElement("video"),e.id="buzz-html5-"+r.utils.guid(),e.player=!0,e.setAttribute("width",this.initialWidth+"px"),e.setAttribute("height",this.initialHeight+"px"),e.setAttribute("preload","auto"),e.setAttribute("playsinline","true"),e.setAttribute("webkit-playsinline","true"),e.setAttribute("data-setup","{}"),e.style.background="black",this.unfreezePosted(),this.freezePosted()),"application/javascript"!==this.mimeType&&(e.setAttribute("src",this.videoUrl),null!=e.appendChild&&(t=i.createElement("source"),t.setAttribute("src",this.videoUrl),t.setAttribute("type",this.mimeType),e.appendChild(t))),!this.core.isUsingVideoSlot())return this.core.widget_div.appendChild(e)},o.prototype.freezePosted=function(){if(this.core.loaded_data.thumbnail&&!this.data.posterFreeze)return this.data.posterFreeze=!0,this.setPoster(this.core.loaded_data.thumbnail||this.core.loaded_data.thumbnail_animated)},o.prototype.unfreezePosted=function(){if(this.core.loaded_data.thumbnail&&this.data.posterFreeze)return this.data.posterFreeze=!1,this.setPoster(this.core.loaded_data.thumbnail_animated||this.core.loaded_data.thumbnail)},o.prototype.setPoster=function(t){var e,i,n,s,o;if(null==t&&(t=""),e=r.utils.bowser,i=!(e.mobile||e.tablet),n=this.core.loaded_data,!(""===t||this.core.isUsingVideoSlot()||(this.core.params.is_ios||i&&n.auto_play>0||e.ios&&parseInt(e.version,10)>9)&&"audio/mpeg"!==(s=n.content.mimeType)&&"audio/mp3"!==s&&"audio/ogg"!==s))return e.msie||"Microsoft Edge"===e.name?this.videoTag.style.background="black url("+t+") center / contain no-repeat":t!==this.videoTag.getAttribute("poster")?(this.videoTag.setAttribute("poster",t),null!=(o=this.player)&&"function"==typeof o.poster?o.poster(t):void 0):void 0},o.prototype.waitForVideoSize=function(t){return null==t&&(t=this.videoTag),t.readyState>3?this.calcAspect():r.utils.add_event_listener("canplay",function(e){return function(){return r.utils.remove_event_listener("canplay",arguments.callee,t),e.calcAspect(t)}}(this),t)},o.prototype.calcAspect=function(t){var e;if(e=t.videoWidth/t.videoHeight,!this.core.isUsingVideoSlot()&&!isNaN(e))return this.callStrategy("resize:set_aspect",e)},o.prototype.toggleFullscreen=function(){return this.fullscreen?this.exitFullscreen():this.enterFullscreen()},o}(n.BaseModule)}(window,document,Buzzoola),function(e,i,n){var s,o,a;return a=n.Modules.Widgets.Player.Modules,o=[{name:"MEDIA_ERR_ABORTED",desc:"fetching process aborted by user"},{name:"MEDIA_ERR_NETWORK",desc:"error occurred when downloading"},{name:"MEDIA_ERR_DECODE",desc:"error occurred when decoding"},{name:"MEDIA_ERR_SRC_NOT_SUPPORTED",desc:"audio/video not supported"}],s={name:"UNKNOWN ERROR",desc:"something went wrong with html5 player"},a.HTML5Player=function(e){function l(){return l.__super__.constructor.apply(this,arguments)}return t(l,e),l.prototype.callsStrategies=[].concat(a.VideoUrlPlayerBase.prototype.callsStrategies,["fullscreen:event"]),l.prototype.handlesEvents=n.utils.extend({},a.VideoUrlPlayerBase.prototype.handlesEvents,{"before:destroyed":function(){return this.exitFullscreen(),this.pause(),this.player=this.videoTag=null,this.destroyed=!0}}),l.prototype.playerHandlesEvents={play:function(){return!this.canPlay&&this.core.isManagedByIMA()&&this.onCanPlay(),this.onPlay()},pause:function(){if(this.player&&!this.player.seeking&&!this.player.ended)return this.freezePosted(),this.changeState("pause")},ended:function(){return this.freezePosted(),this.changeState("finish")},error:function(){var t,e,i;if(null!=(null!=(i=this.player)?i.error:void 0))return t=this.player.error,e=o[t.code-1]||s,this.trigger("error",e.name+": "+e.desc)},seeked:function(){return this.changeState("play")},canplay:function(){return this.onCanPlay()},waiting:function(){return this.waiting=!0}},l.prototype.init=function(){var t,e;return l.__super__.init.call(this),t=this.core.loaded_data,this.videoUrl=t.main_content,this.mimeType=t.content.mimeType||"video/mp4",this.fullscreen=!1,t.thumbnail&&(e=new Image,e.setAttribute("crossOrigin","anonymous"),e.onload=function(t){return function(){return t.poster=e}}(this),e.src=t.thumbnail),this.playPromiseInitialization()},l.prototype.onCanPlay=function(){if(this.player)return this.canPlay=!0,this.ready||this.onPlayerReady(),(!this.player.paused&&this.waiting||this.core.loaded_data.auto_play)&&this.core.state.seen?(this.waiting=!1,this.play()):void 0},l.prototype.initPlayerEventHandlers=function(){var t,e,i,s;if(this.playerHandlesEvents&&this.player){i=this.playerHandlesEvents,s=[];for(t in i)e=i[t],s.push(function(t){return function(e,i){var s;return s=function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],i.apply(t,e)},n.utils.add_event_listener(e,s,t.player)}}(this)(t,e));return s}},l.prototype.loadVideo=function(){return this.core.isUsingVideoSlot()&&(this.player=this.videoTag,this.initPlayerEventHandlers()),this.renderVideoTag(),this.core.isUsingVideoSlot()||(this.player=this.videoTag,this.initPlayerEventHandlers(),this.player.controls=!1),this.initHandlers(),this.core.isUsingVideoSlot()||this.waitForVideoSize(this.videoTag),this.core.isManagedByIMA()?this.onPlayerReady():this.player.load()},l.prototype.initHandlers=function(){var t,e,r;if(n.utils.add_event_listener("click",function(t){return function(){if(!t.player.seeking&&!t.fullscreen)return t.player.paused||t.player.ended?t.play():t.pause()}}(this),this.player),e=this.callStrategy("fullscreen:get_event"),null!=e)return t=n.utils.bowser,r=t.firefox||t.msie?i:t.ios?this.player:this.core.widget_div,n.utils.add_event_listener(e,function(t){return function(){return t.onFullscreenChange()}}(this),r)},l.prototype.play=function(){if(this.videoTag&&this.ready)return this.core.isManagedByIMA()&&!this.canPlay?this.player.load():(this.autoStart=!0,this.playPromise=this.videoTag.play(),this.onPlayCheck(function(t){return function(){return t.onPlay()}}(this)))},l.prototype.pause=function(){if(!this.onPauseCheck()&&this.ready)return this.autoStart=!1,l.__super__.pause.call(this),n.utils.bowser.iphone?setTimeout(function(t){return function(){return t.exitFullscreen()}}(this),200):void 0},l.prototype.enterFullscreen=function(){var t;return t=n.utils.bowser.ios?this.player:this.core.widget_div,this.callStrategy("fullscreen:enter",t)},l.prototype.exitFullscreen=function(){return this.callStrategy("fullscreen:exit",this.player)},l.prototype.setVolume=function(t){if(this.player)return this.player.volume=t/100,this.player.muted=0===t,this.trigger("widget:volume_changed",+t)},l.prototype.resize=function(t,e){var i;return this.player&&!this.core.isUsingVideoSlot()?(this.player.width=t,this.player.height=e):this.core.isUsingVideoSlot()?(i=this.core.widget_div,i.style.width=t+"px",i.style.height=e+"px"):(this.initialWidth=t,this.initialHeight=e)},l.prototype.onFullscreenChange=function(){if(this.trigger("widget:fullscreenchange",this.fullscreen=!this.fullscreen),this.fullscreen&&"finish"!==this.data.state)return this.play()},l}(a.VideoUrlPlayerBase),n.Modules.Mixins.PlayPromise(a.HTML5Player.prototype)}(window,document,Buzzoola),function(e,i,r){var s;return s=r.Modules.Widgets.Player.Modules,s.RutubePlayerIframe=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.proxyMethods=["play","pause","stop","mute","unMute","setCurrentTime","setSkinColor","remove"],i.prototype.handlesEvents={"before:destroyed":function(){return this.destroy()}},i.prototype.init=function(){return i.__super__.init.call(this),this.iframeDomain=this.core.protocol+"//rutube.ru",this.iframeUrl=this.iframeDomain+"/play/embed/"+this.core.loaded_data.content.main_content+"?bmstart=0",this.currentTime=-1,this.totalTime=this.core.loaded_data.duration,this.blockPlayer=!1,this.delayedCommands=[],this._initEventHandlerIframe()},i.prototype._initEventHandlerIframe=function(){var t;return t=function(t){return function(e){var i,n;if(t.iframeDomain.match(e.origin))try{i=r.utils.JSON.parse(e.data),"player:ready"===i.type&&(t.onload=!0),t.iframeHandler&&t.iframeHandler(null,i)}catch(s){n=s}}}(this),r.utils.add_event_listener("message",t),this.core.on("destroyed",function(){return setTimeout(function(){return r.utils.remove_event_listener("message",t)},1e3)})},i.prototype.iframeHandler=function(t,e){if(t)return this.trigger("error",t);switch(e.type.replace(/^player:/,"")){case"ready":return this.changeState("ready"),this.player.setSkinColor({color:"fac08c"});case"durationChange":return this.totalTime=e.data.duration,this.changeState("duration");case"changeState":return this.handleStateChange(e.data.state);case"currentTime":return this.currentTime=e.data.time;case"changeFullscreen":return this.trigger("widget:fullscreenchange",this.fullscreen=e.data.isFullscreen);case"rollState":return this.handleRollState(e.data.state);case"error":return this.trigger("error",e.data.code+": "+e.data.text);case"playComplete":return this.changeState("finish")}},i.prototype.handleStateChange=function(t){switch(t){case"playing":return this.data.started?this.changeState("play"):(this.data.started=!0,setTimeout(function(t){return function(){return t.changeState("start"),t.changeState("duration"),t.changeState("play")}}(this),150));case"paused":return this.changeState("pause")}},i.prototype.handleRollState=function(t){var e,i,r;switch(t){case"play":return this.changeState("pause"),this.blockPlayer=!0;case"complete":if(this.blockPlayer=!1,(null!=(i=this.delayedCommands)?i.length:void 0)>0){
for(r=[];null!=(e=this.delayedCommands.shift());)r.push(this.execute(e));return r}}},i.prototype.loadVideo=function(){var t,e,i,r,n,s,o,a,l;for(this.iframe=this.createIframe(this.iframeUrl,this.core.widget_div),o=["webkitAllowFullScreen","mozallowfullscreen","allowfullscreen"],t=0,r=o.length;t<r;t++)e=o[t],this.iframe.setAttribute(e,"");for(this.resize(this.initialWidth,this.initialHeight),this.player={},a=this.proxyMethods,l=[],i=0,n=a.length;i<n;i++)s=a[i],l.push(function(t){return function(e){return t.player[e]=function(i){var r;return r={type:"player:"+e},null!=i&&(r.data=i),t.sendPostMessage(r)}}}(this)(s));return l},i.prototype.getCurrentTime=function(){return this.currentTime},i.prototype.getTotalTime=function(){return this.totalTime},i.prototype.play=function(){return this.execute("play")},i.prototype.pause=function(){return this.execute("pause")},i.prototype.setVolume=function(t){return this.execute(0===t&&"mute"||"unMute")},i.prototype.stop=function(){return this.execute("stop")},i.prototype.execute=function(t){var e,i;if(this.player&&!this.blockPlayer){if(this.player[t](),"mute"===t||"unMute"===t)return this.trigger("widget:volume_changed",(t="mute")?0:50)}else if(null!=this.delayedCommands&&!(n.call(this.delayedCommands,t)>=0))return i=function(){switch(t){case"play":case"pause":case"stop":return["play","pause","stop"];case"mute":case"unMute":return["mute","unMute"];default:return[]}}(),this.delayedCommands=function(){var t,r,s,o;for(s=this.delayedCommands,o=[],t=0,r=s.length;t<r;t++)e=s[t],n.call(i,e)>=0||o.push(e);return o}.call(this),this.delayedCommands.push(t)},i.prototype.resize=function(t,e){return this.iframe?(this.iframe.setAttribute("style","width: "+t+"px !important; height: "+e+"px !important"),this.iframe.setAttribute("width",t),this.iframe.setAttribute("height",e)):(this.initialWidth=t,this.initialHeight=e)},i.prototype.destroy=function(){if(null!=this.iframe&&(this.player.remove(),this.player=null,this.delayedCommands=null,this.core.widget_div))return this.core.widget_div.removeChild(this.iframe)},i}(s.BaseModule),r.Modules.Mixins.Iframe(s.RutubePlayerIframe.prototype)}(window,document,Buzzoola),function(e,i,r){var n;return n=r.Modules.Widgets.Player.Modules,n.VideoUrlInline=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.handlesEvents=r.utils.extend({},n.VideoUrlPlayerBase.prototype.handlesEvents,{"before:destroyed":function(){var t,e,i,r,n,s,o,a;if(t=null!=(n=this.player)?n.driver:void 0)for(s=["pause","remove"],e=0,i=s.length;e<i;e++)r=s[e],t[r]();return null!=(o=this.player)&&o.pause(),null!=(a=this.player)&&a.webkitExitFullScreen(),this.player=t=null}}),i.prototype.playerHandlesEvents={play:function(){return this.onPlay()},pause:function(){if(this.freezePosted(),this.player&&!this.player.ended)return this.changeState("pause")},ended:function(){return this.freezePosted(),this.changeState("finish")},error:function(t){var e;return e=t.error,this.trigger("error",function(){switch(null!=e?e.code:void 0){case null!=e?e.MEDIA_ERR_ABORTED:void 0:return"You aborted the video playback";case null!=e?e.MEDIA_ERR_NETWORK:void 0:return"A network error caused the video download to fail part-way";case null!=e?e.MEDIA_ERR_DECODE:void 0:return"The video playback was aborted due to a corruption problem or because the video used features your browser did not support";case null!=e?e.MEDIA_ERR_SRC_NOT_SUPPORTE:void 0:return"The video could not be loaded, either because the server or network failed or because the format is not supported";default:return"html5 video"}}())},canplay:function(){if(!this.ready&&this.player)return this.onPlayerReady()},seeked:function(){return this.unfreezePosted(),this.changeState("play")},webkitbeginfullscreen:function(){return this.trigger("widget:fullscreenchange",this.fullscreen=!0)},webkitendfullscreen:function(){return this.trigger("widget:fullscreenchange",this.fullscreen=!1)}},i.prototype.init=function(){var t;return i.__super__.init.call(this),t=r.utils.bowser,this.isNewSafari=parseInt(t.version)>10&&(t.safari||t.iphone),this.playPromiseInitialization()},i.prototype.loadVideo=function(){var t;return this.renderVideoTag(),this.waitForVideoSize(),this.player=this.videoTag,this.player.removeAttribute("controls"),r.utils.bowser.yandexbrowser||(this.player.removeAttribute("playsinline"),this.player.removeAttribute("webkit-playsinline")),this.player.className="vjs-tech",this.isNewSafari?r.utils.makeVideoPlayableInline2(this.player,{everywhere:!0}):r.utils.makeVideoPlayableInline(this.player,!1,!1),null!=(t=this.player.driver)&&(t.crossOrigin="anonymous"),this.player.on=r.utils.add_event_listener,this.initPlayerEventHandlers(),this.player.load(),this.isNewSafari||r.utils.add_event_listener("click",function(t){return function(e){return t.enterFullScreen()}}(this),this.player),this.trigger("widget:volume_changed",0)},i.prototype.setVolume=function(t){var e;if(this.isNewSafari)try{this.player.muted=0===t}catch(i){e=i}else this.enterFullScreen();return this.trigger("widget:volume_changed",this.isNewSafari?t:0)},i.prototype.enterFullScreen=function(){var t;if(this.player&&!this.fullscreen&&("play"===(t=this.data.state)||"pause"===t)&&(this.callStrategy("fullscreen:enter",this.player),"finish"!==this.data.state))return this.play()},i.prototype.exitFullscreen=function(){var t;if(this.player&&this.fullscreen&&("play"===(t=this.data.state)||"pause"===t)&&(this.callStrategy("fullscreen:exit",this.player),"finish"!==this.data.state))return this.play()},i.prototype.play=function(){return this.autoStart=!0,this.playPromise=this.player.play(),this.onPlayCheck(function(t){return function(){return t.onPlay()}}(this))},i.prototype.pause=function(){if(!this.onPauseCheck())return this.autoStart=!1,i.__super__.pause.call(this)},i.prototype.resize=function(t,e){return this.player?(this.player.setAttribute("width",this.player.style.width=t+"px"),this.player.setAttribute("height",this.player.style.height=e+"px")):(this.initialWidth=t,this.initialHeight=e)},i}(n.VideoUrlPlayerBase),r.Modules.Mixins.PlayPromise(n.VideoUrlInline.prototype)}(window,document,Buzzoola),function(e,i,n){var s;return s=n.Modules.Widgets.Player.Modules,s.VimeoPlayer=function(s){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,s),o.prototype.playerHandlesEvents={play:function(){return this.data.started?this.changeState("play"):(this.data.started=!0,setTimeout(function(t){return function(){return t.changeState("start"),t.changeState("duration"),t.changeState("play")}}(this),150))},pause:function(){return this.changeState("pause")},ended:function(){return this.changeState("finish")},error:function(t){return this.handleVimeoError(t)},timeupdate:function(t){var e,i;return e=t.duration,i=t.seconds,this.currentTime=i}},o.prototype.init=function(){return o.__super__.init.call(this),this.videoID=this.core.loaded_data.main_content,this.color="fac08c",this.currentTime=this.duration=0,this.showPanels=n.utils.bowser.ios||this.showPanels},o.prototype.loadVideo=function(){var t;return null==(null!=(t=e.Vimeo)?t.Player:void 0)?n.utils.loadScript("https://player.vimeo.com/api/player.js",function(t){return function(e){return e?t.handleVimeoError({message:"Could not load Vimeo player",name:"BuzzoolaXHRError",method:"loadScript"}):t.renderVimeo()}}(this)):this.renderVimeo()},o.prototype.renderVimeo=function(){var t,e;return t="buzz-vimeo-"+n.utils.guid(),this.videoTag=e=i.createElement("div"),e.id=t,e.className="buzzplayer-vimeo",this.core.widget_div.appendChild(e),this.player=new Vimeo.Player(t,{id:this.videoID,autoplay:!1,color:this.color,byline:!1}),this.initPlayerEventHandlers(),this.performAsync({method:"ready",success:function(){return this.showPanels||(this.player.element.style.marginTop="-200px"),this.performAsync({method:"getDuration",success:function(t){return this.duration=t,this.changeState("ready")}})}})},o.prototype.performAsync=function(t){var e,i,n,s,o;if(e=t.method,i=t.params,s=t.success,o=t.type,null!=this.player)return null!=this.player[e]?(n=null!=i?this.player[e].apply(this.player,i):this.player[e](),null!=s&&(n=n.then(function(t){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],s.apply(t,e)}}(this))),n["catch"](function(t){return function(e){return t.handleVimeoError(e,o)}}(this))):this.handleVimeoError({message:"No such method",name:"BuzzoolaImplementationError",method:e})},o.prototype.handleVimeoError=function(t,e){var i,r,n;return i=t.message,r=t.method,n=t.name,null==e&&(e="error"),this.trigger(e,r+" "+n+": "+i)},o.prototype.play=function(){return this.performAsync({method:"play"})},o.prototype.pause=function(){return this.performAsync({method:"pause"})},o.prototype.stop=function(){return this.performAsync({method:"unload"})},o.prototype.setVolume=function(t){var e;return e=t/100,this.performAsync({method:"setVolume",params:[e],success:function(){return this.trigger("widget:volume_changed",+t)}})},o.prototype.getCurrentTime=function(){return this.currentTime},o.prototype.getTotalTime=function(){return this.duration},o.prototype.resizeEl=function(t,e,i){return t.style.width=e+"px",t.style.height=i+"px"},o.prototype.resize=function(t,e){var i,r;if(t&&e)return null!=this.player?(r=Math.ceil(t),i=Math.ceil(e),this.resizeEl(this.videoTag,r,i),this.resizeEl(this.player.element,r,!this.showPanels&&i+400||i)):(this.initialWidth=t,this.initialHeight=e)},o}(s.BaseModule)}(window,document,Buzzoola),function(e,i,n){var s;return s=n.Modules.Widgets.Player.Modules,s.VPAIDPlayer=function(o){function a(){return a.__super__.constructor.apply(this,arguments)}return t(a,o),a.prototype.callsStrategies=[].concat(s.BaseModule.prototype.callsStrategies,["api:sendEvent"]),a.prototype.triggersEvents=["widget:mute","widget:state_changed","widget:volume_changed","clickthrough_URL:click","share_button:clicked","error"],a.prototype.handlesEventsVAST={onVastShareButtonClicked:function(t){return this.trigger("share_button:clicked",t)},onVastPlayerClick:function(){return this.callStrategy("api:sendEvent","click",0),this.trigger("clickthrough_URL:click")},onVastPlayerStateChange:function(t){return this.onStateChange(t)},onVastPlayerError:function(t){return"vast"===this.core.loaded_data.content_type&&n.utils.loadXHR(this.core.protocol+"//"+("prod"!==this.core.apiEnv?"dev":"")+"bapi.buzzoola.com/vast_error/"+this.core.params.content,null,{withCredentials:!0},"POST",{"Content-type":"application/x-www-form-urlencoded"},"message="+encodeURIComponent(t)),this.trigger("error",t)},onVastVolumeChange:function(t){return this.trigger("widget:mute",0===parseFloat(t))}},a.prototype.init=function(){return a.__super__.init.call(this),this.containerId=this.core.params.id,this.content=this.core.loaded_data.creative_hash,this.apiPlayerURL=this.core.params.origin+"/swf/buzzplayer.swf",null!=this.core.loaded_data.thumbnail_animated&&(this.core.loaded_data.thumbnail=this.core.loaded_data.thumbnail_animated),this.flashVars=n.utils.extend({parentFQDN:this.core.params.parent,hostedFQDN:BUZZOOLA.hosted,referrerFQDN:BUZZOOLA.referrer,buzz_player_id:this.containerId,buzz_skip_button:"false",buzz_autoplay:"false",buzz_hide_play_button_on_first_start:this.core.loaded_data.auto_play>0,buzz_controls:!!this.showPanels,buzz_send_js_events:"true",buzz_origin:this.core.params.origin+"/swf/buzzoolavpaid3.swf",buzz_send_stat:"false",buzz_thumb_url:this.core.loaded_data.thumbnail,is_prod:+("prod"===this.core.environment)},this.core.loaded_data.content.mimeType?{buzz_ctor:n.utils.Base64.encode(JSON.stringify([{thumbnail:this.core.loaded_data.thumbnail,main_content:encodeURI(this.core.loaded_data.main_content),content:{main_content:encodeURI(this.core.loaded_data.main_content),mimeType:this.core.loaded_data.content.mimeType},content_type:this.core.loaded_data.content_type}]))}:{buzz_ctor:n.utils.Base64.encode(JSON.stringify([this.core.loaded_data])),hash:this.content,event_url:this.core.loaded_data.event_url})},a.prototype.loadVideo=function(){return e.buzz_swfobject?this.loadVPAIDVideo():n.utils.loadScript(this.core.params.origin+"/build/swfobject.js",function(t){return function(e){return e?t.trigger("error","not loaded swfobject"):t.loadVPAIDVideo()}}(this))},a.prototype.loadVPAIDVideo=function(){var t,n,s,o,a;if(!((null!=(s=e.buzz_swfobject)?s.getFlashPlayerVersion().major:void 0)>9))return this.trigger("error","flash not supported");this.core.wrap.style.background="black",e.buzz_swfobject.embedSWF(this.apiPlayerURL,this.containerId,this.initialWidth,this.initialHeight,"10",null,this.flashVars,{allowScriptAccess:"always",wmode:"transparent",bgcolor:"#000000",allowfullscreen:"true"},null),o=this.handlesEventsVAST,a=[];for(n in o)t=o[n],a.push(function(t){return function(n,s){return e[n]=function(n){return function(){var o,a;return a=arguments[0],o=2<=arguments.length?r.call(arguments,1):[],setTimeout(function(){if(n&&n.apply(e,[a].concat(o)),t.containerId===a)return t.player||(t.player=i.querySelector("#"+t.containerId)),s.apply(t,o)},0)}}(e[n])}}(this)(n,t));return a},a.prototype.play=function(){var t;if(null!=(t=this.player)?t.playVideo:void 0)return this.player.playVideo()},a.prototype.pause=function(){var t;if(null!=(t=this.player)?t.pauseVideo:void 0)return this.player.pauseVideo()},a.prototype.stop=function(){var t;if(null!=(t=this.player)?t.stopVideo:void 0)return this.player.stopVideo()},a.prototype.setVolume=function(t){var e;if(null!=(e=this.player)?e.setVolume:void 0)return this.player.setVolume(t),this.trigger("widget:volume_changed",+t)},a.prototype.resize=function(t,e){var i;if(!this.player)return this.initialWidth=t,this.initialHeight=e;try{return this.player.width=t,this.player.height=e}catch(r){return i=r,this.core.log("bad resizing")}},a.prototype.getTime=function(t){var e;return(null!=(e=this.player)?e.timeData:void 0)?this.player.timeData()[t]:-1},a.prototype.getCurrentTime=function(){return this.getTime("currentTime")},a.prototype.getTotalTime=function(){return this.getDuration("duration")},a.prototype.onStateChange=function(t){if(this.data.state!==t)return this.data.started||"play"!==t||(this.data.started=!0,this.changeState("start"),this.changeState("duration")),this.changeState(t)},a}(s.BaseModule)}(window,document,Buzzoola),function(e,i,s){var o;return o=s.Modules.Widgets.Player.Modules,o.VPAIDJsPlayer=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.callsStrategies=[].concat(o.VideoUrlPlayerBase.prototype.callsStrategies,["clickthrough_URL:open"]),i.prototype.triggersEvents=["close_button:click","event:tick","widget:mute","widget:state_changed","widget:volume_changed","share_button:clicked","vpaidjs:adStarted","vpaidjs:adImpression","vpaidjs:adVideoStart","vpaidjs:adVideoFirstQuartile","vpaidjs:adVideoMidpoint","vpaidjs:adVideoThirdQuartile","error"],i.prototype.handlesEvents=s.utils.extend({terminated:function(){var t;return t=this.data.state,n.call(this.stoppedStates,t)>=0||this.stop(),this.clearTimeout(),this.destroyed=!0}},o.VideoUrlPlayerBase.prototype.handlesEvents),i.prototype.playerHandlesEvents={AdError:function(t){var e,i,r;return e=null!=(r=t.message)?r:t,i=s.utils.isFunction(e.search)&&e.search(!0)?"warning":(clearTimeout(this.triggerAdImpressionTimer),"error"),this.trigger(i,t)},AdLoaded:function(){var t,e,i,r,n;return this.clearTimeout("init"),null!=(t=this.player._el)&&null!=(e=t.querySelector("video"))&&e.removeAttribute("controls"),(null!=(i=this.core.options)?i.vpaidJSProxy:void 0)&&null==(null!=(r=this.core.options)?r.videoSlot:void 0)&&this.setVolume(0),null!=(n=this.player)&&"function"==typeof n.getAdDuration?n.getAdDuration(function(t){return function(e,i){return t.duration=i&&i>0?i:t.core.loaded_data.duration>0?t.core.loaded_data.duration:(t.retryDurationRequest=!0,0),t.onPlayerReady()}}(this)):void 0},AdDurationChange:function(){return this.requestDuration()},AdRemainingTimeChange:function(){return this.handleRemaining=!1,clearTimeout(this.remainingTimeout),this.requestRemainingTime()},AdImpression:function(){if(!(this.triggerAdImpressionTimer||n.call(this.triggeredOnceEvents,"vpaidjs:adImpression")>=0))return this.triggerAdImpressionTimer=setTimeout(function(t){return function(){return t.triggerAdImpressionTimer=null,t.triggerBy(t.triggeredOnceEvents,"vpaidjs:adImpression")}}(this),500)},AdVideoFirstQuartile:function(){var t,e;for(this.clearTimeout("start"),e=t=0;t<=3;e=++t)this.triggerBy(this.availableTicks,"event:tick",e);return this.triggerBy(this.triggeredOnceEvents,"vpaidjs:adVideoFirstQuartile")},AdVideoMidpoint:function(){var t,e;for(this.clearTimeout("start"),e=t=0;t<=5;e=++t)this.triggerBy(this.availableTicks,"event:tick",e);return this.triggerBy(this.triggeredOnceEvents,"vpaidjs:adVideoMidpoint")},AdVideoThirdQuartile:function(){var t,e;for(this.clearTimeout("start"),e=t=0;t<=8;e=++t)this.triggerBy(this.availableTicks,"event:tick",e);return this.triggerBy(this.triggeredOnceEvents,"vpaidjs:adVideoThirdQuartile")},AdStarted:function(){return this.clearTimeout("start"),this.changeState("start"),this.triggerBy(this.triggeredOnceEvents,"vpaidjs:adStarted")},AdVideoStart:function(){if(!this.data.started)return this.clearTimeout("start"),this.data.started=!0,this.triggerBy(this.triggeredOnceEvents,"vpaidjs:adVideoStart"),this.triggerBy(this.availableTicks,"event:tick",0),setTimeout(function(t){return function(){if(t.handleRemaining&&!(t.currentTime>0))return t.requestRemainingTime()}}(this),500),this.retryDurationRequest?this.requestDuration():this.changeState("duration"),this.changeState("play")},AdVideoComplete:function(){var t,e;for(this.clearTimeout("start"),e=t=0;t<=10;e=++t)this.triggerBy(this.availableTicks,"event:tick",e);return setTimeout(function(t){return function(){return t.changeState("finish")}}(this),200)},AdSkipped:function(){return this.onSkip()},AdUserClose:function(){return this.onSkip()},AdPaused:function(){return this.changeState("pause")},AdPlaying:function(){return this.clearTimeout("start"),this.changeState("play")},AdVolumeChange:function(){var t;return null!=(null!=(t=this.player)?t.getAdVolume:void 0)?this.player.getAdVolume(function(t){return function(e,i){return t.trigger("widget:volume_changed",100*i)}}(this)):0},AdClickThru:function(t,e,i){var r;return null==i&&(i=!1),t&&s.utils.isObject(t)&&(r=t,t=r.url,e=r.id,i=r.playerHandles),null!=t&&(this.core.loaded_data.clickthrough_URL=t),this.callStrategy("clickthrough_URL:open",!(!i||null==this.core.loaded_data.clickthrough_URL))}},i.prototype.init=function(){return i.__super__.init.call(this),this.stoppedStates=["pause","finish"],this.retryDurationRequest=!1,this.handleRemaining=!0,this.currentTime=this.duration=0,this.timeoutRange=8e3,this.triggeredOnceEvents=[],this.availableTicks=[]},i.prototype.onSkip=function(){return this.trigger("close_button:click"),this.core.destroy()},i.prototype.triggerBy=function(){var t,e,i,n;if(e=arguments[0],n=arguments[1],t=3<=arguments.length?r.call(arguments,2):[],i=n,t>0&&(i+=t.join("/")),e.indexOf(i)===-1)return e.push(i),"event:tick"===n&&(this.core.state.slice=t[0]),this.trigger.apply(this,[n].concat(r.call(t)))},i.prototype.requestRemainingTime=function(){var t;return null!=(t=this.player)&&"function"==typeof t.getAdRemainingTime?t.getAdRemainingTime(function(t){return function(e,i){var r;if(!t.core.destroyed)return i>=0&&(r=t.duration-i,t.currentTime!==r&&(t.currentTime=r)),t.handleRemaining?t.remainingTimeout=setTimeout(function(){return t.requestRemainingTime()},250):void 0}}(this)):void 0},i.prototype.requestDuration=function(){var t;return null!=(t=this.player)&&"function"==typeof t.getAdDuration?t.getAdDuration(function(t){return function(e,i){var r;if(i&&!(i<0))return t.retryDurationRequest=!1,t.duration=i,r=t.data.state,t.changeState("duration"),t.changeState(r)}}(this)):void 0},i.prototype.clearTimeout=function(t){var e,i,r,n,s,o;for(o=null!=t?[t]:["init","start"],n=[],e=0,i=o.length;e<i;e++)s=o[e],r=s+"Timeout",null!=this[r]&&clearTimeout(this[r]),n.push(this[r]=null);return n},i.prototype.loadVideo=function(){return this.renderVideoTag(),this.core.isUsingVideoSlot()||this.videoTag.removeAttribute("controls"),this.videoTag.player=!0,this.initTimeout=setTimeout(function(t){return function(){return t.trigger("error","vpaidjs init timeout")}}(this),this.timeoutRange),new s.utils.VPAIDHTML5Client(this.core.widget_div,this.videoTag,{}).loadAdUnit(this.videoUrl,function(t){return function(e,i){return t.player=i,e||!t.player?t.trigger("error",e||"player in not defined"):(t.player.on||(t.player.on=t.player.subscribe),t.initPlayerEventHandlers(),void t.player.handshakeVersion("2.0",function(e){var i,r;return e?t.trigger("error",e):void t.player.initAd(t.initialWidth,t.initialHeight,"normal",-1,{AdParameters:t.core.loaded_data.content.adParameters},{videoSlotCanAutoPlay:null!=(i=null!=(r=t.core.options)?r.videoSlotAutoPlay:void 0)?i:t.core.loaded_data.auto_play})}))}}(this))},i.prototype.onPlayerReady=function(){var t;return this.ready=!0,null!=(t=this.player)&&"function"==typeof t.getAdVolume&&t.getAdVolume(function(t){return function(e,i){if(!e)return t.trigger("widget:volume_changed",100*i)}}(this)),this.changeState("ready")},i.prototype.play=function(){var t,e;return this.data.started?null!=(t=this.player)&&"function"==typeof t.resumeAd?t.resumeAd():void 0:(this.data.started||(this.startTimeout=setTimeout(function(t){return function(){return t.trigger("error","vpaidjs start timeout")}}(this),this.timeoutRange)),null!=(e=this.player)&&"function"==typeof e.startAd?e.startAd():void 0)},i.prototype.pause=function(){var t,e;if("loading"!==(t=this.data.state)&&"ready"!==t)return null!=(e=this.player)&&"function"==typeof e.pauseAd?e.pauseAd():void 0},i.prototype.stop=function(){var t;return null!=(t=this.player)&&"function"==typeof t.stopAd?t.stopAd():void 0},i.prototype.setVolume=function(t){var e,i,r,n,s,o,a;if(!(t<0)){a=t/100,null!=(i=this.player)&&"function"==typeof i.setAdVolume&&i.setAdVolume(a);try{if(null!=(r=this.player)&&null!=(n=r._videoEl)&&(n.muted=0===t),(null!=(s=this.player)&&null!=(o=s._videoEl)?o.volume:void 0)===a)return this.trigger("widget:volume_changed",t)}catch(l){e=l}}},i.prototype.resize=function(t,e){var i,r;if(null!=(r=this.core.widget_div)&&(r.style.width=t+"px",r.style.height=e+"px"),!this.player||!this.ready)return this.initialWidth=t,this.initialHeight=e;try{if(this.player.resizeAd(this.initialWidth=t,this.initialHeight=e),null!=this.player._iframe)return this.player._iframe.style.width=t+"px",this.player._iframe.style.height=e+"px",this.player._iframe.setAttribute("width",t),this.player._iframe.setAttribute("height",e)}catch(n){return i=n,this.core.log("bad resizing")}},i.prototype.getCurrentTime=function(){return this.currentTime},i.prototype.getTotalTime=function(){return this.duration},i.prototype.toggleFullscreen=function(){},i}(o.VideoUrlPlayerBase)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.TGB.Modules.Landing.Core=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.addsStrategies=[["landing:header",0,"renderHeader"]],n.prototype.triggersEvents=["landing:open","landing:close","landing:action"],n.prototype.callsStrategies=["shareButtons:renderButtons","shareButtons:addEventsListenersButtonContainer","embed_svg","landing:header"],n.prototype.handlesEvents={drawn:function(){return this._onClick_=function(t){return function(e){return t.onOpen(e)}}(this),r.utils.add_event_listener("click",this._onClick_,this.core.wrap_html),this.core.wrap_html.style.cursor="pointer",this.render(),this.initHandlersPopup()},"engagement:user_left_page":function(){return this.onClose()},"before:destroyed":function(){var t;if((null!=(t=this.popup)?t.parentNode:void 0)&&this.popup.parentNode.removeChild(this.popup),this._onClick_&&this.core.wrap_html)return r.utils.remove_event_listener("click",this._onClick_,this.core.wrap_html)}},n.prototype.init=function(){return this.state={open:!1}},n.prototype.onOpen=function(){if(!this.state.open)return this.state.open=!0,i.body.style.position="fixed",this.footer&&(this.footer.style.display="block"),r.utils.remove_class("buzz-fadeOut",this.popup),this.popup.className+=" buzz-fadeIn",this.trigger("landing:open")},n.prototype.onClose=function(){if(this.state.open)return this.state.open=!1,i.body.style.overflow="auto",i.body.style.position="",r.utils.remove_class("buzz-fadeIn",this.popup),this.popup.className+=" buzz-fadeOut",this.footer&&(this.footer.style.display="none"),this.trigger("landing:close")},n.prototype.renderHeader=function(){var t;return t="",""!==this.core.loaded_data.sponsor_name?(t+="<b style='text-transform: uppercase; position: relative;'> "+this.core.loaded_data.sponsor_name+"</b>",""!==this.core.loaded_data.sponsor_logo&&(t+="<img src='"+this.core.loaded_data.sponsor_logo+"'>")):this.core.loaded_data.show_title&&(t+="<b>"+this.core.loaded_data.title+"</b>"),t},n.prototype.render=function(){var t,e,n,s,o;return this.callStrategy("embed_svg",["arrow_left","globe","call"]),this.popup=i.createElement("div"),this.popup.className="buzz-popup buzz-fadeOut",o="buzz-popup-footer-"+r.utils.guid(),s="<div class='buzz-popup-header'>",t=this.core.loaded_data.content.landing_options.action_call,this.core.loaded_data.clickthrough_URL&&!this.core.loaded_data.content.landing_options.hide_clickthrough_URL&&(e=this.core.loaded_data.clickthrough_URL),n=+!!e+ +!!t,s+=this.callStrategy("landing:header"),s+="<span class='buzz-popup-back'> <svg class='buzzplayer-svg-icon buzzplayer-svg-icon_black' viewBox='0 0 100 100'> <use class='buzz-popup-back__icon' xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_arrow_left'></use> </svg> </span> </div> <div class='buzz-popup-body"+(n>0?"":" buzz-popup-body-full")+"'> "+(this.core.loaded_data.content.landing_options.html_body?this.core.loaded_data.content.landing_options.html_body:"")+" </div>",n>0&&(s+="<div class='buzz-popup-footer "+o+"' style='display:none;'>",e&&(s+="<a style='width: "+100/n+"%' class='buzz-click buzz-popup-footer__button' href='"+(e||"")+"' target='_blank' > <span class='buzz-popup-footer__button__icon'> <svg class='buzzplayer-svg-icon buzzplayer-svg-icon_white' viewBox='0 0 100 100'> <use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_globe'></use> </svg> </span> <span class='buzz-popup-footer__button__text'> "+(this.core.loaded_data.content.landing_options.action_click_text||"\u041d\u0410 \u0421\u0410\u0419\u0422")+" </span> </a>"),t&&(s+="<a style='width: "+100/n+"%' class='buzz-cta buzz-popup-footer__button' href='tel:"+(t||"")+"' target='_blank' > <span class='buzz-popup-footer__button__icon'> <svg class='buzzplayer-svg-icon buzzplayer-svg-icon_white' viewBox='0 0 100 100'> <use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_call'></use> </svg> </span> <span class='buzz-popup-footer__button__text'> \u041f\u041e\u0417\u0412\u041e\u041d\u0418\u0422\u042c </span> </a>"),s+="</div>"),this.popup.innerHTML=s,this.core.container.appendChild(this.popup),this.footer=this.popup.querySelector("div.buzz-popup-footer"),this.popup},n.prototype.initHandlersPopup=function(){var t;if(this.popup)return r.utils.add_event_listener("click",function(t){return function(){return t.onClose()}}(this),this.popup.querySelector(".buzz-popup-back")),(t=this.popup.querySelector(".buzz-cta"))&&r.utils.add_event_listener("click",function(t){return function(){return t.trigger("landing:action")}}(this),t),this.callStrategy("shareButtons:addEventsListenersButtonContainer",this.popup)},n}(r.Modules.BaseModule),r.Modules.Mixins.ScrollLock(r.Modules.Widgets.TGB.Modules.Landing.Core.prototype)}(window,document,Buzzoola),function(e,i,r){return r.Modules.Widgets.TGB.Modules.Landing.ShareButtons=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.addsStrategies=[["shareButtons:renderButtons",0,"renderButtons"],["shareButtons:addEventsListenersButtonContainer",0,"addEventsListenersButtonContainer"]],i.prototype.callsStrategies=["embed_svg"],i.prototype.renderButtons=function(){var t,e,i,r,n;if(n="",this.shareButtons&&this.shareButtons.length){for(this.callStrategy("embed_svg",["social_fb","social_vk","social_tw","social_ok","social_moi_mir"]),n+="<ul>",r=this.shareButtons,e=0,i=r.length;e<i;e++)t=r[e],n+=function(){switch(t){case"facebook":return"<li class='buzz-share-fb' soc-name='"+t+"'> <a> <svg class='' viewBox='0 0 100 100'> <use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_fb'></use> </svg> </a> </li>";case"vkontakte":return"<li class='buzz-share-vk' soc-name='"+t+"'> <a> <svg class='' viewBox='0 0 100 100'> <use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_vk'></use> </svg> </a> </li>";case"twitter":return"<li class='buzz-share-tw' soc-name='"+t+"'> <a> <svg class='' viewBox='0 0 100 100'> <use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_tw'></use> </svg> </a> </li>";case"moimir":return"<li class='buzz-share-mm' soc-name='"+t+"'> <a> <svg class='' viewBox='0 0 100 100'> <use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_moi_mir'></use> </svg> </a> </li>";case"odnoklassniki":return"<li class='buzz-share-ok' soc-name='"+t+"'> <a> <svg class='' viewBox='0 0 100 100'> <use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_ok'></use> </svg> </a> </li>";default:return""}}();n+="</ul>"}return n},i.prototype.addEventsListenersButtonContainer=function(t){var e,i,n,s,o;if(t){for(o=t.querySelectorAll("div.buzz-popup-footer ul li"),n=[],e=0,i=o.length;e<i;e++)s=o[e],n.push(function(t){return function(e){var i;return i=e.getAttribute("soc-name"),r.utils.add_event_listener("click",function(e){try{if(t.shareButtons.indexOf(i)!==-1)return t.share(i)}catch(r){return e=r,console.log("SHARE ERROR",e)}},e)}}(this)(s));return n}},i}(r.Modules.BaseShareButtons)}(window,document,Buzzoola),function(i,r,n){var s;return s=n.Modules.Widgets.Player.Modules,s.PanoramaPlayerIframe=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,r),o.prototype.addsStrategies=[].concat(s.BaseModule.prototype.addsStrategies,[["widget:toggleVR",0,"toggleVR"],["widget:toggleFullscreen",0,"toggleFullscreen"]]),o.prototype.callsStrategies=[].concat(s.BaseModule.prototype.callsStrategies,["fullwindow:enter","fullwindow:exit","viewport:getOrientation"]),o.prototype.handlesEvents={"widget:fullwindowchange":function(t){var e;return this.fullscreen=t,e=this.callStrategy("get_video_size",this.callStrategy("resize:calcWidth"),this.callStrategy("resize:calcHeight")),this.resize(e.width,e.height)},"orientation:change":function(t){return this.orientation=t,this.sendPostMessage({method:"setOrientation",arg:this.orientation})}},o.prototype.init=function(){if(o.__super__.init.apply(this,arguments),this.id=this.core.params.id+n.utils.guid(),this.iframeDomain=this.core.params.origin,this.iframeUrl=this.iframeDomain+"/panorama_iframe.html",this.videoUrl=this.core.loaded_data.content.main_content,this.orientation=this.callStrategy("viewport:getOrientation"),this.initEventHandlerIframe(),n.utils.bowser.mobile||n.utils.bowser.tablet)return n.utils.add_event_listener("devicemotion",function(t){return function(e){var i,r;return r=null!=e.rotationRate?{alpha:e.rotationRate.alpha,beta:e.rotationRate.beta}:void 0,i=e.orientation,t.sendPostMessage({method:"devicemotion",arg:{rotationRate:r,orientation:i}})}}(this),i)},o.prototype.iframeHandler=function(t,i){var r;if(t)this.trigger("error",e);else switch(i.method){case"onload":this.sendPostMessage({method:"setOptions",arg:null!=(r=this.core.loaded_data.content.vr_options)?r:{}});break;case"totalTime":case"currentTime":this[i.method]=i.value;break;case"changeState":this.changeState(i.value,i.params);break;case"widget:volume_changed":this.trigger("widget:volume_changed",i.value)}},o.prototype.loadVideo=function(){return this.iframe=this.createIframe(this.iframeUrl+"?id="+this.id+"&videoUrl="+encodeURIComponent(this.videoUrl)+"&initialWidth="+this.initialWidth+"&initialHeight="+this.initialHeight+"orientation="+this.orientation,this.core.widget_div),
this.resize(this.initialWidth,this.initialHeight)},o.prototype.getCurrentTime=function(){return this.currentTime},o.prototype.getTotalTime=function(){return this.totalTime},o.prototype.resize=function(t,e){var i;return i=this.fullscreen&&"%"||"px",this.fullscreen&&(t=100,e=100),this.iframe?(this.iframe.setAttribute("style","width: "+(t+i)+" !important; height: "+(e+i)+" !important"),this.sendPostMessage({method:"resize",arg:[t,e,i]})):(this.initialWidth=t,this.initialHeight=e)},o.prototype.destroy=function(){this.iframe&&this.core.widget_div&&this.core.widget_div.removeChild(this.iframe)},o.prototype.play=function(){return this.sendPostMessage({method:"play"})},o.prototype.pause=function(){return this.sendPostMessage({method:"pause"})},o.prototype.setVolume=function(t){return this.sendPostMessage({method:"setVolume",arg:t})},o.prototype.toggleVR=function(){return this.sendPostMessage({method:"toggleVR"})},o.prototype.enterFullscreen=function(){return this.callStrategy("fullwindow:enter",this.core.widget_div)},o.prototype.exitFullscreen=function(){return this.callStrategy("fullwindow:exit",this.core.widget_div)},o.prototype.toggleFullscreen=function(){return this.fullscreen?this.exitFullscreen():this.enterFullscreen()},o}(s.BaseModule),n.Modules.Mixins.Iframe(s.PanoramaPlayerIframe.prototype)}(window,document,Buzzoola),function(i,n,s){var o;return o=s.Modules.Widgets.Player.Modules,o.YoutubePlayerIframe=function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,i),n.prototype.proxyMethods=["play","pause","setVolume","stop","getCurrentTime","getTotalTime"],n.prototype.init=function(){n.__super__.init.call(this),this.currentTime=this.totalTime=-1,"debug"===this.core.environment||"test"===this.core.environment?(this.iframeDomain=this.core.params.origin,this.iframeUrl=this.iframeDomain+"/youtube_iframe.html"):(this.iframeDomain=this.core.loaded_data.iframe_domains[Math.floor(Math.random()*this.core.loaded_data.iframe_domains.length)],this.iframeUrl=this.iframeDomain+"/new/youtube_iframe.html"),this.initEventHandlerIframe()},n.prototype.iframeHandler=function(t,i){if(t)this.trigger("error",e);else switch(i.method){case"totalTime":case"currentTime":this[i.method]=i.value;break;case"changeState":this.changeState(i.value,i.params)}},n.prototype.loadVideo=function(){var t,e,i,n,o;for(this.iframe=this.createIframe(this.iframeUrl+"?id="+this.id+"&videoID="+this.videoID+"&isIos="+this.isIos+"&showPanels="+this.showPanels+"&initialWidth="+this.initialWidth+"&initialHeight="+this.initialHeight,this.core.widget_div),s.utils.add_class("buzz_relative",this.iframe),this.resize(this.initialWidth,this.initialHeight),this.player={},n=this.proxyMethods,o=[],t=0,e=n.length;t<e;t++)i=n[t],o.push(function(t){return function(e){return t.player[e]=function(){var i;return i=1<=arguments.length?r.call(arguments,0):[],t.sendPostMessage({method:e,arg:i})}}}(this)(i));return o},n.prototype.getCurrentTime=function(){return this.currentTime},n.prototype.getTotalTime=function(){return this.totalTime},n.prototype.resize=function(t,e){return this.iframe?(this.iframe.setAttribute("style","width: "+t+"px !important; height: "+e+"px !important"),this.sendPostMessage({method:"resize",arg:[t,e]})):(this.initialWidth=t,this.initialHeight=e)},n.prototype.destroy=function(){this.iframe&&this.core.widget_div&&this.core.widget_div.removeChild(this.iframe)},n}(o.YoutubePlayer),s.Modules.Mixins.Iframe(o.YoutubePlayerIframe.prototype)}(window,document,Buzzoola)}).call(this);