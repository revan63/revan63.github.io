!function(e,t){e.Buzzoola=e.Buzzoola||{},e.Buzzoola.version={hash:"dcd737a478804a3d4efc807c363dfd2fe37c69f5",timestamp:1569837468660}}(window,document),function(){var indexOf=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},slice=[].slice;!function(e,t){var i,n,r,s;if(i={Modules:{Mixins:{},Widgets:{Player:{Modules:{}},TGB:{Modules:{Landing:{}}},Scroller:{Modules:{}},Maxiscroll:{Modules:{}},Carousel:{Modules:{}},Clickunder:{Modules:{}},Showcase:{Modules:{}},Banner:{Modules:{}}}},Is:{}},e.Buzzoola=e.Buzzoola||{},Buzzoola.utils)return Buzzoola.utils.extend(Buzzoola,i);r=[];for(n in i)s=i[n],r.push(Buzzoola[n]=s);return r}(window,document),function(w,d,b){var base,hidden,hiddenPrefix,j,k,lastWindow,len,len1,logs,method,pageVisibilityListeners,prefix,ref,ref1,ref2,ref3,ref4,utils,visibilityChange;for(hidden=void 0,visibilityChange=void 0,hiddenPrefix=["","moz","ms","webkit"],pageVisibilityListeners=(null!=(ref=b.utils)?ref.__pageVisibilityListeners:void 0)||{},lastWindow=void 0,j=0,len=hiddenPrefix.length;j<len;j++)if(prefix=hiddenPrefix[j],"undefined"!=typeof d[prefix+"hidden"]){hidden=""+prefix+(prefix?"H":"h")+"idden",visibilityChange=prefix+"visibilitychange";break}if(utils={loadedStylesheets:null!=(ref1=null!=(ref2=b.utils)?ref2.loadedStylesheets:void 0)?ref1:[],embededStyles:null!=(ref3=null!=(ref4=b.utils)?ref4.embededStyles:void 0)?ref3:[],__pageVisibilityListeners:pageVisibilityListeners,add_event_listener:function(e,t,i){return i=i||w,i.addEventListener?i.addEventListener(e,t,!1):i.attachEvent("on"+e,t)},remove_event_listener:function(e,t,i){return i=i||w,i.removeEventListener?i.removeEventListener(e,t,!1):i.detachEvent("on"+e,t)},add_page_visibility_listener:function(e){var t,i;return"undefined"==typeof document.addEventListener||"undefined"==typeof document[hidden]?(t=function(){return setTimeout(function(){if(d.activeElement===d.body&&!d.hasFocus())return e("hidden")},50)},utils.add_event_listener("blur",t)):(t=function(){return e(d[hidden]?"hidden":"visible")},utils.add_event_listener(visibilityChange,t,d)),i=Math.round(1e6*Math.random()),pageVisibilityListeners[i]=t,i},remove_page_visibility_listener:function(e){var t;if(t=pageVisibilityListeners[e])return"undefined"==typeof document.addEventListener||"undefined"==typeof document[hidden]?utils.remove_event_listener("blur",t):utils.remove_event_listener(visibilityChange,t,d)},throttle:function(e,t){var i;return i=!1,function(){if(!i)return e.call(),i=!0,setTimeout(function(){i=!1},t)}},is_child:function(e,t){var i;if(!e||!t)return!1;for(i=e.parentNode;null!==i;){if(i===t)return!0;i=i.parentNode}return!1},add_class:function(e,t){var i;if(t&&null!=t.className){if(i=t.className,i.indexOf(e)!==-1)return;return i+=" "+e,t.className=i}},remove_class:function(e,t){var i,n;if(t&&null!=t.className)return i=t.className,n=new RegExp("(\\s|^)"+e,"g"),i=i.replace(n,""),t.className=i},add_stylesheet:function(e){var t,i,n;if(!(indexOf.call(b.utils.loadedStylesheets,e)>=0))return t=function(t,i){var n,r,s;if(null==i&&(i=!1),s=function(){try{return t.sheet.cssRules&&!t.sheet.cssRules.length}catch(e){if(n=e,"SecurityError"!==n.name)throw n;return!1}}(),(i||s)&&(r=b.utils.loadedStylesheets.indexOf(e),r!==-1))return b.utils.loadedStylesheets.splice(r,1)},b.utils.loadedStylesheets.push(e),i=document.head,n=document.createElement("link"),n.onload=function(){return t(this)},n.onerror=function(){return t(this,!0)},n.type="text/css",n.rel="stylesheet",n.href=e,i.appendChild(n)},XHR:w.XDomainRequest||w.XMLHttpRequest,JSON:w.JSON||{parse:function(str){var jsp;return""===str&&(str='""'),jsp={},eval("jsp="+str+";"),jsp}},load_template:function(e,t){var i;i=new utils.XHR,i.onload=function(){var e,t,n,r,s;for(t=i.responseText,e=document.createElement("div"),e.innerHTML=t,r=e.querySelectorAll("script"),n=0;n<r.length;)s=r[n].getAttribute("src"),console.log(s),n++},i.open("GET",e),i.send()},debounce:function(e,t,i){var n;return n=void 0,function(){var r,s,o,a;o=this,r=arguments,a=function(){n=null,i||e.apply(o,r)},s=i&&!n,clearTimeout(n),n=setTimeout(a,t),s&&e.apply(o,r)}},toUnderscore:function(e){return e.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})},getNamespaceObj:function(e,t){var i,n,r;if("[object String]"===Object.prototype.toString.call(t))for(n=t.split("."),i=0,r=n.length;i<r&&"undefined"!=typeof e[n[i]];)e=e[n[i]],i++;return e},initModules:function(e,t,i){var n,r,s;s=utils.getNamespaceObj(b.Modules,i);for(r in t)t[r]&&(n=s[r],"undefined"!=typeof n?new n(e):console.log("module "+(i&&i+"."||"")+r+" not found"))},transitionHeight:function(e,t,i){var n;utils.add_class("buzz_transition_height",e),n=function(){if(utils.remove_class("buzz_transition_height",e),i)return i()},setTimeout(function(){var i;"ontransitionend"in w?(i=function(t){t.target===e&&(utils.remove_event_listener("transitionend",i,e),n())},utils.add_event_listener("transitionend",i,e)):setTimeout(n,500),e.style.height=t+"px"},40)},embedScript:function(e,t){var i,n,r,s,o;if(s=d.createElement("script"),s.type="text/javascript",utils.setText(s,e),null!=t?t.appendChild:void 0)return t.appendChild(s);for(o=d.getElementsByTagName("script"),i=0,n=o.length;i<n&&(r=o[i],null!=r?!r.parentNode:!void 0);i++);return(null!=r?r.parentNode:void 0)?r.parentNode.insertBefore(s,r):void 0},loadScript:function(e,t){var i;i=document.createElement("script"),i.onload=function(){if(t)return t()},i.onerror=function(e){if(t)return t(!0)},i.src=e,i.async=!0,d.body.appendChild(i)},getPropertyValue:function(e,t){var i,n,r,s,o,a,l,u;if(e){switch(t){case"width":case"height":return e.getBoundingClientRect&&(a=e.getBoundingClientRect()[t])&&!isNaN(a)?a+"px":(t="client"+t.charAt(0).toUpperCase()+t.slice(1),e[t]+"px")}if(w.getComputedStyle){if(u=(null!=(o=w.getComputedStyle(e,null))?o.getPropertyValue(t):void 0)||0,("-webkit-transform"===t||"transform"===t)&&u)for(l=u.match(/matrix(?:(3d)\(-{0,1}\d+(?:, -{0,1}\d+)*(?:, (-{0,1}\d+))(?:, (-{0,1}\d+))(?:, (-{0,1}\d+)), -{0,1}\d+\)|\(-{0,1}\d+(?:, -{0,1}\d+)*(?:, (-{0,1}.+))(?:, (-{0,1}.+))\))/),u=l?"3d"===l[1]?l.slice(2,5):(l.push(0),l.slice(5,8)):[0,0,0],i=r=0,s=u.length;r<s;i=++r)n=u[i],u[i]=parseFloat(n);return u}}},parseXML:function(e){var t;return w.DOMParser?(new w.DOMParser).parseFromString(e,"text/xml"):"undefined"!=typeof w.ActiveXObject&&null!=(t=new window.ActiveXObject("Microsoft.XMLDOM"))?(t.async="false",t.loadXML(e),t):null},parseURLString:function(e){var t;return t=d.createElement("a"),t.href=e,t},loadHtml:function(e,t){utils.loadXHR(e,function(e,i){if(t)return t(i)})},loadXHR:function(e,t,i,n,r,s){var o,a,l;null==i&&(i={}),null==n&&(n="GET"),null==r&&(r={}),l=new utils.XHR,l.timeout&&(l.timeout=15e3),l.onload=function(){t&&t(l.status>=400,l.response||l.responseText,l)},l.onerror=function(){t&&t(!0,l.response||l.responseText,l)},l.onprogress=function(){},l.ontimeout=function(){t&&t(!0,l.response||l.responseText,l)},l.open(n,e,!0);for(o in i)a=i[o],l[o]=a;if(null!=l.setRequestHeader)for(o in r)a=r[o],l.setRequestHeader(o,a);return l.send(s),l},loadExtra:function(e,t){var i;return 2===b.utils.extraLibState?t():(null==(i=b.utils).extraLibCallbacks&&(i.extraLibCallbacks=[]),b.utils.extraLibCallbacks.push(t),0===b.utils.extraLibState?(b.utils.extraLibState=1,b.utils.loadScript(e,function(e){var t;for(b.utils.extraLibState=e?0:2;t=b.utils.extraLibCallbacks.shift();)t(e);return b.utils.extraLibCallbacks=null})):void 0)},loadImage:function(e,t,i){var n;return null==i&&(i=!1),n=document.createElement("img"),n.onerror=function(){if(delete n,t)return t(!0)},n.onload=function(){if(t)return t(!1,n)},i&&n.setAttribute("crossOrigin","anonymous"),n.src=e},union:function(){var e,t,i,n,r;for(i=arguments[0],e=2<=arguments.length?slice.call(arguments,1):[],n=0,r=e.length;n<r;n++)t=e[n],i.push.apply(i,t.filter(function(e){return i.indexOf(e)===-1}));return i},_extend:function(){var e,t,i,n,r,s,o,a;for(o=arguments[0],r=arguments[1],e=3<=arguments.length?slice.call(arguments,2):[],t=0,n=e.length;t<n;t++)if(s=e[t])for(i in s)a=s[i],r[i]=utils.isObject(a)?utils._extend(o,r[i]||{},a):utils.isArray(a)?o?b.utils.union(r[i]||[],a):a.slice():a;return r},extend:function(){var e,t;return t=arguments[0],e=2<=arguments.length?slice.call(arguments,1):[],utils._extend.apply(utils,[!1,t].concat(slice.call(e)))},extendUnite:function(){var e,t;return t=arguments[0],e=2<=arguments.length?slice.call(arguments,1):[],utils._extend.apply(utils,[!0,t].concat(slice.call(e)))},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(fn)},hasFlash:function(){try{return Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(e){return"undefined"!=typeof navigator.mimeTypes["application/x-shockwave-flash"]}},addStyles:function(e){var t,i;if(!(indexOf.call(b.utils.embededStyles,e)>=0))return b.utils.embededStyles.push(e),t=d.head||d.getElementsByTagName("head")[0],i=d.createElement("style"),i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(d.createTextNode(e)),t.appendChild(i),i},setText:function(e,t){if(null==t&&(t=""),e)return e.innerText?e.innerText=t:e.textContent=t},guid:function(){var e;return e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},openLink:function(e,t){var i,n;return t?w.open(e):b.utils.bowser.ios?(i=d.createElement("a"),i.href=e,i.target="_blank",i.click()):(n=w.open(e,"_target"),(null!=n?n.hasOwnProperty("opener"):void 0)&&(n.opener=null),n.focus())},freeze:function(e,t,i,n){return setTimeout(function(){t.call(n,i)},1e3*e)},stopPropagation:function(e){if(e=e||window.event,e.cancelBubble=!0,e.stopPropagation)return e.stopPropagation()},getProtocol:function(){var e,t;return e=(null!=(t=b.utils.getLastWindow())?t:w).location.protocol,["https:","about:","javascript:"].indexOf(e)!==-1?"https:":"http:"},getLastWindow:function(){var e,t;if(null!=lastWindow)return lastWindow;for(t=["about:","javascript:"],e=w;t.indexOf(e.location.protocol)!==-1&&e.parent!==e&&e.parent;)e=e.parent;return lastWindow=e},getTopWindow:function(e){var t,i,n,r,s,o;return null==e&&(e=!1),n=function(){var e;try{return w.top.location.href}catch(i){return t=i,r=w.location.ancestorOrigins,null!=(e=null!=r?r[r.length-1]:void 0)?e:null}}(),n||(n=w!==w.top&&(null!=(s=d.referrer)?s.length:void 0)>0?d.referrer:(null!=(o=b.utils.getLastWindow())?o:w).location.href),e&&(i=n.indexOf("?"))!==-1&&(n=n.slice(0,i)),n},getCurrentFrame:function(e){var t,i,n;null==e&&(e=w);try{return t=e.parent.document,n=Array.prototype.slice.call(t.querySelectorAll("iframe")),n.filter(function(t){return t.contentWindow===e})[0]}catch(r){return i=r,null}},getCookie:function(e){var t,i,n,r;if(r=null,navigator.cookieEnabled&&(i=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")),r=i?decodeURIComponent(i[1]):void 0),null==r)try{r=null!=(n=w.localStorage)?n.getItem(e):void 0}catch(s){t=s}return r},setCookie:function(e,t,i){var n,r,s,o,a,l;if(navigator.cookieEnabled){i=i||{},r=i.expires,"number"==typeof r&&r&&(d=new Date,d.setTime(d.getTime()+1e3*r),r=i.expires=d),r&&r.toUTCString&&(i.expires=r.toUTCString()),t=encodeURIComponent(t),l=e+"="+t;for(s in i)l+="; "+s,o=i[s],o!==!0&&(l+="="+o);document.cookie=l}try{null!=(a=w.localStorage)&&a.setItem(e,t)}catch(u){n=u}},deleteAllCookies:function(){var e,t,i,n,r,s,o;if(navigator.cookieEnabled)for(t=document.cookie.split(";"),r=0;r<t.length;){e=t[r],n=e.indexOf("="),s=n>-1?e.substr(0,n):e,document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT";try{null!=(o=w.localStorage)&&o.removeItem(s)}catch(a){i=a}r++}},isNative:function(){var e,t,i,n,r,s;return s=Object.prototype.toString,e=Function.prototype.toString,i=/^\[object .+?Constructor\]$/,r=String(s).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),n=RegExp("^"+r+"$"),t=function(t){var r;return r=typeof t,"function"===r?n.test(e.call(t)):t&&"object"===r&&i.test(s.call(t))||!1}}()},b.utils=utils.extend(b.utils||{},utils),null==(base=b.utils).extraLibState&&(base.extraLibState=0),d.querySelectorAll||(d.querySelectorAll=function(e){var t,i,n;for(n=d.createElement("style"),i=[],t=void 0,d.documentElement.firstChild.appendChild(n),d._qsa=[],n.styleSheet.cssText=e+" {x-qsa:expression(d._qsa && d._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);d._qsa.length;)t=d._qsa.shift(),t.style.removeAttribute("x-qsa"),i.push(t);return d._qsa=null,i}),d.querySelector||(d.querySelector=function(e){var t;return t=d.querySelectorAll(e),t.length?t[0]:null}),Function.prototype.bind&&window.console&&"object"==typeof console.log)for(logs=["log","info","warn","error","assert","dir","clear","profile","profileEnd"],k=0,len1=logs.length;k<len1;k++)method=logs[k],console[method]=Function.prototype.call.bind(console[method],console)}(window,document,window.Buzzoola=window.Buzzoola||{})}.call(this),function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return r(i?i:e)},c,c.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){"use strict";function n(e,t,i){}function r(e,t,i){Object.defineProperty(e,t,{writable:!1,configurable:!1,value:i})}var s=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],o=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],a=["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"],l=["setAdVolume"];n.prototype.handshakeVersion=function(e,t){},n.prototype.initAd=function(e,t,i,n,r,s,o){},n.prototype.startAd=function(e){},n.prototype.stopAd=function(e){},n.prototype.skipAd=function(e){},n.prototype.resizeAd=function(e,t,i,n){},n.prototype.pauseAd=function(e){},n.prototype.resumeAd=function(e){},n.prototype.expandAd=function(e){},n.prototype.collapseAd=function(e){},n.prototype.subscribe=function(e,t,i){},n.prototype.unsubscribe=function(e,t){},n.prototype.getAdLinear=function(e){},n.prototype.getAdWidth=function(e){},n.prototype.getAdHeight=function(e){},n.prototype.getAdExpanded=function(e){},n.prototype.getAdSkippableState=function(e){},n.prototype.getAdRemainingTime=function(e){},n.prototype.getAdDuration=function(e){},n.prototype.getAdVolume=function(e){},n.prototype.getAdCompanions=function(e){},n.prototype.getAdIcons=function(e){},n.prototype.setAdVolume=function(e,t){},r(n,"METHODS",s),r(n,"GETTERS",a),r(n,"SETTERS",l),r(n,"EVENTS",o);var u=s.filter(function(e){return["skipAd"].indexOf(e)===-1});r(n,"checkVPAIDInterface",function(e){var t=u.every(function(t){return"function"==typeof e[t]});return t}),t.exports=n},{}],2:[function(e,t,i){"use strict";function n(e,t,i,n){this._isValid=c(e),this._isValid&&(this._creative=e,this._el=t,this._videoEl=i,this._iframe=n,this._subscribers=new u,r.call(this))}function r(){if(f.forEach(function(e){this._creative.subscribe(o.bind(this,e),e)}.bind(this)),this._creative.subscribe(s.bind(this),p),this._videoEl){var e=this._iframe.contentDocument.documentElement,t=this._videoEl;e.addEventListener("click",function(i){i.target===e&&t.click()})}}function s(e,t,i){this._subscribers.triggerSync(p,{url:e,id:t,playerHandles:i})}function o(e){this._subscribers.trigger(e,Array.prototype.slice(arguments,1))}function a(e,t,i,n){e?e(i,n):i&&t.trigger(h,i)}var l=e("./IVPAIDAdUnit"),u=e("./subscriber"),c=l.checkVPAIDInterface,d=e("./utils"),h=(l.METHODS,"AdError"),p="AdClickThru",f=l.EVENTS.filter(function(e){return e!=p});n.prototype=Object.create(l.prototype),n.prototype.isValidVPAIDAd=function(){return this._isValid},l.METHODS.forEach(function(e){var t=["subscribe","unsubscribe","initAd","startAd"];t.indexOf(e)===-1&&(n.prototype[e]=function(){var t=l.prototype[e].length,i=Array.prototype.slice.call(arguments),n=t===i.length?i.pop():void 0;setTimeout(function(){var t,r=null;try{t=this._creative[e].apply(this._creative,i)}catch(s){r=s}a(n,this._subscribers,r,t)}.bind(this),0)})}),n.prototype.initAd=function(e,t,i,n,r,s,o){r=r||{},s=d.extend({slot:this._el,videoSlot:this._videoEl},s||{}),setTimeout(function(){var l;try{this._creative.initAd(e,t,i,n,r,s)}catch(u){l=u}a(o,this._subscribers,l)}.bind(this),0)},n.prototype.startAd=function(){var e,t=l.prototype.startAd.length,i=Array.prototype.slice.call(arguments),n=t===i.length?i.pop():void 0,r=null;try{e=this._creative.startAd.apply(this._creative,i)}catch(s){r=s}setTimeout(function(){a(n,this._subscribers,r,e)}.bind(this),0)},n.prototype.subscribe=function(e,t,i){this._subscribers.subscribe(t,e,i)},n.prototype.unsubscribe=function(e,t){this._subscribers.unsubscribe(t,e)},n.prototype.on=n.prototype.subscribe,n.prototype.off=n.prototype.unsubscribe,l.GETTERS.forEach(function(e){n.prototype[e]=function(t){setTimeout(function(){var i,n=null;try{i=this._creative[e]()}catch(r){n=r}a(t,this._subscribers,n,i)}.bind(this),0)}}),n.prototype.setAdVolume=function(e,t){setTimeout(function(){var i,n=null;try{this._creative.setAdVolume(e),i=this._creative.getAdVolume()}catch(r){n=r}n||(n=d.validate(i===e,"failed to apply volume: "+e)),a(t,this._subscribers,n,i)}.bind(this),0)},n.prototype._destroy=function(){this.stopAd(),this._subscribers.unsubscribeAll()},t.exports=n},{"./IVPAIDAdUnit":1,"./subscriber":4,"./utils":5}],3:[function(e,t,i){"use strict";function n(e,t,i,n){i=i||{},this._id=h(),this._destroyed=!1,this._frameContainer=d.createElementInEl(e,"div"),this._videoEl=t,this._vpaidOptions=n||{timeout:1e4},this._templateConfig={template:i.template||f,extraOptions:i.extraOptions||{}}}function r(e){var t=this[e];t&&(t.remove(),delete this[e])}function s(){a.call(this),delete this._adUnit}function o(){a.call(this),u.call(this)}function a(){r.call(this,"_frame"),l.call(this)}function l(){this._onLoad&&(window.removeEventListener("message",this._onLoad),d.clearCallbackTimeout(this._onLoad),delete this._onLoad)}function u(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}function c(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!")}var d=e("./utils"),h=d.unique("vpaidIframe"),p=e("./VPAIDAdUnit"),f="<body onload=\"var js = document.createElement('script');js.src = '{{iframeURL_JS}}';";f+="js.addEventListener('load', function() { window.parent.postMessage(JSON.stringify({id: '{{iframeID}}'}), '*'); }); document.body.appendChild(js)\" >",f+='<div class="ad-element"></div></body>';var m="AdStopped";n.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,o.call(this))},n.prototype.isDestroyed=function(){return this._destroyed},n.prototype.loadAdUnit=function(e,t){function i(e){if(e.origin===window.location.origin){var i;try{i=JSON.parse(e.data)}catch(e){return console.debug(e)}if(i.id===this.getID()){var n,r,o;if(this._frame.contentWindow?(o=this._frame.contentWindow.getVPAIDAd,r=d.validate("function"==typeof o,"the ad didn't return a function to create an ad")):r="the iframe is not anymore in the DOM tree",!r){var a=this._frame.contentWindow.document.querySelector(".ad-element");n=new p(o(),a,this._videoEl,this._frame),n.subscribe(m,s.bind(this)),r=d.validate(n.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")}return this._adUnit=n,l.call(this),t(r,r?null:n),!0}}}function n(){t("timeout",null)}c.call(this),o.call(this);var r=d.createIframeWithContent(this._frameContainer,this._templateConfig.template,d.extend({iframeURL_JS:e,iframeID:this.getID()},this._templateConfig.extraOptions));this._frame=r,this._onLoad=d.callbackTimeout(this._vpaidOptions.timeout,i.bind(this),n.bind(this)),Buzzoola.utils.add_event_listener("message",this._onLoad)},n.prototype.unloadAdUnit=function(){o.call(this)},n.prototype.getID=function(){return this._id},t.exports=n,window.VPAIDHTML5Client=n},{"./VPAIDAdUnit":2,"./utils":5}],4:[function(e,t,i){"use strict";function n(){this._subscribers={}}n.prototype.subscribe=function(e,t,i){this.get(t).push({handler:e,context:i})},n.prototype.unsubscribe=function(e,t){this._subscribers[t]=this.get(t).filter(function(t){return e===t.handler})},n.prototype.unsubscribeAll=function(){this._subscribers={}},n.prototype.trigger=function(e,t){var i=this;i.get(e).forEach(function(n){setTimeout(function(){i.get(e)&&n.handler.call(n.context,t)},0)})},n.prototype.triggerSync=function(e,t){this.get(e).forEach(function(e){e.handler.call(e.context,t)})},n.prototype.get=function(e){return this._subscribers[e]||(this._subscribers[e]=[]),this._subscribers[e]},t.exports=n},{}],5:[function(e,t,i){"use strict";function n(){}function r(e,t){return e?null:new Error(t)}function s(e){var t=f[e];t&&(clearTimeout(t),delete f[e])}function o(e,t,i){var r,o;return o=setTimeout(function(){t=n,delete o[r],i()},e),r=function(){t.apply(this,arguments)&&s(r)},f[r]=o,r}function a(e,t,i){var n=document.createElement(t);return i&&(n.id=i),e.appendChild(n),n}function l(e,t,i){var n=u(e);if(d(n,c(t,i)))return n}function u(e,t){var i=document.createElement("iframe");return i.src=t||"javascript:false",i.marginWidth="0",i.marginHeight="0",i.frameBorder="0",i.width="100%",i.height="100%",i.style.position="absolute",i.style.left="0",i.style.top="0",i.style.margin="0px",i.style.padding="0px",i.style.border="none",i.setAttribute("scrolling","no"),e.innerHTML="",e.appendChild(i),i}function c(e,t){return Object.keys(t).forEach(function(i){var n="object"==typeof n?JSON.stringify(t[i]):t[i];e=e.replace(new RegExp("{{"+i+"}}","g"),n)}),e}function d(e,t){var i=e.contentDocument||e.contentWindow&&e.contentWindow.document;if(!i)return!1;var n=function(){i.open(),i.write(t),i.close()};return n(),!0}function h(e,t){return Object.keys(t).forEach(function(i){e[i]=t[i]}),e}function p(e){var t=-1;return function(){return e+"_"+ ++t}}var f={};t.exports={noop:n,validate:r,clearCallbackTimeout:s,callbackTimeout:o,createElementInEl:a,createIframeWithContent:l,createIframe:u,simpleTemplate:c,setIframeContent:d,extend:h,unique:p}},{}],6:[function(e,t,i){window.Buzzoola.utils.VPAIDHTML5Client=e("vpaid-html5-client/js/VPAIDHTML5Client.js")},{"vpaid-html5-client/js/VPAIDHTML5Client.js":3}]},{},[6]),!function(e){window.Buzzoola=window.Buzzoola||{},window.Buzzoola.utils=window.Buzzoola.utils||{},(window.Buzzoola.utils.airbrakeJs||(window.Buzzoola.utils.airbrakeJs={})).Client=e()}(function(){return function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return r(i?i:e)},c,c.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t){(function(i){var n,r,s,o;e("./internal/compat"),o=e("./internal/merge"),r=e("./internal/promise"),s=function(e){return function(t,i,n,r,s){return e.notify(s?s:{error:{message:t,fileName:i,lineNumber:n,columnNumber:r||0}})}},n=function(){function t(t){var n;null==t&&(t={}),this._projectId=t.projectId||0,this._projectKey=t.projectKey||"",this._host=t.host||"https://api.airbrake.io",this._processor=null,this._reporters=[],this._filters=[],this._processor=void 0!==t.processor?t.processor:e("./processors/stack"),void 0!==t.reporter?this.addReporter(t.reporter):(n="withCredentials"in new i.XMLHttpRequest?"compat":"jsonp",this.addReporter(n)),this.addFilter(e("./internal/default_filter"))}return t.prototype.setProject=function(e,t){return this._projectId=e,this._projectKey=t},t.prototype.setHost=function(e){return this._host=e},t.prototype.addContext=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: addContext is deprecated, please use addFilter"),this.addFilter(function(t){return t.context=o({},e,t.context),t})},t.prototype.setEnvironmentName=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: setEnvironmentName is deprecated, please use addFilter"),this.addFilter(function(t){return null==t.context.environment&&(t.context.environment=e),t})},t.prototype.addParams=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: addParams is deprecated, please use addFilter"),this.addFilter(function(t){return t.params=o({},e,t.params),t})},t.prototype.addEnvironment=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: addEnvironment is deprecated, please use addFilter"),this.addFilter(function(t){return t.environment=o({},e,t.environment),t})},t.prototype.addSession=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: addSession is deprecated, please use addFilter"),this.addFilter(function(t){return t.session=o({},e,t.session),t})},t.prototype.addReporter=function(t){switch(t){case"compat":t=e("./reporters/compat");break;case"xhr":t=e("./reporters/xhr");break;case"jsonp":t=e("./reporters/jsonp")}return this._reporters.push(t)},t.prototype.addFilter=function(e){return this._filters.push(e)},t.prototype.notify=function(e){var t,n,s;return t={language:"JavaScript",sourceMapEnabled:!0},(null!=(s=i.navigator)?s.userAgent:void 0)&&(t.userAgent=i.navigator.userAgent),i.location&&(t.url=String(i.location),t.rootDirectory=i.location.protocol+"//"+i.location.host),n=new r,this._processor(e.error||e,function(i){return function(r,s){var a,l,u,c,d,h,p,f,m,g,v;for(p={errors:[s],context:o(t,e.context),params:e.params||{},environment:e.environment||{},session:e.session||{}},p.context.notifier={name:"airbrake-js-"+r,version:"0.5.8",url:"https://github.com/airbrake/airbrake-js"},m=i._filters,l=0,c=m.length;c>l;l++){if(a=m[l],h=a(p),null===h||h===!1)return;null!=h.errors?p=h:"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: filter must return notice or null to ignore the notice")}for(f={projectId:i._projectId,projectKey:i._projectKey,host:i._host},g=i._reporters,u=0,d=g.length;d>u;u++)(v=g[u])(p,f,n)}}(this)),n},t.prototype.push=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: push is deprecated, please use notify"),this.notify(e)},t.prototype._wrapArguments=function(e){var t,i,n,r;for(i=n=0,r=e.length;r>n;i=++n)t=e[i],"function"==typeof t&&(e[i]=this.wrap(t));return e},t.prototype.wrap=function(e){var t,i,n;if(e.__airbrake__)return e;n=this,t=function(){var t,i;t=n._wrapArguments(arguments);try{return e.apply(this,t)}catch(r){return i=r,t=Array.prototype.slice.call(arguments),n.notify({error:i,params:{arguments:t}}),null}};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.__airbrake__=!0,t.__inner__=e,t},t}(),t.exports=n}).call(this,window)},{"./internal/compat":2,"./internal/default_filter":3,"./internal/merge":5,"./internal/promise":6,"./processors/stack":8,"./reporters/compat":9,"./reporters/jsonp":10,"./reporters/xhr":11}],2:[function(){var e;null==(e=Array.prototype).indexOf&&(e.indexOf=function(e,t){var i,n,r,s;for(t=t||0,i=n=r=t,s=this.length;s>=r?s>n:n>s;i=s>=r?++n:--n)if(this[i]===e)return i;return-1})},{}],3:[function(e,t){var i,n,r=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};i=["Script error","Script error."],n=function(e){var t;return t=e.errors[0].message,r.call(i,t)>=0?null:e},t.exports=n},{}],4:[function(e,t){var i,n,r;n=e("./truncate"),r=function(e,t){var i,r;null==t&&(t=1e3),i={};for(r in e)i[r]=n(e[r],t=t);return i},i=function(e,t,i){var n,s;for(null==t&&(t=1e3),null==i&&(i=64e3);;){if(e.params=r(e.params,t=t),e.environment=r(e.environment,t=t),e.session=r(e.session,t=t),s=JSON.stringify(e),s.length<i)return s;if(0===t)break;t=Math.floor(t/2)}throw n=new Error("airbrake-js: cannot jsonify notice (length="+s.length+" maxLength="+i+")"),n.params={json:s.slice(0,+Math.floor(t/2)+1||9e9)+"..."},n},t.exports=i},{"./truncate":7}],5:[function(e,t){var i;i=function(){var e,t,i,n,r,s;for(s=Array.prototype.slice.call(arguments),e=s.shift()||{},t=0,n=s.length;n>t;t++){r=s[t];for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},t.exports=i},{}],6:[function(e,t){var i;i=function(){function e(e){var t,i;this._onResolved=[],this._onRejected=[],i=function(e){return function(){return e.resolve.apply(e,arguments)}}(this),t=function(e){return function(){return e.reject.apply(e,arguments)}}(this),null!=e&&e(i,t)}return e.prototype.then=function(e,t){return e&&(null!=this._resolvedWith&&e(this._resolvedWith),this._onResolved.push(e)),t&&(null!=this._rejectedWith&&t(this._resolvedWith),this._onRejected.push(t)),this},e.prototype["catch"]=function(e){return null!=this._rejectedWith&&e(this._rejectedWith),this._onRejected.push(e),this},e.prototype.resolve=function(){var e,t,i,n;for(this._resolvedWith=arguments,n=this._onResolved,t=0,i=n.length;i>t;t++)e=n[t],e.apply(this,this._resolvedWith);return this},e.prototype.reject=function(){var e,t,i,n;for(this._rejectedWith=arguments,n=this._onRejected,t=0,i=n.length;i>t;t++)e=n[t],e.apply(this,this._rejectedWith);return this},e}(),t.exports=i},{}],7:[function(e,t){var i,n;i=function(e,t){var i;try{return e[t]}catch(n){return void(i=n)}},n=function(e,t,n){var r,s,o,a,l;return null==t&&(t=1e3),null==n&&(n=5),a=0,o=[],l=[],s=function(e){var t,n,r,s,a;for(n=l.indexOf(e),s=[o[n]],t=r=a=n;0>=a?0>=r:r>=0;t=0>=a?++r:--r)l[t]&&i(l[t],s[0])===e&&(e=l[t],s.unshift(o[t]));return"~"+s.join(".")},(r=function(e,u,c){var d,h,p,f,m,g;if(null==u&&(u=""),null==c&&(c=0),a++,a>t)return"[Truncated]";if(null===e||void 0===e)return e;switch(typeof e){case"boolean":case"number":case"string":case"function":return e;case"object":break;default:return String(e)}if(e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(l.indexOf(e)>=0)return"[Circular "+s(e)+"]";if(c++,c>n)return"[Truncated]";if(o.push(u),l.push(e),a--,"[object Array]"===Object.prototype.toString.apply(e)){for(d=[],p=f=0,m=e.length;m>f&&(h=e[p],a++,!(a>=t));p=++f)d.push(r(h,u=p,c));return d}d={};for(u in e)if(Object.prototype.hasOwnProperty.call(e,u)){if(a++,a>=t)break;g=i(e,u),void 0!==g&&(d[u]=r(g,u=u,c))}return d})(e)},t.exports=n},{}],8:[function(e,t){var i,n,r;n=[{name:"v8",re:/^\s*at\s(.+?)\s\((?:(?:(.+):(\d+):(\d+))|(.+))\)$/,fn:function(e){return{"function":e[1],file:e[2]||e[5],line:e[3]&&parseInt(e[3],10)||0,column:e[4]&&parseInt(e[4],10)||0}}},{name:"firefox30",re:/^(.*)@(.+):(\d+):(\d+)$/,fn:function(e){var t,i,n,r;return n=e[1],i=e[2],t=/^(\S+)\s(line\s\d+\s>\seval.*)$/,(r=i.match(t))&&(n=n.length>0?n+" "+r[2]:r[2],i=r[1]),{"function":n,file:i,line:parseInt(e[3],10),column:parseInt(e[4],10)}}},{name:"firefox14",re:/^(.*)@(.+):(\d+)$/,fn:function(e,t,i){var n;return n=0===t?i.columnNumber||0:0,{"function":e[1],file:e[2],line:parseInt(e[3],10),column:n}}},{name:"v8-short",re:/^\s*at\s(.+):(\d+):(\d+)$/,fn:function(e){return{"function":"",
file:e[1],line:parseInt(e[2],10),column:parseInt(e[3],10)}}},{name:"phantomjs",re:/^\s*at\s(.+):(\d+)$/,fn:function(e){return{"function":"",file:e[1],line:parseInt(e[2],10),column:0}}},{name:"default",re:/.+/,fn:function(e){return{"function":e[0],file:"",line:0,column:0}}}],r=/^\S+:\s.+$/,i=function(e,t){var i,s,o,a,l,u,c,d,h,p,f,m,g,v,y;for(f="nostack",g=e.stack||"",d=g.split("\n"),i=[],s=o=0,l=d.length;l>o;s=++o)if(c=d[s],""!==c)for(a=0,u=n.length;u>a;a++)if(m=n[a],h=c.match(m.re)){f=m.name,i.push(m.fn(h,s,e));break}return("v8"===f||"v8-short"===f)&&i.length>0&&i[0]["function"].match(r)&&(i=i.slice(1)),0!==i.length||null==e.fileName&&null==e.lineNumber&&null==e.columnNumber||i.push({"function":"",file:e.fileName||"",line:parseInt(e.lineNumber,10)||0,column:parseInt(e.columnNumber,10)||0}),0!==i.length||null==e.filename&&null==e.lineno&&null==e.column&&null==e.colno||i.push({"function":"",file:e.filename||"",line:parseInt(e.lineno,10)||0,column:parseInt(e.column||e.colno,10)||0}),p=null!=e.message?e.message:String(e),null!=e.name&&""!==e.name?(v=e.name,p=v+": "+p):(y=/^Uncaught\s(.+?):\s.+$/,h=p.match(y),v=h?h[1]:""),t(f,{type:v,message:p,backtrace:i})},t.exports=i},{}],9:[function(e,t){(function(i){var n,r;n=e("../internal/jsonify_notice"),r=function(e,t,r){var s,o,a;return a=t.host+"/api/v3/projects/"+t.projectId+"/create-notice?key="+t.projectKey,s=n(e),o=new i.XMLHttpRequest,o.open("POST",a,!0),o.send(s),o.onreadystatechange=function(){var t;return 4===o.readyState&&200===o.status?(t=JSON.parse(o.responseText),e.id=t.id,r.resolve(e)):void 0}},t.exports=r}).call(this,window)},{"../internal/jsonify_notice":4}],10:[function(e,t){(function(i){var n,r,s;r=e("../internal/jsonify_notice"),n=0,s=function(e,t,s){var o,a,l,u,c,d,h;return n++,o="airbrakeCb"+String(n),i[o]=function(t){var n;e.id=t.id,s.resolve(e);try{return delete i[o]}catch(r){return n=r,i[o]=void 0}},u=encodeURIComponent(r(e)),h=t.host+"/api/v3/projects/"+t.projectId+"/create-notice?key="+t.projectKey+"&callback="+o+"&body="+u,a=i.document,l=a.getElementsByTagName("head")[0],d=a.createElement("script"),d.src=h,c=function(){return l.removeChild(d)},d.onload=c,d.onerror=c,l.appendChild(d)},t.exports=s}).call(this,window)},{"../internal/jsonify_notice":4}],11:[function(e,t){(function(i){var n,r;n=e("../internal/jsonify_notice"),r=function(e,t,r){var s,o,a;return a=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,s=n(e),o=new i.XMLHttpRequest,o.open("POST",a,!0),o.setRequestHeader("Content-Type","application/json"),o.send(s),o.onreadystatechange=function(){var t;return 4===o.readyState&&201===o.status?(t=JSON.parse(o.responseText),e.id=t.id,r.resolve(e)):void 0}},t.exports=r}).call(this,window)},{"../internal/jsonify_notice":4}]},{},[1])(1)}),function(e,t){window.Buzzoola=window.Buzzoola||{},window.Buzzoola.utils=window.Buzzoola.utils||{},window.Buzzoola.utils.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,i,n,r,s,o,a,l="",u=0;for(e=window.Buzzoola.utils.Base64._utf8_encode(e);u<e.length;)t=e.charCodeAt(u++),i=e.charCodeAt(u++),n=e.charCodeAt(u++),r=t>>2,s=(3&t)<<4|i>>4,o=(15&i)<<2|n>>6,a=63&n,isNaN(i)?o=a=64:isNaN(n)&&(a=64),l=l+this._keyStr.charAt(r)+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(a);return l},decode:function(e){var t,i,n,r,s,o,a,l="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)r=this._keyStr.indexOf(e.charAt(u++)),s=this._keyStr.indexOf(e.charAt(u++)),o=this._keyStr.indexOf(e.charAt(u++)),a=this._keyStr.indexOf(e.charAt(u++)),t=r<<2|s>>4,i=(15&s)<<4|o>>2,n=(3&o)<<6|a,l+=String.fromCharCode(t),64!=o&&(l+=String.fromCharCode(i)),64!=a&&(l+=String.fromCharCode(n));return l=window.Buzzoola.utils.Base64._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},_utf8_decode:function(e){for(var t="",i=0,n=c1=c2=0;i<e.length;)n=e.charCodeAt(i),n<128?(t+=String.fromCharCode(n),i++):n>191&&n<224?(c2=e.charCodeAt(i+1),t+=String.fromCharCode((31&n)<<6|63&c2),i+=2):(c2=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),i+=3);return t}}}(window,document),!function(e,t){window.Buzzoola.utils[e]=t()}("bowser",function(){function e(e){function i(t){var i=e.match(t);return i&&i.length>1&&i[1]||""}function n(t){var i=e.match(t);return i&&i.length>1&&i[2]||""}var r,s=i(/(ipod|iphone|ipad)/i).toLowerCase(),o=/like android/i.test(e),a=!o&&/android/i.test(e),l=i(/edge\/(\d+(\.\d+)?)/i),u=i(/version\/(\d+(\.\d+)?)/i),c=/tablet/i.test(e),d=!c&&/[^-]mobi/i.test(e);/opera|opr/i.test(e)?r={name:"Opera",opera:t,version:u||i(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:t,version:u||i(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(e)?(r={name:"Windows Phone",windowsphone:t},l?(r.msedge=t,r.version=l):(r.msie=t,r.version=i(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:t,version:i(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?r={name:"Microsoft Edge",msedge:t,version:l}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:t,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?(r={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},u&&(r.version=u)):/sailfish/i.test(e)?r={name:"Sailfish",sailfish:t,version:i(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:t,version:i(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(e)?(r={name:"Firefox",firefox:t,version:i(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=t)):/silk/i.test(e)?r={name:"Amazon Silk",silk:t,version:i(/silk\/(\d+(\.\d+)?)/i)}:a?r={name:"Android",version:u}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:t,version:i(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",blackberry:t,version:u||i(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(e)?(r={name:"WebOS",webos:t,version:u||i(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=t)):r=/bada/i.test(e)?{name:"Bada",bada:t,version:i(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(e)?{name:"Tizen",tizen:t,version:i(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||u}:/safari/i.test(e)?{name:"Safari",safari:t,version:u}:{name:i(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(r.name=r.name||"Webkit",r.webkit=t,!r.version&&u&&(r.version=u)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=t,r.version=r.version||i(/gecko\/(\d+(\.\d+)?)/i)),r.msedge||!a&&!r.silk?s&&(r[s]=t,r.ios=t):r.android=t;var h="";r.windowsphone?h=i(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):s?(h=i(/os (\d+([_\s]\d+)*) like mac os x/i),h=h.replace(/[_\s]/g,".")):a?h=i(/android[ \/-](\d+(\.\d+)*)/i):r.webos?h=i(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?h=i(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?h=i(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(h=i(/tizen[\/\s](\d+(\.\d+)*)/i)),h&&(r.osversion=h);var p=h.split(".")[0];return c||"ipad"==s||a&&(3==p||4==p&&!d)||r.silk?r.tablet=t:(d||"iphone"==s||"ipod"==s||a||r.blackberry||r.webos||r.bada)&&(r.mobile=t),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.chrome&&r.version>=20||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1?r.a=t:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6?r.c=t:r.x=t,r}var t=!0,i=e("undefined"!=typeof navigator?navigator.userAgent:"");return i.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in i)return!0}return!1},i._detect=e,i}),"document"in self&&("classList"in document.createElement("_")?!function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var i,n=arguments.length;for(i=0;i<n;i++)e=arguments[i],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:i.call(this,e)}}e=null}():!function(e){"use strict";if("Element"in e){var t="classList",i="prototype",n=e.Element[i],r=Object,s=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[i].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},u=function(e){for(var t=s.call(e.getAttribute("class")||""),i=t?t.split(/\s+/):[],n=0,r=i.length;n<r;n++)this.push(i[n]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=u[i]=[],d=function(){return new u(this)};if(a[i]=Error[i],c.item=function(e){return this[e]||null},c.contains=function(e){return e+="",l(this,e)!==-1},c.add=function(){var e,t=arguments,i=0,n=t.length,r=!1;do e=t[i]+"",l(this,e)===-1&&(this.push(e),r=!0);while(++i<n);r&&this._updateClassName()},c.remove=function(){var e,t,i=arguments,n=0,r=i.length,s=!1;do for(e=i[n]+"",t=l(this,e);t!==-1;)this.splice(t,1),s=!0,t=l(this,e);while(++n<r);s&&this._updateClassName()},c.toggle=function(e,t){e+="";var i=this.contains(e),n=i?t!==!0&&"remove":t!==!1&&"add";return n&&this[n](e),t===!0||t===!1?t:!i},c.toString=function(){return this.join(" ")},r.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{r.defineProperty(n,t,h)}catch(p){p.number===-2146823252&&(h.enumerable=!1,r.defineProperty(n,t,h))}}else r[i].__defineGetter__&&n.__defineGetter__(t,d)}}(self)),function(e,t,i){!function(){function e(e){var t=e.__resizeTriggers__;if(t){var i=t.firstElementChild,n=t.lastElementChild;if(i&&n){var r=i.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r&&(r.style.width=i.offsetWidth+1+"px",r.style.height=i.offsetHeight+1+"px")}}}function t(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height}function n(i){var n=this;e(this),this.__resizeRAF__&&l(this.__resizeRAF__),this.__resizeRAF__=a(function(){t(n)&&(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach(function(e){e.call(n,i)}))})}function r(){if(!o){var e=(_?_:"")+".resize-triggers { "+(b?b:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: -1000%; left: -1000%; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i),o=!0}}var s=document.attachEvent,o=!1;if(!s){var a=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(t){return e(t)}}(),l=function(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}(),u=!1,c="animation",d="",h="animationstart",p="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m="",g=document.createElement("fakeelement");if(void 0!==g.style.animationName&&(u=!0),u===!1)for(var v=0;v<p.length;v++)if(void 0!==g.style[p[v]+"AnimationName"]){m=p[v],c=m+"Animation",d="-"+m.toLowerCase()+"-",h=f[v],u=!0;break}var y="resizeanim",_="@"+d+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",b=d+"animation: 1ms "+y+"; "}i.utils.add_resize_listener=function(t,i){t&&(s?t.attachEvent("onresize",i):(t.__resizeTriggers__||("static"==(getComputedStyle(t)||{}).position&&(t.style.position="relative"),r(),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=document.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),e(t),t.addEventListener("scroll",n,!0),h&&t.__resizeTriggers__.addEventListener(h,function(i){i.animationName==y&&e(t)})),t.__resizeListeners__.push(i)))},i.utils.remove_resize_listener=function(e,t){try{e&&(s?e.detachEvent("onresize",t):e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",n,!0),e.__resizeTriggers__&&(e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))))}catch(i){}}}()}(window,document,Buzzoola),window.Buzzoola.utils.makeVideoPlayableInline2=function(){"use strict";function e(e,t,i,n){function r(i){s=t(r,n),e(i-(o||i)),o=i}var s,o;return{start:function(){s||r(0)},stop:function(){i(s),s=null,o=0}}}function t(t){return e(t,requestAnimationFrame,cancelAnimationFrame)}function i(e,t,i){function n(n){i&&!i(e,t)||n.stopImmediatePropagation()}return e.addEventListener(t,n),n}function n(e,t,i,n){function r(){return i[t]}function s(e){i[t]=e}n&&s(e[t]),Object.defineProperty(e,t,{get:r,set:s})}function r(e,t,i){i.addEventListener(t,function(){return e.dispatchEvent(new Event(t))})}function s(e,t){Promise.resolve().then(function(){e.dispatchEvent(new Event(t))})}function o(e){var t=new Audio;return r(e,"play",t),r(e,"playing",t),r(e,"pause",t),t.crossOrigin=e.crossOrigin,t.src=e.src||e.currentSrc||"data:",t}function a(e,t,i){(g||0)+200<Date.now()&&(e[_]=!0,g=Date.now()),i||(e.currentTime=t),k[++T%3]=100*t|0}function l(e){return e.driver.currentTime>=e.video.duration}function u(e){var t=this;t.video.readyState>=t.video.HAVE_FUTURE_DATA?(t.hasAudio||(t.driver.currentTime=t.video.currentTime+e*t.video.playbackRate/1e3,t.video.loop&&l(t)&&(t.driver.currentTime=0)),a(t.video,t.driver.currentTime)):t.video.networkState===t.video.NETWORK_IDLE&&0===t.video.buffered.length&&t.video.load(),t.video.ended&&(delete t.video[_],t.video.pause(!0))}function c(){var e,t=this,i=t[y];return t.webkitDisplayingFullscreen?void t[b]():("data:"!==i.driver.src&&i.driver.src!==t.src&&(a(t,0,!0),i.driver.src=t.src),t.paused?(i.paused=!1,0===t.buffered.length&&t.load(),e=i.driver.play(),i.updater.start(),i.hasAudio||(s(t,"play"),i.video.readyState>=i.video.HAVE_ENOUGH_DATA&&s(t,"playing")),e):void 0)}function d(e){var t=this,i=t[y];i.driver.pause(),i.updater.stop(),t.webkitDisplayingFullscreen&&t[w](),i.paused&&!e||(i.paused=!0,i.hasAudio||s(t,"pause"),t.ended&&!t.webkitDisplayingFullscreen&&(t[_]=!0,s(t,"ended")))}function h(e,i){var n={};e[y]=n,n.paused=!0,n.hasAudio=i,n.video=e,n.updater=t(u.bind(n)),i?n.driver=o(e):(e.addEventListener("canplay",function(){e.paused||s(e,"playing")}),n.driver={src:e.src||e.currentSrc||"data:",muted:!0,paused:!0,pause:function(){n.driver.paused=!0},play:function(){n.driver.paused=!1,l(n)&&a(e,0)},get ended(){return l(n)}}),e.addEventListener("emptied",function(){var t=!n.driver.src||"data:"===n.driver.src;n.driver.src&&n.driver.src!==e.src&&(a(e,0,!0),n.driver.src=e.src,t||!i&&e.autoplay?n.driver.play():n.updater.stop())},!1),e.addEventListener("webkitbeginfullscreen",function(){e.paused?i&&0===n.driver.buffered.length&&n.driver.load():(e.pause(),e[b]())}),i&&(e.addEventListener("webkitendfullscreen",function(){n.driver.currentTime=e.currentTime}),e.addEventListener("seeking",function(){k.indexOf(100*e.currentTime|0)<0&&(n.driver.currentTime=e.currentTime)}))}function p(e){var t=e[_];return delete e[_],!e.webkitDisplayingFullscreen&&!t}function f(e){var t=e[y];e[b]=e.play,e[w]=e.pause,e.play=c,e.pause=d,n(e,"paused",t.driver),n(e,"muted",t.driver,!0),n(e,"playbackRate",t.driver,!0),n(e,"ended",t.driver),n(e,"loop",t.driver,!0),i(e,"seeking",function(e){return!e.webkitDisplayingFullscreen}),i(e,"seeked",function(e){return!e.webkitDisplayingFullscreen}),i(e,"timeupdate",p),i(e,"ended",p)}function m(e,t){if(void 0===t&&(t={}),!e[y]){if(!t.everywhere){if(!v)return;if(!(t.iPad||t.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent))return}e.pause();var i=e.autoplay;e.autoplay=!1,h(e,!e.muted),f(e),e.classList.add("IIV"),e.muted&&i&&(e.play(),e.addEventListener("playing",function n(){e.autoplay=!0,e.removeEventListener("playing",n)})),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}}var g,v="object"==typeof document&&"object-fit"in document.head.style&&!matchMedia("(-webkit-video-playable-inline)").matches,y="bfred-it:iphone-inline-video",_="bfred-it:iphone-inline-video:event",b="bfred-it:iphone-inline-video:nativeplay",w="bfred-it:iphone-inline-video:nativepause",k=[],T=0;return m}(),window.Buzzoola.utils.makeVideoPlayableInline=function(){"use strict";function e(e,t,i,n){function r(i){s=t(r,n),e(i-(o||i)),o=i}var s,o;return{start:function(){s||r(0)},stop:function(){i(s),s=null,o=0}}}function t(t){return e(t,requestAnimationFrame,cancelAnimationFrame)}function i(e,t,i,n){function r(t){Boolean(e[i])===Boolean(n)&&t.stopImmediatePropagation(),delete e[i]}return e.addEventListener(t,r,!1),r}function n(e,t,i,n){function r(){return i[t]}function s(e){i[t]=e}n&&s(e[t]),Object.defineProperty(e,t,{get:r,set:s})}function r(e,t,i){i.addEventListener(t,function(){return e.dispatchEvent(new Event(t))})}function s(e,t){Promise.resolve().then(function(){e.dispatchEvent(new Event(t))})}function o(e){var t=new Audio;return r(e,"play",t),r(e,"playing",t),r(e,"pause",t),t.crossOrigin=e.crossOrigin,t.src=e.src||e.currentSrc||"data:",t}function a(e,t,i){(m||0)+200<Date.now()&&(e[_]=!0,m=Date.now()),i||(e.currentTime=t),k[++T%3]=100*t|0}function l(e){return e.driver.currentTime>=e.video.duration}function u(e){var t=this;t.video.readyState>=t.video.HAVE_FUTURE_DATA?(t.hasAudio||(t.driver.currentTime=t.video.currentTime+e*t.video.playbackRate/1e3,t.video.loop&&l(t)&&(t.driver.currentTime=0)),a(t.video,t.driver.currentTime)):t.video.networkState!==t.video.NETWORK_IDLE||t.video.buffered.length||t.video.load(),t.video.ended&&(delete t.video[_],t.video.pause(!0))}function c(){var e,t=this,i=t[y];return t.webkitDisplayingFullscreen?void t[b]():("data:"!==i.driver.src&&i.driver.src!==t.src&&(a(t,0,!0),i.driver.src=t.src),t.paused&&(i.paused=!1,t.buffered.length||t.load(),e=i.driver.play(),i.updater.start(),i.hasAudio||(s(t,"play"),i.video.readyState>=i.video.HAVE_ENOUGH_DATA&&s(t,"playing"))),e)}function d(e){var t=this,i=t[y];i.driver.pause(),i.updater.stop(),t.webkitDisplayingFullscreen&&t[w](),i.paused&&!e||(i.paused=!0,i.hasAudio||s(t,"pause"),t.ended&&(t[_]=!0,s(t,"ended")))}function h(e,i){var n=e[y]={};n.paused=!0,n.hasAudio=i,n.video=e,n.updater=t(u.bind(n)),i?n.driver=o(e):(e.addEventListener("canplay",function(){e.paused||s(e,"playing")}),n.driver={src:e.src||e.currentSrc||"data:",muted:!0,paused:!0,pause:function(){n.driver.paused=!0},play:function(){n.driver.paused=!1,l(n)&&a(e,0)},get ended(){return l(n)}}),e.addEventListener("emptied",function(){var t=!n.driver.src||"data:"===n.driver.src;n.driver.src&&n.driver.src!==e.src&&(a(e,0,!0),n.driver.src=e.src,t?n.driver.play():n.updater.stop())},!1),e.addEventListener("webkitbeginfullscreen",function(){e.paused?i&&!n.driver.buffered.length&&n.driver.load():(e.pause(),e[b]())}),e.addEventListener("webkitendfullscreen",function(){e.play(),i&&(n.driver.currentTime=e.currentTime)}),i&&e.addEventListener("seeking",function(){k.indexOf(100*e.currentTime|0)<0&&(n.driver.currentTime=e.currentTime)})}function p(e){var t=e[y];e[b]=e.play,e[w]=e.pause,e.play=c,e.pause=d,n(e,"paused",t.driver),n(e,"muted",t.driver,!0),n(e,"playbackRate",t.driver,!0),n(e,"ended",t.driver),n(e,"loop",t.driver,!0),i(e,"seeking"),i(e,"seeked"),i(e,"timeupdate",_,!1),i(e,"ended",_,!1)}function f(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!0),i&&!v||e[y]||(h(e,t),p(e),e.classList.add("IIV"),!t&&e.autoplay&&e.play(),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments"))}var m,g="undefined"==typeof Symbol?function(e){return"@"+(e||"@")+Math.random()}:Symbol,v=/iPhone|iPod/i.test(navigator.userAgent)&&!matchMedia("(-webkit-video-playable-inline)").matches,y=g(),_=g(),b=g("nativeplay"),w=g("nativepause"),k=[],T=0;return f.isWhitelisted=v,f}(),function(e,t){e.Mustache={},t(e.Mustache)}(window.Buzzoola.utils,function(e){function t(e){return"function"==typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function n(e,t){return null!=e&&"object"==typeof e&&t in e}function r(e,t){return m.call(e,t)}function s(e){return!r(g,e)}function o(e){return String(e).replace(/[&<>"'\/]/g,function(e){return v[e]})}function a(t,n){function r(){if(v&&!T)for(;g.length;)delete m[g.pop()];else g=[];v=!1,T=!1}function o(e){if("string"==typeof e&&(e=e.split(_,2)),!f(e)||2!==e.length)throw new Error("Invalid tags: "+e);a=new RegExp(i(e[0])+"\\s*"),d=new RegExp("\\s*"+i(e[1])),h=new RegExp("\\s*"+i("}"+e[1]))}if(!t)return[];var a,d,h,p=[],m=[],g=[],v=!1,T=!1;o(n||e.tags);for(var x,S,z,A,E,C,L=new c(t);!L.eos();){if(x=L.pos,z=L.scanUntil(a))for(var M=0,R=z.length;M<R;++M)A=z.charAt(M),s(A)?g.push(m.length):T=!0,m.push(["text",A,x,x+1]),x+=1,"\n"===A&&r();if(!L.scan(a))break;if(v=!0,S=L.scan(k)||"name",L.scan(y),"="===S?(z=L.scanUntil(b),L.scan(b),L.scanUntil(d)):"{"===S?(z=L.scanUntil(h),L.scan(w),L.scanUntil(d),S="&"):z=L.scanUntil(d),!L.scan(d))throw new Error("Unclosed tag at "+L.pos);if(E=[S,z,x,L.pos],m.push(E),"#"===S||"^"===S)p.push(E);else if("/"===S){if(C=p.pop(),!C)throw new Error('Unopened section "'+z+'" at '+x);if(C[1]!==z)throw new Error('Unclosed section "'+C[1]+'" at '+x)}else"name"===S||"{"===S||"&"===S?T=!0:"="===S&&o(z)}if(C=p.pop())throw new Error('Unclosed section "'+C[1]+'" at '+L.pos);return u(l(m))}function l(e){for(var t,i,n=[],r=0,s=e.length;r<s;++r)t=e[r],t&&("text"===t[0]&&i&&"text"===i[0]?(i[1]+=t[1],i[3]=t[3]):(n.push(t),i=t));return n}function u(e){for(var t,i,n=[],r=n,s=[],o=0,a=e.length;o<a;++o)switch(t=e[o],t[0]){case"#":case"^":r.push(t),s.push(t),r=t[4]=[];break;case"/":i=s.pop(),i[5]=t[2],r=s.length>0?s[s.length-1][4]:n;break;default:r.push(t)}return n}function c(e){this.string=e,this.tail=e,this.pos=0}function d(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function h(){this.cache={}}var p=Object.prototype.toString,f=Array.isArray||function(e){return"[object Array]"===p.call(e)},m=RegExp.prototype.test,g=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},y=/\s*/,_=/\s+/,b=/\s*=/,w=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;c.prototype.eos=function(){return""===this.tail},c.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var i=t[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},c.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=t.length,t},d.prototype.push=function(e){return new d(e,this)},d.prototype.lookup=function(e){var i,r=this.cache;if(r.hasOwnProperty(e))i=r[e];else{for(var s,o,a=this,l=!1;a;){if(e.indexOf(".")>0)for(i=a.view,s=e.split("."),o=0;null!=i&&o<s.length;)o===s.length-1&&(l=n(i,s[o])),i=i[s[o++]];else i=a.view[e],l=n(a.view,e);if(l)break;a=a.parent}r[e]=i}return t(i)&&(i=i.call(this.view)),i},h.prototype.clearCache=function(){this.cache={}},h.prototype.parse=function(e,t){var i=this.cache,n=i[e];return null==n&&(n=i[e]=a(e,t)),n},h.prototype.render=function(e,t,i){var n=this.parse(e),r=t instanceof d?t:new d(t);return this.renderTokens(n,r,i,e)},h.prototype.renderTokens=function(e,t,i,n){for(var r,s,o,a="",l=0,u=e.length;l<u;++l)o=void 0,r=e[l],s=r[0],"#"===s?o=this.renderSection(r,t,i,n):"^"===s?o=this.renderInverted(r,t,i,n):">"===s?o=this.renderPartial(r,t,i,n):"&"===s?o=this.unescapedValue(r,t):"name"===s?o=this.escapedValue(r,t):"text"===s&&(o=this.rawValue(r)),void 0!==o&&(a+=o);return a},h.prototype.renderSection=function(e,i,n,r){function s(e){return o.render(e,i,n)}var o=this,a="",l=i.lookup(e[1]);if(l){if(f(l))for(var u=0,c=l.length;u<c;++u)a+=this.renderTokens(e[4],i.push(l[u]),n,r);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)a+=this.renderTokens(e[4],i.push(l),n,r);else if(t(l)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");l=l.call(i.view,r.slice(e[3],e[5]),s),null!=l&&(a+=l)}else a+=this.renderTokens(e[4],i,n,r);return a}},h.prototype.renderInverted=function(e,t,i,n){var r=t.lookup(e[1]);if(!r||f(r)&&0===r.length)return this.renderTokens(e[4],t,i,n)},h.prototype.renderPartial=function(e,i,n){if(n){var r=t(n)?n(e[1]):n[e[1]];return null!=r?this.renderTokens(this.parse(r),i,n,r):void 0}},h.prototype.unescapedValue=function(e,t){var i=t.lookup(e[1]);if(null!=i)return i},h.prototype.escapedValue=function(t,i){var n=i.lookup(t[1]);if(null!=n)return e.escape(n)},h.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.1.2",e.tags=["{{","}}"];var T=new h;e.clearCache=function(){return T.clearCache()},e.parse=function(e,t){return T.parse(e,t)},e.render=function(e,t,i){return T.render(e,t,i)},e.to_html=function(i,n,r,s){var o=e.render(i,n,r);return t(s)?void s(o):o},e.escape=o,e.Scanner=c,e.Context=d,e.Writer=h}),!function(e){Buzzoola.utils.DMVAST=e()}(function(){return function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return r(i?i:e)},u,u.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function s(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,i,n,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(i=this._events[e],a(i))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,s=new Array(n-1),l=1;l<n;l++)s[l-1]=arguments[l];i.apply(this,s)}else if(o(i)){for(n=arguments.length,s=new Array(n-1),l=1;l<n;l++)s[l-1]=arguments[l];for(u=i.slice(),n=u.length,l=0;l<n;l++)u[l].apply(this,s)}return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var i;i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var i,n,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,n=-1,i===t||r(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(i)){for(a=s;a-- >0;)if(i[a]===t||i[a].listener&&i[a].listener===t){n=a;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],r(i))this.removeListener(e,i);else for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var i;return i=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t,i){var n;n=function(){function e(){this.id=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]}return e}(),t.exports=n},{}],3:[function(e,t,i){var n,r,s;r=e("./parser"),s=e("./util"),n=function(){function e(){}return e.cappingFreeLunch=0,e.cappingMinimumTimeInterval=0,e.options={withCredentials:!1,timeout:0},e.get=function(e,t,n){var s,o,a;return o=+new Date,s=i.extend=function(e,t){var i,n;for(i in t)n=t[i],e[i]=n;return e},n||("function"==typeof t&&(n=t),a={}),a=s(this.options,t),this.totalCallsTimeout<o?(this.totalCalls=1,this.totalCallsTimeout=o+36e5):this.totalCalls++,this.cappingFreeLunch>=this.totalCalls?void n(null):o-this.lastSuccessfullAd<this.cappingMinimumTimeInterval?void n(null):r.parse(e,a,function(e){return function(e,t,i){return n(e,t,i)}}(this))},function(){var t,i;i=s.storage,t=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(n){t(e,n,{get:function(){return i.getItem(n)},set:function(e){return i.setItem(n,e)},configurable:!1,enumerable:!0})}),null==e.totalCalls&&(e.totalCalls=0),null==e.totalCallsTimeout&&(e.totalCallsTimeout=0)}(),e}(),t.exports=n},{"./parser":9,"./util":15}],4:[function(e,t,i){var n;n=function(){function e(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.companionClickThroughURLTemplate=null,this.trackingEvents={}}return e}(),t.exports=n},{}],5:[function(e,t,i){var n,r,s,o,a={}.hasOwnProperty,l=function(e,t){function i(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};n=function(){function e(){this.trackingEvents={}}return e}(),
s=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.icons=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null}return l(t,e),t}(n),o=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[],this.videoClickTrackingURLTemplates=[]}return l(t,e),t}(n),r=function(e){function t(){this.type="companion",this.variations=[],this.videoClickTrackingURLTemplates=[]}return l(t,e),t}(n),t.exports={VASTCreativeLinear:s,VASTCreativeNonLinear:o,VASTCreativeCompanion:r}},{}],6:[function(e,t,i){t.exports={client:e("./client"),tracker:e("./tracker"),parser:e("./parser"),util:e("./util")}},{"./client":3,"./parser":9,"./tracker":11,"./util":15}],7:[function(e,t,i){var n;n=function(){function e(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null}return e}(),t.exports=n},{}],8:[function(e,t,i){var n;n=function(){function e(){this.id=null,this.width=0,this.height=0,this.minSuggestedDuration="00:00:00",this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null}return e}(),t.exports=n},{}],9:[function(e,t,i){var n,r,s,o,a,l,u,c,d,h,p,f,m=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1};r=e("./urlhandler"),p=e("./response"),s=e("./ad"),f=e("./util"),l=e("./creative").VASTCreativeLinear,a=e("./creative").VASTCreativeCompanion,u=e("./creative").VASTCreativeNonLinear,c=e("./mediafile"),o=e("./companionad"),d=e("./nonlinear"),n=e("events").EventEmitter,h=function(){function e(){}var t;return t=[],e.addURLTemplateFilter=function(e){"function"==typeof e&&t.push(e)},e.removeURLTemplateFilter=function(){return t.pop()},e.countURLTemplateFilters=function(){return t.length},e.clearUrlTemplateFilters=function(){return t=[]},e.parse=function(e,t,i){return i||("function"==typeof t&&(i=t),t={}),this._parse(e,null,t,function(e,t,n){return i(e,t,n)})},e.vent=new n,e.track=function(e,t){return this.vent.emit("VAST-error",t),f.track(e,t)},e.on=function(e,t){return this.vent.on(e,t)},e.once=function(e,t){return this.vent.once(e,t)},e._parse=function(e,i,n,s){var o,a,l;for(s||("function"==typeof n&&(s=n),n={}),a=0,l=t.length;a<l;a++)o=t[a],e=o(e);return null==i&&(i=[]),i.push(e),r.get(e,n,function(t){return function(r,o){var a,l,u,c,d,h,f,g,v,y,_;if(null!=r)return s(r);if(d=new p,null==(null!=o?o.documentElement:void 0)||"VAST"!==o.documentElement.nodeName)return s("nobanner");for(y=o.documentElement.childNodes,h=0,g=y.length;h<g;h++)c=y[h],"Error"===c.nodeName&&d.errorURLTemplates.push(t.parseNodeText(c));for(_=o.documentElement.childNodes,f=0,v=_.length;f<v;f++)c=_[f],"Ad"===c.nodeName&&(a=t.parseAdElement(c),null!=a?d.ads.push(a):t.track(d.errorURLTemplates,{ERRORCODE:101}));for(l=function(e){var i,n,r;if(null==e&&(e=!1),d){for(r=d.ads,i=0,n=r.length;i<n;i++)if(a=r[i],null!=a.nextWrapperURL)return;return 0===d.ads.length&&(e||t.track(d.errorURLTemplates,{ERRORCODE:303}),d=null),s(null,d,o)}},u=d.ads.length;u--;)a=d.ads[u],null!=a.nextWrapperURL&&!function(r){var s,o,a;return i.length>=10||(a=r.nextWrapperURL,m.call(i,a)>=0)?(t.track(r.errorURLTemplates,{ERRORCODE:302}),d.ads.splice(d.ads.indexOf(r),1),void l()):(0===r.nextWrapperURL.indexOf("//")?(o=location.protocol,r.nextWrapperURL=""+o+r.nextWrapperURL):r.nextWrapperURL.indexOf("://")===-1&&(s=e.slice(0,e.lastIndexOf("/")),r.nextWrapperURL=""+s+"/"+r.nextWrapperURL),t._parse(r.nextWrapperURL,i,n,function(e,i){var n,s,o,a,u,c,h,p,f,m,g,v,y,_,b,w,k,T;if(s=!1,null!=e)t.track(r.errorURLTemplates,{ERRORCODE:301}),d.ads.splice(d.ads.indexOf(r),1),s=!0;else if(null==i)t.track(r.errorURLTemplates,{ERRORCODE:303}),d.ads.splice(d.ads.indexOf(r),1),s=!0;else for(d.errorURLTemplates=d.errorURLTemplates.concat(i.errorURLTemplates),a=d.ads.indexOf(r),d.ads.splice(a,1),b=i.ads,h=0,p=b.length;h<p;h++){if(u=b[h],u.errorURLTemplates=r.errorURLTemplates.concat(u.errorURLTemplates),u.impressionURLTemplates=r.impressionURLTemplates.concat(u.impressionURLTemplates),null!=r.trackingEvents)for(w=u.creatives,v=0,f=w.length;v<f;v++)if(n=w[v],"linear"===n.type||"nonlinear"===n.type)for(k=Object.keys(r.trackingEvents),y=0,m=k.length;y<m;y++)o=k[y],(c=n.trackingEvents)[o]||(c[o]=[]),n.trackingEvents[o]=n.trackingEvents[o].concat(r.trackingEvents[o]);if(null!=r.videoClickTrackingURLTemplates)for(T=u.creatives,_=0,g=T.length;_<g;_++)n=T[_],"linear"!==n.type&&"nonlinear"!==n.type||(n.videoClickTrackingURLTemplates=n.videoClickTrackingURLTemplates.concat(r.videoClickTrackingURLTemplates));d.ads.splice(a,0,u)}return delete r.nextWrapperURL,l(s)}))}(a);return l()}}(this))},e.childByName=function(e,t){var i,n,r,s;for(s=e.childNodes,n=0,r=s.length;n<r;n++)if(i=s[n],i.nodeName===t)return i},e.childsByName=function(e,t){var i,n,r,s,o;for(n=[],o=e.childNodes,r=0,s=o.length;r<s;r++)i=o[r],i.nodeName===t&&n.push(i);return n},e.parseAdElement=function(e){var t,i,n,r;for(r=e.childNodes,i=0,n=r.length;i<n;i++){t=r[i];try{t.id=e.getAttribute("id")}catch(s){t.setAttribute("id",e.getAttribute("id"))}if("Wrapper"===t.nodeName)return this.parseWrapperElement(t);if("InLine"===t.nodeName)return this.parseInLineElement(t)}},e.parseWrapperElement=function(e){var t,i,n,r,s,o,a;for(t=this.parseInLineElement(e),r=this.childByName(e,"VASTAdTagURI"),null!=r?t.nextWrapperURL=this.parseNodeText(r):(r=this.childByName(e,"VASTAdTagURL"),null!=r&&(t.nextWrapperURL=this.parseNodeText(this.childByName(r,"URL")))),a=t.creatives,s=0,o=a.length;s<o;s++)i=a[s],n=null,"linear"!==i.type&&"nonlinear"!==i.type||(n=i,null!=n&&(null!=n.trackingEvents&&(t.trackingEvents=n.trackingEvents),null!=n.videoClickTrackingURLTemplates&&(t.videoClickTrackingURLTemplates=n.videoClickTrackingURLTemplates)));if(null!=t.nextWrapperURL)return t},e.parseInLineElement=function(e){var t,i,n,r,o,a,l,u,c,d,h,p,f,m,g,v;for(t=new s,t.id=e.id,m=e.childNodes,u=0,h=m.length;u<h;u++)switch(l=m[u],l.nodeName){case"Error":t.errorURLTemplates.push(this.parseNodeText(l));break;case"Impression":t.impressionURLTemplates.push(this.parseNodeText(l));break;case"Extensions":for(g=this.childsByName(l,"Extension"),c=0,p=g.length;c<p;c++)a=g[c],o=this.parseExtensionElement(a),o&&t.extensions.push(o);break;case"Creatives":for(g=this.childsByName(l,"Creative"),c=0,p=g.length;c<p;c++)for(n=g[c],v=n.childNodes,d=0,f=v.length;d<f;d++)switch(r=v[d],r.nodeName){case"Linear":i=this.parseCreativeLinearElement(r),i&&t.creatives.push(i);break;case"NonLinearAds":i=this.parseNonLinear(r),i&&t.creatives.push(i);break;case"CompanionAds":i=this.parseCompanionAd(r),i&&t.creatives.push(i)}}return t},e.parseExtensionElement=function(e){var t=this,i={},n=!1;if(i.type=e.getAttribute("type"),e.hasChildNodes())return e.childNodes.forEach(function(e){3!==e.nodeType&&(i[e.nodeName.toLowerCase()]=t.parseNodeText(e),n=!0)}),n?i:void 0},e.parseCreativeLinearElement=function(e){var t,i,n,r,s,o,a,u,d,h,p,f,m,g,v,y,_,b,w,k,T,x,S,z,A,E,C,L,M,R,B,P,D,O,N,U;if(n=new l,n.duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),n.duration===-1&&"Wrapper"!==e.parentNode.parentNode.parentNode.nodeName)return null;if(m=e.getAttribute("skipoffset"),null==m?n.skipDelay=null:"%"===m.charAt(m.length-1)?(p=parseInt(m,10),n.skipDelay=n.duration*(p/100)):n.skipDelay=this.parseDuration(m),_=this.childByName(e,"VideoClicks"),null!=_){for(n.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(_,"ClickThrough")),B=this.childsByName(_,"ClickTracking"),w=0,S=B.length;w<S;w++)i=B[w],n.videoClickTrackingURLTemplates.push(this.parseNodeText(i));for(P=this.childsByName(_,"CustomClick"),k=0,z=P.length;k<z;k++)r=P[k],n.videoCustomClickURLTemplates.push(this.parseNodeText(r))}for(t=this.childByName(e,"AdParameters"),null!=t&&(n.adParameters=this.parseNodeText(t)),D=this.childsByName(e,"TrackingEvents"),T=0,A=D.length;T<A;T++)for(v=D[T],O=this.childsByName(v,"Tracking"),x=0,E=O.length;x<E;x++)if(g=O[x],s=g.getAttribute("event"),y=this.parseNodeText(g),null!=s&&null!=y){if("progress"===s){if(h=g.getAttribute("offset"),!h)continue;s="%"===h.charAt(h.length-1)?"progress-"+h:"progress-"+Math.round(this.parseDuration(h))}null==(b=n.trackingEvents)[s]&&(b[s]=[]),n.trackingEvents[s].push(y)}for(N=this.childsByName(e,"MediaFiles"),M=0,C=N.length;M<C;M++)for(d=N[M],U=this.childsByName(d,"MediaFile"),R=0,L=U.length;R<L;R++)u=U[R],a=new c,a.id=u.getAttribute("id"),a.fileURL=this.parseNodeText(u),a.deliveryType=u.getAttribute("delivery"),a.codec=u.getAttribute("codec"),a.mimeType=u.getAttribute("type"),a.apiFramework=u.getAttribute("apiFramework"),a.bitrate=parseInt(u.getAttribute("bitrate")||0),a.minBitrate=parseInt(u.getAttribute("minBitrate")||0),a.maxBitrate=parseInt(u.getAttribute("maxBitrate")||0),a.width=parseInt(u.getAttribute("width")||0),a.height=parseInt(u.getAttribute("height")||0),f=u.getAttribute("scalable"),f&&"string"==typeof f&&(f=f.toLowerCase(),"true"===f?a.scalable=!0:"false"===f&&(a.scalable=!1)),o=u.getAttribute("maintainAspectRatio"),o&&"string"==typeof o&&(o=o.toLowerCase(),"true"===o?a.maintainAspectRatio=!0:"false"===o&&(a.maintainAspectRatio=!1)),n.mediaFiles.push(a);for(N=this.childsByName(e,"Icons"),M=0,C=N.length;M<C;M++)for(d=N[M],U=this.childsByName(d,"Icon"),R=0,L=U.length;R<L;R++)u=U[R],a={},a.id=u.getAttribute("id"),a.fileURL=this.parseNodeText(u),a.width=parseInt(u.getAttribute("width")||0),a.height=parseInt(u.getAttribute("height")||0),n.icons.push(a);return n},e.parseNonLinear=function(e){var t,i,n,r,s,o,a,l,c,h,p,f,m,g,v,y,_,b,w,k,T,x,S,z,A,E,C,L,M;for(t=new u,z=this.childsByName(e,"TrackingEvents"),f=0,y=z.length;f<y;f++)for(c=z[f],A=this.childsByName(c,"Tracking"),m=0,_=A.length;m<_;m++)l=A[m],i=l.getAttribute("event"),h=this.parseNodeText(l),null!=i&&null!=h&&(null==(p=t.trackingEvents)[i]&&(p[i]=[]),t.trackingEvents[i].push(h));for(E=this.childsByName(e,"NonLinear"),g=0,b=E.length;g<b;g++){for(o=E[g],s=new d,s.id=o.getAttribute("id")||null,s.width=o.getAttribute("width"),s.height=o.getAttribute("height"),s.minSuggestedDuration=o.getAttribute("minSuggestedDuration"),s.apiFramework=o.getAttribute("apiFramework"),C=this.childsByName(o,"HTMLResource"),v=0,w=C.length;v<w;v++)n=C[v],s.type=n.getAttribute("creativeType")||"text/html",s.htmlResource=this.parseNodeText(n);for(L=this.childsByName(o,"IFrameResource"),x=0,k=L.length;x<k;x++)r=L[x],s.type=r.getAttribute("creativeType")||0,s.iframeResource=this.parseNodeText(r);for(M=this.childsByName(o,"StaticResource"),S=0,T=M.length;S<T;S++)a=M[S],s.type=a.getAttribute("creativeType")||0,s.staticResource=this.parseNodeText(a);s.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(o,"NonLinearClickThrough")),t.variations.push(s)}return t},e.parseCompanionAd=function(e){var t,i,n,r,s,l,u,c,d,h,p,f,m,g,v,y,_,b,w,k,T,x,S,z,A,E,C,L,M;for(n=new a,z=this.childsByName(e,"Companion"),f=0,y=z.length;f<y;f++){for(i=z[f],t=new o,t.id=i.getAttribute("id")||null,t.width=i.getAttribute("width"),t.height=i.getAttribute("height"),A=this.childsByName(i,"HTMLResource"),m=0,_=A.length;m<_;m++)s=A[m],t.type=s.getAttribute("creativeType")||"text/html",t.htmlResource=this.parseNodeText(s);for(E=this.childsByName(i,"IFrameResource"),g=0,b=E.length;g<b;g++)l=E[g],t.type=l.getAttribute("creativeType")||0,t.iframeResource=this.parseNodeText(l);for(C=this.childsByName(i,"StaticResource"),v=0,w=C.length;v<w;v++)u=C[v],t.type=u.getAttribute("creativeType")||0,t.staticResource=this.parseNodeText(u);for(L=this.childsByName(i,"TrackingEvents"),x=0,k=L.length;x<k;x++)for(d=L[x],M=this.childsByName(d,"Tracking"),S=0,T=M.length;S<T;S++)c=M[S],r=c.getAttribute("event"),h=this.parseNodeText(c),null!=r&&null!=h&&(null==(p=t.trackingEvents)[r]&&(p[r]=[]),t.trackingEvents[r].push(h));t.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(i,"CompanionClickThrough")),n.variations.push(t)}return n},e.parseDuration=function(e){var t,i,n,r,s,o;return null==e?-1:(t=e.split(":"),o=t.length,!o||o>3?-1:(s=t[o-1].split("."),r=parseInt(s[0]),2===s.length&&(r+=parseFloat("0."+s[1])),i=n=0,2==o?n=parseInt(60*t[0]):3==o&&(n=parseInt(60*t[1]),i=parseInt(60*t[0]*60)),isNaN(i)||isNaN(n)||isNaN(r)||n>3600||r>60?-1:i+n+r))},e.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},e}(),t.exports=h},{"./ad":2,"./companionad":4,"./creative":5,"./mediafile":7,"./nonlinear":8,"./response":10,"./urlhandler":12,"./util":15,events:1}],10:[function(e,t,i){var n;n=function(){function e(){this.ads=[],this.errorURLTemplates=[]}return e}(),t.exports=n},{}],11:[function(e,t,i){var n,r,s,o,a,l={}.hasOwnProperty,u=function(e,t){function i(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};r=e("./client"),a=e("./util"),s=e("./creative").VASTCreativeLinear,n=e("events").EventEmitter,o=function(e){function t(e,t){var i,n,o;this.ad=e,this.creative=t,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],o=this.creative.trackingEvents;for(i in o)n=o[i],this.trackingEvents[i]=n.slice(0);this.creative instanceof s?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1),this.on("start",function(){r.lastSuccessfullAd=+new Date})}return u(t,e),t.prototype.setDuration=function(e){return this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},t.prototype.setProgress=function(e){var t,i,n,r,s,o,a,l,u;if(s=null===this.skipDelay?this.skipDelayDefault:this.skipDelay,s===-1||this.skipable||(s>e?this.emit("skip-countdown",s-e):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){if(i=[],e>0){i.push("start"),n=Math.round(e/this.assetDuration*100),i.push("progress-"+n+"%"),i.push("progress-"+Math.round(e)),u=this.quartiles;for(r in u)o=u[r],o<=e&&e<=o+1&&i.push(r)}for(a=0,l=i.length;a<l;a++)t=i[a],this.track(t,!0);e<this.progress&&this.track("rewind")}return this.progress=e},t.prototype.setMuted=function(e){return this.muted!==e&&this.track(e?"mute":"unmute"),this.muted=e},t.prototype.setPaused=function(e){return this.paused!==e&&this.track(e?"pause":"resume"),this.paused=e},t.prototype.setFullscreen=function(e){return this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen"),this.fullscreen=e},t.prototype.setSkipDelay=function(e){if("number"==typeof e)return this.skipDelay=e},t.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")},t.prototype.errorWithCode=function(e){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:e})},t.prototype.complete=function(){return this.track("complete")},t.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},t.prototype.stop=function(){},t.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},t.prototype.click=function(){var e,t,i;if((null!=(i=this.clickTrackingURLTemplates)?i.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(t={CONTENTPLAYHEAD:this.progressFormated()}),e=a.resolveURLTemplates([this.clickThroughURLTemplate],t)[0],this.emit("clickthrough",e)},t.prototype.track=function(e,t){var i,n;null==t&&(t=!1),"closeLinear"===e&&null==this.trackingEvents[e]&&null!=this.trackingEvents.close&&(e="close"),n=this.trackingEvents[e],i=this.emitAlwaysEvents.indexOf(e),null!=n?(this.emit(e,""),this.trackURLs(n)):i!==-1&&this.emit(e,""),t===!0&&(delete this.trackingEvents[e],i>-1&&this.emitAlwaysEvents.splice(i,1))},t.prototype.trackURLs=function(e,t){return null==t&&(t={}),this.linear&&(t.CONTENTPLAYHEAD=this.progressFormated()),a.track(e,t)},t.prototype.progressFormated=function(){var e,t,i,n,r;return r=parseInt(this.progress),e=r/3600,e.length<2&&(e="0"+e),t=r/60%60,t.length<2&&(t="0"+t),n=r%60,n.length<2&&(n="0"+t),i=parseInt(100*(this.progress-r)),""+e+":"+t+":"+n+"."+i},t}(n),t.exports=o},{"./client":3,"./creative":5,"./util":15,events:1}],12:[function(e,t,i){var n,r,s;s=e("./urlhandlers/xmlhttprequest"),r=e("./urlhandlers/flash"),n=function(){function t(){}return t.get=function(t,i,n){return n||("function"==typeof i&&(n=i),i={}),/^https?:\/\//i.test(t)?i.urlhandler&&i.urlhandler.supported()?i.urlhandler.get(t,i,n):"undefined"==typeof window||null===window?e("./urlhandlers/node").get(t,i,n):s.supported()?s.get(t,i,n):r.supported()?r.get(t,i,n):n():n(null,Buzzoola.utils.parseXML(t))},t}(),t.exports=n},{"./urlhandlers/flash":13,"./urlhandlers/xmlhttprequest":14}],13:[function(e,t,i){var n;n=function(){function e(){}return e.xdr=function(){var e;return window.XDomainRequest&&(e=new XDomainRequest),e},e.supported=function(){return!!this.xdr()},e.get=function(e,t,i){var n,r;return(r="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(r.async=!1,n=this.xdr(),n.open("GET",e),n.timeout=t.timeout||0,n.withCredentials=t.withCredentials||!1,n.send(),n.onprogress=function(){},n.onload=function(){return r.loadXML(n.responseText),i(null,r)}):i()},e}(),t.exports=n},{}],14:[function(e,t,i){var n;n=function(){function e(){}return e.xhr=function(){var e;if(e=new window.XMLHttpRequest,"withCredentials"in e)return e},e.supported=function(){return!!this.xhr()},e.get=function(e,t,i){var n;try{n=this.xhr(),n.open("GET",e),n.timeout=t.timeout||0,n.withCredentials=t.withCredentials||!1,n.send(),n.onload=function(){i&&i(n.status>=400?n.status:null,n.responseXML||n.response||n.responseText)},n.onerror=function(){i&&i(!0,n.responseXML||n.response||n.responseText)},n.onprogress=function(){},n.ontimeout=function(){i&&i(!0,n.responseXML||n.response||n.responseText)}}catch(r){return i(r)}},e}(),t.exports=n},{}],15:[function(e,t,i){var n;n=function(){function e(){}return e.track=function(e,t){var i,n,r,s,o,a;for(n=this.resolveURLTemplates(e,t),a=[],s=0,o=n.length;s<o;s++)i=n[s],"undefined"!=typeof window&&null!==window&&(r=new Image,a.push(r.src=i));return a},e.resolveURLTemplates=function(e,t){var i,n,r,s,o,a,l,u,c;n=[],null==t&&(t={}),"CACHEBUSTING"in t||(t.CACHEBUSTING=Math.round(1e10*Math.random())),t.random=t.CACHEBUSTING;for(u=0,c=e.length;u<c;u++)if(i=e[u],a=i){for(r in t)l=t[r],s="["+r+"]",o="%%"+r+"%%",a=a.replace(s,l),a=a.replace(o,l);n.push(a)}return n},e.storage=function(){var e,t,i,n;try{i="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(r){n=r,i=null}return t=function(e){var t,i;try{if(i="__VASTUtil__",e.setItem(i,i),e.getItem(i)!==i)return!0}catch(n){return t=n,!0}return!1},(null==i||t(i))&&(e={},i={length:0,getItem:function(t){return e[t]},setItem:function(t,i){e[t]=i,this.length=Object.keys(e).length},removeItem:function(t){delete e[t],this.length=Object.keys(e).length},clear:function(){e={},this.length=0}}),i}(),e}(),t.exports=n},{}]},{},[6])(6)}),function(){var e=[].slice,t=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;!function(t,i,n){var r,s,o,a,l,u,c;return c={callsStrategies:["resize:calcWidth","resize:calcHeight","embed_svg"],triggersEvents:["event:state","error"]},a={drawn:function(){return this.draw()},"before:destroyed":function(){return this.carouselSlides=[]}},l=function(){if(this.carouselItems=[],this.carouselSlides=[],this.initModules)return this.initModules()},r=function(){var e,t,i,n,r,s;for(this.core.params.overroll&&(this.core.wrap_html.style.background="#FFFFFF"),this.core.widget_div.className+=" buzz-carousel",t="",s=this.core.loaded_data.content.main_content,e=i=0,n=s.length;i<n;e=++i)r=s[e],t+="<div class='buzz-carousel-item' "+("carousel"!==this.core.loaded_data.content_type?"style='margin: 0;'":"")+"> <div class='buzz-invisible' data-slugname='"+e+"' "+(this.core.params.debug_mode&&"data-debug"||"")+" data-debug_env='"+this.core.environment+"' data-debug_api='"+this.core.apiEnv+"' ></div> </div>";return this.core.widget_div.innerHTML=t,this.carouselItems=this.core.widget_div.querySelectorAll("div.buzz-carousel-item"),this.initWidgets()},u=function(){var t,i,r,s,o,a,l,u,c,d;for(o={unit_type:"standalone",unit_settings:{width:"100%",expandable:!1,overroll:!1,fullscreen:!1},unit_settings_list:["width","container_height","debug_mode"]},(this.core.params.height||this.core.params.container_height)&&(o.unit_settings.container_height="100%"),a=this.carouselItems.length,l=this.carouselItems,u=[],i=0,r=l.length;i<r;i++)t=l[i],t=t.children[0],d=+t.getAttribute("data-slugname"),s={parent_core:this.core,data:{crs:[n.utils.extend({},this.core.loaded_data.content.carousel_default,this.core.loaded_data.content.main_content[d],{slugname:d,player_data_attributes:null})],placement:o}},(c=new n.Core(t,s)).on("error",function(t){return function(){var i;return i=1<=arguments.length?e.call(arguments,0):[],t.trigger.apply(t,["error"].concat(i))}}(this),!0).on("event:state",function(e){return function(t){var i;if("ready"===t&&0===--a&&(e.trigger("event:state",e.core.state.state="ready"),i=e.callStrategy("resize:calcWidth"),e.resize))return e.resize(i,e.callStrategy("resize:calcHeight",i))}}(this)),u.push(this.carouselSlides.push(c));return u},o=function(){var e,t,n;return e=i.createElement("div"),e.style.position="relative",this.callStrategy("embed_svg",["powered"]),n="",t="carousel"===this.core.params.behavior&&!(this.core.params.overroll||this.core.params.fullscreen),t&&(n+='<div class="buzz-ad-title buzz-ad-title_mobile-engage">\n\t<span class="buzz-ad-title__el"><hr class="buzz-ad-title__line" /></span>\n\t<span class="buzz-ad-title__el buzz-ad-title__text">\u0420\u0435\u043a\u043b\u0430\u043c\u0430</span>\n\t<span class="buzz-ad-title__el"><hr class="buzz-ad-title__line" /></span>\n</div>'),n+='<div class="buzz_code" style="position: relative;"></div>',"carousel"!==this.core.params.behavior||this.core.params.overroll||this.core.loaded_data.custom_html||(n+=this.getPoweredButton()),e.innerHTML=n,e},s=function(){return this.core.wrap},n.Modules.Mixins.CarouselInit=function(e){var t,i,d,h;n.Modules.Mixins.PoweredBy(e),e.init=l,e.handlesEvents=a,e.initWidgets=u,e.draw=r,e.getWrap=o,e.getTarget=s,e.addsStrategies||(e.addsStrategies=[]),e.addsStrategies.push(["get_wrap",20,"getWrap"]),e.addsStrategies.push(["close_button:get_target",10,"getTarget"]),h=[];for(i in c)t=c[i],e[i]||(e[i]=[]),h.push((d=e[i]).push.apply(d,t));return h}}(window,document,Buzzoola),function(e,t,i){var n,r,s;return r={"animation:hover":function(e){if(this.animationSupported)return this.animate(e)},"before:destroyed":function(){return clearTimeout(this.timer),this.destroyed=!0}},s={triggersEvents:["close_button:drawn","close_button:click"],addsStrategies:[["close_button:get_button",0,"getButton"],["close_button:get_target",0,"getTarget"],["close_button:is_shown",0,"isShown"],["close_button:render",0,"render"],["close_button:show",0,"showDefaultStrategy"],["close_button:show_timer_tick",0,"showTimerTick"]],callsStrategies:["animation:supported","animation:status","widget:getCurrentTime","widget:getTotalTime","close_button:get_target","close_button:is_shown","close_button:render","close_button:show","close_button:show_timer_tick"],skipMessage:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",init:function(){return this.animation={hidden:"-26px",shown:"0"},this.params={isNewTGB:"tgb"===this.core.params.behavior&&"showcase"!==this.core.options.parent_core&&(i.utils.bowser.mobile||i.utils.bowser.tablet),isVideo:"video"===this.core.params.behavior,tick:0,showCloseButton:!this.core.params.inread&&this.core.loaded_data.player_show_skip_button_before_play&&this.core.loaded_data.auto_play<=0},this.widgetInit()},animate:function(e){if(this.closeButton)return this.closeButton.style.top=this.animation[e?"shown":"hidden"]},render:function(e){var n;return e||(e=this.callStrategy("close_button:get_target")),n=t.createElement("div"),n.className="buzz__skip__button buzz__hidden buzz__not__allowed",i.utils.add_class("buzz__skip__button__"+(this.params.isVideo?"video":"tgb")),this.core.params.inread&&i.utils.add_class("transparent",n),n.innerHTML='<div class="buzz__skip__button__cross"><div class="buzz__skip__button__cross-img"></div></div>\n<div class="buzz__skip__button__text"></div>',e.appendChild(n),this.closeButton=n,this.closeButtonText=n.querySelector(".buzz__skip__button__text"),(this.animationSupported=this.callStrategy("animation:supported","expandable"))&&(i.utils.add_class("buzz__animation__top",n),this.animate(this.callStrategy("animation:status"))),this.params.isVideo||this.startShowTimer(),n},isShown:function(){return this.params.showCloseButton},getButton:function(){return this.closeButton},getMessage:function(e){return"preroll"!==this.core.params.unitType&&null!=this.getOptionalMessage?this.getOptionalMessage(e):"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443 \u0447\u0435\u0440\u0435\u0437 "+e+" \u0441\u0435\u043a."},showDefaultStrategy:function(){if(this.closeButton)return this.core.params.inread?i.utils.add_class("image",this.closeButton):(i.utils.setText(this.closeButtonText,this.skipMessage),i.utils.add_class("text",this.closeButton)),i.utils.remove_class("buzz__not__allowed",this.closeButton),i.utils.remove_class("buzz__hidden",this.closeButton)},show:function(e){return this.params.showCloseButton=!0,this.initCloseButtonClickHandler(),this.callStrategy("close_button:show",this.closeButton,e)},hide:function(){if(this.params.showCloseButton=!1,clearTimeout(this.timer),this.closeButton)return i.utils.add_class("buzz__hidden",this.closeButton)},getTarget:function(){return(this.params.isNewTGB&&this.core.params.inread||this.params.isVideo)&&"fullscreen"!==this.core.state.format&&this.core.wrap||this.core.wrap_html},initCloseButtonClickHandler:function(){if(this.closeButton&&!this.initialHandlersCloseButton)return this.initialHandlersCloseButton=!0,i.utils.add_event_listener("click",function(e){return function(t){return e.handleClick(t)}}(this),this.closeButton)},handleClick:function(e){if(i.utils.stopPropagation(e),!(this.closeButton.className.indexOf("buzz__not__allowed")>=0))return this.core.params.overroll||"fullscreen"===this.core.state.format||this.core.couldBeReloaded()?(this.trigger("close_button:click"),setTimeout(function(e){return function(){return e.core.destroy()}}(this),0)):this.core.params.expandable?(this.core.collapse(!0),setTimeout(function(e){return function(){return e.trigger("close_button:click")}}(this),0)):(this.trigger("close_button:click"),setTimeout(function(e){return function(){return e.core.destroy()}}(this),0))},startShowTimer:function(){if(!(this.params.isVideo&&this.params.showCloseButton||this.params.showSkipSeconds===-3))return clearTimeout(this.timer),++this.params.tick>=this.params.showSkipSeconds?this.show():(this.callStrategy("close_button:show_timer_tick",this.params.showSkipSeconds,this.params.tick,this.closeButton),this.timer=setTimeout(function(e){return function(){return e.startShowTimer()}}(this),1e3))},showTimerTick:function(e,t){var n;if(this.closeButton&&!this.core.params.inread)return n=e-t,(!n||n<0)&&(n=0),i.utils.setText(this.closeButtonText,this.getMessage(n)),i.utils.add_class("text",this.closeButton),i.utils.remove_class("buzz__hidden",this.closeButton),i.utils.add_class("buzz__not__allowed",this.closeButton)},defaultShowSkipSeconds:function(){return this.params.showSkipSeconds=+this.core.loaded_data.player_show_skip_button_seconds||0}},n=function(e){var t,i,n;i=[];for(t in s)n=s[t],i.push(e[t]=n);return i},n.handlesEvents=r,i.Modules.Mixins.CloseButton=n}(window,document,Buzzoola),function(e,t,i){var n,r,s;return n=function(){var e;return e="overroll"===this.moduleName?2:4,this.core.callStrategyByMaxPriority("destroy",e),this.core.container&&("overroll"===this.moduleName?this.removeForeground():this.foreground&&this.foreground.parentElement&&this.core.container.removeChild(this.foreground)),this.stopDestructionTimer()},s=function(){var e;return e=this.callStrategy(this.moduleName+":getWaitAndDestroyIfInactiveTime")||this.defaultWaitAndDestroyIfInactiveTime,this.inactivityDestructionTimer=setTimeout(function(t){return function(){return setTimeout(function(){return t.trigger(t.moduleName+":destroy_inactive")},0),t.core.destroy(),t.core.log("Destroyed for inactivity over "+e+" seconds")}}(this),1e3*e)},r=function(){return clearTimeout(this.inactivityDestructionTimer)},i.Modules.Mixins.Destruction=function(e){return e.destroy=n,e.waitAndDestroyIfInactive=s,e.stopDestructionTimer=r}}(window,document,Buzzoola),function(e,t,i){var n,r,s,o;return r=0,n=function(e,i,n){var s,o,a,l,u;if(this.sourceless=null==e,a=t.createElement("iframe"),a.setAttribute("frameborder","0"),a.setAttribute("scrolling","no"),a.setAttribute("height","0"),a.setAttribute("width","0"),a.setAttribute("name",this.core.params.id+"_"+r++),this.sourceless||(this.iframeUrl=a.src=e),(i||this.core.embed_container).appendChild(a),null!=n&&this.sourceless){for(o=a.contentWindow.document,o.open(),l=0,u=n.length;l<u;l++)s=n[l],o.write(s);o.close()}return a},o=function(e){var t;this.iframe&&this.onload?null!=(t=this.iframe.contentWindow)&&t.postMessage(JSON.stringify(e),this.iframeUrl):setTimeout(function(t){return function(){return t.sendPostMessage(e)}}(this),300)},s=function(){var e;if(e=function(e){return function(t){var n,r;if(e.sourceless||e.iframeDomain.match(t.origin))try{if(n=i.utils.Base64.decode(t.data),n=i.utils.JSON.parse(n),n.id!==e.id)return;"onload"===n.method&&(e.onload=!0),e.iframeHandler&&e.iframeHandler(null,n)}catch(s){r=s}}}(this),i.utils.add_event_listener("message",e),!this.preventClear)return this.core.on("terminated",function(){return setTimeout(function(){return i.utils.remove_event_listener("message",e)},1e3)},!0)},i.Modules.Mixins.Iframe=function(e){return e.createIframe=n,e.initEventHandlerIframe=s,e.sendPostMessage=o}}(window,document,Buzzoola),function(t,i,n){var r,s,o;return s={drawn:function(){return this.renderPlank(),this.initHandlersPlank()},"event:tick":function(e){if(this.showOnTick(e))return this.animate(!0)},"widget:resize":function(){var t;if(t=1<=arguments.length?e.call(arguments,0):[],this.params.width=t[0],this.params.height=t[1],this.params.resized=!0,this.params.drawn)return this.resize()},"event:state":function(e){if("finish"===e&&this.restoreParams)return n.utils.extend(this.params,this.restoreParams),this.restoreParams=null},"engagement:user_left_page":function(){var e,t,i,r,s,o,a,l,u;if(n.utils.bowser.mobile||n.utils.bowser.tablet){for(this.restoreParams={},l=["showOnTick","showTime"],t=0,r=l.length;t<r;t++)o=l[t],this.restoreParams[o]=this.params[o];if(this.params.showOnTick=!1,this.params.showTime=this.core.callStrategy("widget:getCurrentTime")+3,this.params.isShown=!1,clearTimeout(this.hideTimer),n.utils.remove_class(this.params.fullClass,this.plank),"install"===this.core.loaded_data.click_event_view)return n.utils.add_class(this.params.hiddenClass,this.plank);for(n.utils.remove_class(this.params.hiddenClass,this.plank),
e=this.getPlankClasses(),u=[],i=0,s=e.length;i<s;i++)a=e[i],u.push(n.utils.add_class(a,this.plank));return u}}},o={init:function(){return this.params={},this.initAdditionalParams(),this.initCustomParams(),this.initTimeParams()},initAdditionalParams:function(){return this.params.isMobile=n.utils.bowser.mobile||n.utils.bowser.tablet,this.params.isShown=!1,this.params.wasHiddenOnProgress=!1,this.params.drawn=!1,this.params.resized=!1},initTimeParams:function(){var e,t,i;return i=this.core.loaded_data,t=i.overlay_start,e=i.overlay_close,this.params.showOnTick=t===e&&0===e,this.params.showOnTick?this.params.tickToShow=2:(this.params.showTime=t,this.params.hideTime=e)},initHandlersPlank:function(){if(n.utils.add_event_listener("click",function(e){return function(){return e.callStrategy("clickthrough_URL:open")}}(this),this.plank),n.utils.remove_event_listener("touchstart",function(e){return function(){return n.utils.add_class("buzzplayer-icon-bg-black-touch",e.plank)}}(this),this.plank),n.utils.add_event_listener("touchend",function(e){return function(){return n.utils.remove_class("buzzplayer-icon-bg-black-touch",e.plank)}}(this),this.plank),this.params.reactOnHover)return n.utils.add_event_listener("mouseover",function(e){return function(){return e.animate(!0),clearTimeout(e.hideTimer)}}(this),this.plank),n.utils.add_event_listener("mouseout",function(e){return function(){return e.delayedHide()}}(this),this.plank)},resize:function(){var e,t,i,r,s;for(e=null,r=this.availableSizes,t=0,i=r.length;t<i;t++)if(s=r[t],s>this.params.width){e=s;break}if(e!==this.params.currentMod)return null!=this.params.currentMod&&n.utils.remove_class(this.getModClassName(this.params.currentMod),this.plank),null!=e&&n.utils.add_class(this.getModClassName(e),this.plank),this.params.currentMod=e},delayedHide:function(){if(!this.couldNotHide())return clearTimeout(this.hideTimer),this.hideTimer=setTimeout(function(e){return function(){return e.animate(!1)}}(this),5e3)}},r=function(e){var t,i,r;e.handlesEvents=n.utils.extend({},e.handlesEvents,s),i=[];for(t in o)r=o[t],i.push(e[t]=r);return i},r.handlesEvents=s,n.Modules.Mixins.Plank=r}(window,document,Buzzoola),function(e,t,i){var n,r,s;return s=function(){return this.tryMuting=!0,this.pauseOnPlay=!1,this.playPromise=null},r=function(e){var t,i;if(this.pauseOnPlay=!1,null==(null!=(i=this.playPromise)?i.then:void 0))return"function"==typeof e?e():void 0;try{return this.playPromise.then(function(t){return function(){return t.playPromise=null,"function"==typeof e?e():void 0}}(this))["catch"](function(e){return function(t){if(null!=e.videoTag&&e.tryMuting&&!e.videoTag.muted)return e.tryMuting=!1,e.setVolume(0),setTimeout(function(){return e.play()},0)}}(this))}catch(n){return t=n,this.core.log(t)}},n=function(){var e;return null!=(null!=(e=this.playPromise)?e.then:void 0)&&!this.destroyed&&(this.pauseOnPlay=!0,this.playPromise.then(function(e){return function(){if(e.pauseOnPlay&&!e.destroyed)return e.pause(),e.pauseOnPlay=!1}}(this)),!0)},i.Modules.Mixins.PlayPromise=function(e){return e.playPromiseInitialization=s,e.onPlayCheck=r,e.onPauseCheck=n}}(window,document,Buzzoola),function(e,t,i){var n,r;return n=function(e){var t,n,r,s,o,a;return null==e&&(e={}),a=null!=(s=e.width)?s:134,n=null!=(o=e.height)?o:11,r=i.utils.bowser.tablet||i.utils.bowser.mobile,t=r?"buzz-ad-power_mobile-engage":"",'<div class="buzz-ad-power '+t+'">\n\t<svg viewBox="0 0 '+a+" "+n+'">\n\t\t<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#buzz_powered"></use>\n\t</svg>\n</div>'},r=function(t,n){var r,s;if(null==t&&(t=this.core.wrap_html),s=encodeURIComponent(e.location.hostname),null==n&&(n="https://buzzoola.com?utm_source=buzzoola_network&utm_medium=direct_link&utm_campaign=engageroll_branding&utm_term="+s),r=t.querySelector(".buzz-ad-power"),null!=r)return i.utils.add_event_listener("click",function(e){return function(t){return t.stopPropagation(),i.utils.openLink(n,e.core.params.is_ios)}}(this),r)},i.Modules.Mixins.PoweredBy=function(e){return e.getPoweredButton=n,e.subscribeToPoweredClick=r}}(window,document,Buzzoola),function(e,t,i){var n,r,s,o;return n=["wheel","touchmove"],r=function(){var t,r,s,o;for(o=[],r=0,s=n.length;r<s;r++)t=n[r],i.utils.add_event_listener(t,this.preventDefault,e),null!=this.core.wrap?o.push(i.utils.add_event_listener(t,this.preventDefault,this.core.wrap)):o.push(void 0);return o},o=function(){var t,r,s,o;for(o=[],r=0,s=n.length;r<s;r++)t=n[r],i.utils.remove_event_listener(t,this.preventDefault,e),null!=this.core.wrap?o.push(i.utils.remove_event_listener(t,this.preventDefault,this.core.wrap)):o.push(void 0);return o},s=function(t){return t=t||e.event,"function"==typeof t.preventDefault&&t.preventDefault(),"function"==typeof t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,!1},i.Modules.Mixins.ScrollLock=function(e){return e.lockScroll=r,e.releaseScroll=o,e.preventDefault=s}}(window,document,Buzzoola),function(e,t,i){var n,r,s,o,a,l,u,c;return o=function(){this.player=this.core.wrap_html.querySelector(".buzz-maxiscroll__video")||this.core.wrap_html.querySelector(".buzz-scroll__video"),this.wrap=this.core.wrap_html.querySelector(".buzz-maxiscroll__wrapper")||this.core.wrap_html.querySelector(".buzz-scroll__wrapper"),this.widgetFirstSeen=!1,this.widgetAdSeen=null,this.watchedWindows=[],this.player&&(this.played=!1),i.utils.add_event_listener("scroll",function(e){return function(){e.checkPositions()}}(this),e),this.checkPositions()},l=function(){var e;return null!=this.centerTimeout&&clearTimeout(this.centerTimeout),this.isScrolling?void(this.centerTimeout=setTimeout(function(e){return function(){return e.setCenterOfPlayer()}}(this),150)):void(this.player&&(e=this.player.getBoundingClientRect(),this.playerPos=i.utils.extend({},e),this.playerPos.center=(e.bottom+e.top)/2,this.playerSeen()))},r=function(){var e,t;return e="scroller"===this.core.loaded_data.content_type,t=e?this.core.params.height:this.core.params.screenHeight},n=function(){var t,n,r;for(this.wrapHeight=this.getWrapHeight(),this.wrapperTopPos=this.wrap.getBoundingClientRect().top,r=e;r.parent!==r&&(t=i.utils.getCurrentFrame(r),null!=t);)this.wrapperTopPos+=null!=(n=t.getBoundingClientRect().top)?n:0,r=r.parent,this.watchedWindows.indexOf(r)===-1&&(this.watchedWindows.push(r),i.utils.add_event_listener("scroll",function(e){return function(){e.checkPositions()}}(this),r));this.player&&this.playerSeen(),this.widgetSeen()},s=function(){this.playerPos&&(this.widgetFirstSeen||this.widgetSeen(),this.wrapperTopPos<this.playerPos.center&&this.wrapperTopPos+this.wrapHeight>this.playerPos.center?this.played||this.setPlayed():this.played&&(this.trigger("widget:player:unseen"),this.played=!1))},u=function(){null!=this.player&&(this.played=!0,this.trigger("widget:player:seen"))},c=function(e){var t,i,n,r,s;null==e&&(e=!1),r=this.core.params.screenHeight,n=this.wrapperTopPos>=r||this.wrapperTopPos+this.wrapHeight<0?0:this.wrapperTopPos>0?100-100*(this.wrapperTopPos+this.wrapHeight-r)/this.wrapHeight:100*(this.wrapperTopPos+this.wrapHeight)/this.wrapHeight,t=n>=50,t!==this.widgetAdSeen&&(this.widgetAdSeen=t,this.widgetAdSeen?(this.trigger("engagement:seen"),this.widgetAdSeen=!0,this.widgetFirstSeen||(i=this.wrapperTopPos<r-50&&this.wrapperTopPos>0,s=this.wrapperTopPos+this.wrapHeight>50&&this.wrapperTopPos<0,(i||s||e)&&(this.trigger("engagement:seenFirstTime"),this.widgetFirstSeen=!0))):(this.trigger("engagement:unseen"),this.widgetAdSeen=!1))},a={"window:scroll":function(e){this.isScrolling=e},"before:destroyed":function(){for(;this.watchedWindows.length;)this.watchedWindows.pop();return this.watchedWindows=null}},i.Modules.Mixins.ScrollerWidgetPlayerSeen=function(e){i.utils.extend(e.handlesEvents,a),e.playerSeenCheck=o,e.setCenterOfPlayer=l,e.playerSeen=s,e.setPlayed=u,e.getWrapHeight=r,e.checkPositions=n,e.widgetSeen=c}}(window,document,Buzzoola),function(t,i,n){return n.Modules.BaseAPIEventSender=function(){function t(t){var i,r,s,o,a,l,u,c,d,h,p,f,m;if(this.core=t,this.allowedEvents=n.utils.extend([],this.allowEvents[this.core.loaded_data.content_type])||[],null!=this.core.options.parent_core)for(d=["player_seen","impression"],o=0,l=d.length;o<l;o++)i=d[o],r=this.allowedEvents.indexOf(i),r!==-1&&this.allowedEvents.splice(r,1);for(this._listeners=[],h=this.onEvents,s=function(t){return function(i,r){var s;return t.core.on(i,s=function(){var i,s;return i=1<=arguments.length?e.call(arguments,0):[],s=n.utils.isFunction(r)?r.apply(t,i):r,t.sendEvent.apply(t,[].concat(s,i))},!0),t._listeners.push({event:i,handler:s})}}(this),a=0,u=h.length;a<u;a++)p=h[a],c=p.playerEvent,f=p.serverEvent,s(c,f);m=function(e){return function(){var t,n,r,s,o;for(s=e._listeners,n=0,r=s.length;n<r;n++)o=s[n],i=o.event,t=o.handler,e.core.off(i,t);return e._listeners=[]}}(this),this.core.on("terminated",m),this._listeners.push({event:"terminated",handler:m}),this.init&&this.init.apply(this,Array.prototype.slice.call(arguments))}return t.prototype.sendEvent=function(){var t;return t=1<=arguments.length?e.call(arguments,0):[],this._sendEvent.apply(this,t)},t.prototype._sendEvent=function(){var t,i,n,r;if(i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],this.allowedEvents.indexOf(i)!==-1)return r=(this.paramsEventData||{})[i],n=r?r.apply(this,t):{},this.core.callStrategy("api:sendEvent",i,this.core.state.slice||0,n)},t}()}(window,document,Buzzoola),function(i,n,r){var s;return s=function(){var e,t,i,n,r,s,o,a,l,u,c,d;if(!this.preventClear){for(a=[this.reloadData.events,this.reloadData.parentEvents],s=0,o=a.length;s<o;s++)if(n=a[s],e=n===this.reloadData.events?this.core:null!=(l=this.core.options)?l.parent_core:void 0)for(i in n)r=n[i],e.off(i,r);u=this.reloadData.strategies;for(d in u)t=u[d],c=this.core.strategies[d]||[],this.core.strategies[d]=c.filter(function(e){return!(e.priority===t.priority&&e.fn===t.fn)});return this.callsStrategies=[],this.triggersEvents=[]}},r.Modules.BaseModule=function(){function i(e){this.core=e,this.reloadData={strategies:{},events:{},parentEvents:{}},this.initEventHandlers(),this.initStrategies(),this.init&&this.init.apply(this,Array.prototype.slice.call(arguments))}return i.prototype.initEventHandlers=function(){var e,t,i,n,r,o,a,l,u;for(null==this.handlesEvents&&(this.handlesEvents={}),null==this.handlesParentEvents&&(this.handlesParentEvents={}),this.preventClear||(this.handlesEvents["tube:reload"]=s),r=[this.handlesEvents,this.handlesParentEvents],l=[],i=0,n=r.length;i<n;i++)t=r[i],a=t===this.handlesEvents?[this.core,this.reloadData.events]:[null!=(o=this.core.options)?o.parent_core:void 0,this.reloadData.parentEvents],e=a[0],u=a[1],e&&l.push(function(e){return function(t,i,n){var r,s,o;o=[];for(r in i)s=i[r],o.push(function(i,r){var s;return s=n[i]=function(){return r.apply(e,Array.prototype.slice.call(arguments))},t.on(i,s,!0)}(r,s));return o}}(this)(e,t,u));return l},i.prototype.callStrategy=function(e){if(t.call(this.callsStrategies,e)>=0)return this.core.callStrategy.apply(this.core,Array.prototype.slice.call(arguments))},i.prototype.trigger=function(e){if(t.call(this.triggersEvents,e)>=0)return this.core.trigger.apply(this.core,Array.prototype.slice.call(arguments))},i.prototype.initStrategies=function(){var t,i,n,r,s,o,a,l;if(this.addsStrategies){for(o=this.addsStrategies,l=[],t=0,i=o.length;t<i;t++)a=o[t],r=a[0],s=a[1],n=a[2],l.push(function(t){return function(i,n,r){var s;return"string"==typeof r&&(r=t[r]),s=function(){var i;return i=1<=arguments.length?e.call(arguments,0):[],r.apply(t,i)},t.reloadData.strategies[i]={priority:n,fn:s},t.core.addStrategy(i,n,s)}}(this)(r,s,n));return l}},i}()}(window,document,Buzzoola),function(e,t,n){return n.Modules.BaseShareButtons=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.triggersEvents=["share_button:clicked"],r.prototype.init=function(){var t;return this.myShareFqdn={dev:"http://devmy.buzzoola.com",prod:"http://my.buzzoola.com",debug:"http://devmy.buzzoola.com"}[this.core.environment],this.buzzHash=this.core.loaded_data.hash_to_embed,this.parentFqdn=e.BUZZOOLA.hosted,this.content=this.core.loaded_data.main_content,this.contentType=this.core.loaded_data.content_type,this.title=this.core.loaded_data.title,this.shareButtons=this.core.loaded_data.share_buttons,this.sideShareButtons=this.core.params.side_share_buttons?this.core.params.side_share_buttons:!this.core.loaded_data.share_panel_position||"left"!==(t=this.core.loaded_data.share_panel_position)&&"top"!==t&&"right"!==t&&"bottom"!==t&&"overlay_bottom"!==t?"right":this.core.loaded_data.share_panel_position,this.hostedFqdn={facebook:"facebook.com",vkontakte:"vk.com",twitter:"twitter.com",moimir:"moimir.mail.ru",odnoklassniki:"odnoklassniki.ru"}},r.prototype.share=function(e){var t,i;switch(i=function(){switch(this.contentType){case"youtube_id":return"http://www.youtube.com/watch?v="+this.content;case"rutube_id":return"https://rutube.ru/video/"+this.content;default:return encodeURIComponent(this.myShareFqdn+"/tube/play/"+this.buzzHash+"? parentFQDN="+this.parentFqdn+"%26 hostedFQDN="+this.hostedFqdn[e])}}.call(this),t="",e){case"facebook":t="http://www.facebook.com/sharer/sharer.php?u="+i;break;case"vkontakte":t="http://vk.com/share.php?url="+i;break;case"twitter":t="http://share.yandex.ru/go.xml?url="+i+"&title="+encodeURIComponent(this.title)+"&service=twitter";break;case"moimir":t="http://connect.mail.ru/share?share_url="+i;break;case"odnoklassniki":t="http://www.odnoklassniki.ru/dk?st.cmd=addShare&st._surl="+i;break;default:return}return this.trigger("share_button:clicked",e),n.utils.openLink(t,this.core.params.is_ios)},r}(n.Modules.BaseModule)}(window,document,Buzzoola),function(e,t,n){return n.Modules.BaseTrackingUrlSender=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.callsStrategies=["tracking_url:send"],t.prototype.sliceless=!0,t.prototype.init=function(){return this.sended=[]},t.prototype.sendState=function(e,t){var i,n;if(null==t&&(t={}),n=t.slice,i=t.custom,(this.events.indexOf(e)!==-1||i)&&(0<=n&&n<=10&&!this.sliceless&&this.noSliceEvents.indexOf(e)===-1&&(e+=n),this.sended.indexOf(e)===-1))return this.callStrategy("tracking_url:send",e),this.sended.push(e)},t}(n.Modules.BaseModule)}(window,document,Buzzoola),function(i,n,r){return r.Core=function(){function s(e,t){var n,s;this.embed_container=e,this.options=null!=t?t:{},this.sendedErrors=[],this.embed_container.controller=this,this.strategies={},this.events={},this.state={format:"native",drawn:!1},this.protocol=r.utils.getProtocol(),this.environment=this.getEnvironment(),this.apiEnv=this.embed_container.getAttribute("data-debug_api")||this.environment,this.reloaded=!1,this.canReloadBrokenAd=!0,this.adsToPlay=0,this.totalAds=0,this.currentAd=0,this.readyFirstTime=!1,this.seenFirstTime=!1,this.on("engagement:seenFirstTime",function(e){return function(){return e.seenFirstTime=!0,e.displayReloadTimeout=setTimeout(function(){var t;if(t=e.couldBeReloaded(),t&&"video"!==e.params.behavior&&null==e.options.parent_core&&!e.options.vpaidJSProxy&&!e.params.custom_creative)return t?e.destroy():e.params.expandable?e.collapse(!0):e.destroy()},1e4)}}(this)),this.on("error",function(e){return function(t,i){return e.state.error=!0,i&&e.sendError(t),e.log("%cerror:","color:rgb(240,58,66);",t),e.canReloadBrokenAd&&(e.adsToPlay<e.totalAds?e.totalAds--:e.currentAd++,e.seenFirstTime||(e.readyFirstTime=!1)),e.destroy()}}(this)),this.on("warning",function(e){return function(t,i){return i&&e.sendError(t),e.log("%cwarning:","color:rgb(234,166,27);",t)}}(this)),this.on("event:state",function(e){return function(t){var i;if("ready"===t)return e.readyFirstTime||(i=Date.now(),e.idleInterval=setInterval(function(){if(Date.now()-i>=9e6)return e.trigger("error","player ttl exceeded")},6e4)),e.canReloadBrokenAd=!1,++e.currentAd>1&&e.readyFirstTime&&setTimeout(function(){return e.callStrategy("overroll:showAndPlay")},1),e.readyFirstTime=!0}}(this)),this.on("api:ads_total",function(e){return function(t,i){e.adsToPlay=t,e.totalAds=i}}(this)),this.on("api:got_uuid",function(e){return function(t){var i;return null!=(i=e.params)?i.uuid=e.initialParams.uuid=t:void 0}}(this)),this.on("api:global_tracking",function(e){return function(t,i){return e.globalTrackingUrls=null!=t?t:{},e.globalTrackingJs=null!=i?i:{},null==e.globalTrackingUrlsSended&&(e.globalTrackingUrlsSended=[]),null!=e.globalTrackingJsSended?e.globalTrackingJsSended:e.globalTrackingJsSended=[]}}(this)),null!=(n=this.options.parent_core)&&null!=n.on&&n.on("before:destroyed",function(e){return function(){return e.destroy(!0)}}(this)),this.initialParams={version:r.utils.extend({},Buzzoola.version),is_ios:"ios"===this.embed_container.getAttribute("data-platform"),debug_mode:this.getDataAttribute("debug_mode"),id:"buzzframe_"+r.utils.guid(),parent:this.embed_container.getAttribute("data-pid")||"pub",content:this.embed_container.getAttribute("data-hash"),width:"100%",height:"",slugname:this.embed_container.getAttribute("data-slugname")||"",container_height:"",fullscreen:!1,overroll:!1,expandable:!1,inread:!1,target:null,align:null,clickunder_selector:null,intersectionSupported:null!=i.IntersectionObserver&&(i===i.top||r.utils.isNative(i.IntersectionObserver)),origin:{dev:this.protocol+"//devtube.buzzoola.com/new",prod:this.protocol+"//tube.buzzoola.com/new",debug:this.protocol+"//localtube.buzzoola.com:8000",test:this.protocol+"//"+i.location.host}[this.environment],apiUrl:{dev:"https://devexchange.buzzoola.com",prod:"https://exchange.buzzoola.com",debug:"https://devexchange.buzzoola.com",test:"https://devexchange.buzzoola.com"}[this.apiEnv],logmill:"https://devlogmill.buzzoola.com",logmill_env:{dev:"dev_front_tube",prod:"prod_front_tube",debug:"dev_front_tube",test:"dev_front_tube"}[this.environment],stylesheet_paths:["/build/style.css"]},!this.embed_container.hasAttribute("data-side-share-buttons")||"left"!==(s=this.embed_container.getAttribute("data-side-share-buttons"))&&"top"!==s&&"right"!==s&&"bottom"!==s||(this.initialParams.side_share_buttons=this.embed_container.getAttribute("data-side-share-buttons")),this.airbrake=new r.utils.airbrakeJs.Client({projectId:1}),this.airbrake.setHost(this.initialParams.logmill),this.airbrake.addFilter(function(e){return function(t){return t.context.environment=e.initialParams.logmill_env,t}}(this)),this.loadStylesheets(),this.reload(!1),r.Modules.CustomHtmlWrap||this.loadExtraLib()}return s.install=function(e,t){return new r.Core(e,t)},s.prototype.asyncModuleLoad={API:function(){var e,t;return e={},(this.loaded_data.vastParsed||"vast"===(t=this.loaded_data.content_type)||"vast2"===t||"vast3"===t||"vast4"===t||"audioroll"===t||"vpaid"===t||"vpaidjs"===t)&&(e.VAST=!1),this.loaded_data.branding_template&&(e.Branding=!1),e}},s.prototype.loadExtraLib=function(){return r.utils.loadExtra(this.params.origin+"/build/buzzlibrary_extra.js",function(e){return function(t){return t?e.trigger("error","not loaded buzzlibrary_extra"):e.trigger("buzzlibrary_extra:loaded")}}(this))},s.prototype.reload=function(e){var t,i;return null==e&&(e=!0),this.params=r.utils.extend({},this.initialParams),this.adsLoaded=!1,e&&(this.reloaded=!0,this.canReloadBrokenAd=!0,null!=(t=this.wrap_html)&&null!=(i=t.parentNode)&&i.removeChild(this.wrap_html),this.state.drawn=!1,this.state.slice=null,this.state.seen=null,this.state.state="",this.trigger("tube:reload"),this.clearLoadedEvents()),this.initModules(),this.initAsyncModules()},s.prototype.couldBeReloaded=function(){return this.canReloadBrokenAd||this.hasMoreAds()},s.prototype.hasMoreAds=function(e){return null==e&&(e=0),("overroll"===this.state.format||this.params.inread)&&this.currentAd+e<this.adsToPlay},s.prototype.isUsingVideoSlot=function(){var e,t,i;return null!=(null!=(e=this.options)?e.vpaidJSProxy:void 0)&&null!=(null!=(t=this.options)?t.videoSlot:void 0)&&("vast"===(i=this.loaded_data.content_type)||"vpaid"===i||"video_url"===i||"audioroll"===i)},s.prototype.isManagedByIMA=function(){return this.isUsingVideoSlot()&&!(this.options.videoSlot instanceof Element)},s.prototype.clearLoadedEvents=function(e){var t,i,n,s;if(null==e&&(e=this.asyncModuleLoad),r.utils.isFunction(e)&&(e=e.call(this)),i=Object.keys(e).length){s=[];for(n in e)t=e[n],this.events[n.toLowerCase()+":loaded"]=[],s.push(t&&this.clearLoadedEvents(t));return s}},s.prototype.initModules=function(){return r.utils.initModules(this,{DefaultSize:!0,Destroy:!0,Loader:!this.reloaded,IntersectionObserverEngagement:this.params.intersectionSupported,UserEngagement:!0,WeboramaUserTracker:!1})},s.prototype.initAsyncModules=function(t){var i,n,s,o,a,l;if(null==t&&(t=this.asyncModuleLoad),r.utils.isFunction(t)&&(t=t.call(this)),s={},o=0,a=Object.keys(t).length){n=function(t){return function(i,n){return"API"===i&&t.reloaded||(s[i]=!0),t.on(i.toLowerCase()+":loaded",function(){var r,s;return r=1<=arguments.length?e.call(arguments,0):[],"API"===i&&(null!=(s=r[0])?s.need_ad:void 0)===!0&&t.callStrategy("api:sendEvent","ad",0),++o,n?t.initAsyncModules(n):o===a?t.initParams():void 0})}}(this);for(l in t)i=t[l],n(l,i)}else this.initParams();return r.utils.initModules(this,s)},s.prototype.getDataAttribute=function(e){var t,i;return t=function(){switch(e){case"clickunder_selector":return"data-selector";case"debug_mode":return"data-debug";case"container_height":return"data-container-height";default:return"data-"+e}}(),i=function(){switch(e){case"expandable":return("true"===this.embed_container.getAttribute("data-expandable")||"not_collapse"===this.embed_container.getAttribute("data-expandable")||"true"===this.embed_container.getAttribute("expandable"))&&!this.params.is_ios;case"debug_mode":case"fullscreen":case"overroll":return this.embed_container.hasAttribute(t);default:return this.embed_container.getAttribute(t)}}.call(this),null!=i?i:this.params[e]},s.prototype.initParams=function(){var e,i,n,s,o,a,l,u,c,d,h,p,f,m,g,v;d=this.callStrategy("api:getData","placement",{copy:!0}),a=this.loaded_data,g=(null!=(h=d.unit_settings_list)?h.length:void 0)>0?d.unit_settings_list:["align","clickunder_selector","container_height","debug_mode","expandable","fullscreen","height","overroll","target","width"],m=null!=d.unit_settings?d.unit_settings:g.reduce(function(e){return function(t,i){return t[i]=e.getDataAttribute(i),t}}(this),{}),m.inread=g.indexOf("expandable")!==-1,o=null!=(p=a.player_data_attributes)?p:{};for(u in o)v=o[u],t.call(g,u)>=0&&null!==v&&""!==v&&"default"!==v&&(m[u]=v);return this.initialParams.unitType=this.params.unitType=d.unit_type,null!=m.fullscreen&&null==(e=this.params).unitType&&(e.unitType="fullscreen"),null!=(c=m.overroll)&&(null==(i=this.params).unitType&&(i.unitType="preroll"),this.params.overrollBehavior=c,m.overroll=c===!0||"show"===c||"default"===c||"onclick"===c),null!=(l=m.expandable)&&(null==(n=this.params).unitType&&(n.unitType="inread"),this.params.minimize="scroller"===(f=a.content_type)||"maxiscroller"===f||"clickunder"===f?0:"always minimized"===l?2:"minimize"===l?1:0,m.expandable="always"===l||"default"===l||"always minimized"!==l&&"minimize"!==l&&"never"!==l&&l),null==(s=this.params).unitType&&(s.unitType="infeed"),null==m.debug_mode&&(m.debug_mode=this.params.debug_mode),r.utils.extend(this.params,m),this.params.percent_width=this.params.width.indexOf("%")!==-1,this.initAfterLoaded()},s.prototype.initAfterLoaded=function(){var e;return this.params.behavior=function(){switch(this.loaded_data.content_type){case"image_url":return"tgb";case"vast":case"youtube_id":case"video_url":case"vpaid":case"facebook":case"audioroll":case"vimeo":case"rutube_id":return"video";case"carousel":case"scroller":case"maxiscroller":case"clickunder":case"showcase":case"banner":return this.loaded_data.content_type;default:return"undefined"}}.call(this),this.params.fullscreen&&"tgb"!==(e=this.params.behavior)&&"video"!==e?void this.trigger("error","unsupported content type for fullscreen format"):(this.log("Player Data Loaded",this.loaded_data),this.trigger("core:ads_loaded"),this.adsLoaded=!0,2===r.utils.extraLibState||r.Modules.CustomHtmlWrap?(this.initModulesAfterDataLoaded(),this.draw()):this.on("buzzlibrary_extra:loaded",function(e){return function(){return e.initModulesAfterDataLoaded(),e.draw()}}(this)))},s.prototype.initModulesAfterDataLoaded=function(){var e,t,i,n,s,o,a,l,u,c,d,h,p,f,m,g,v,y,_,b,w;if(!this.state.destroyed){if(c=this.loaded_data,t=r.utils.bowser,this.isUsingVideoSlot()&&"youtube_id"!==c.content_type?c.auto_play=!0:"vimeo"!==c.content_type&&!c.content.vr||!t.mobile&&!t.tablet||(c.auto_play=!1),"banner"===c.content_type&&(c.clickthrough_URL=""),l="video"===this.params.behavior,o=this.params.overroll,s=this.params.inread,n=this.params.fullscreen,i=c.content_type,a=["scroller","maxiscroller"].indexOf(i)!==-1,m=(f=this.options.parent_core)&&!!~["scroller","maxiscroller"].indexOf(f.loaded_data.content_type),!o&&null!=(null!=(g=this.embed_container)?g.childNodes:void 0))for(e=this.callStrategy("api:getIframe"),h=this.callStrategy("loader:getElement"),v=Array.prototype.slice.call(this.embed_container.childNodes),u=0,d=v.length;u<d;u++)p=v[u],!p||p===e||null!=h&&p===h||null!=(y=this.embed_container.parentElement)&&y.insertBefore(p,"under"===this.params.overrollBehavior?this.embed_container:this.embed_container.nextSibling);return r.utils.initModules(this,{AdsCounter:o&&this.adsToPlay>1,MrcImpChecker:!("carousel"===(_=null!=(b=this.options)&&null!=(w=b.parent_core)?w.params.behavior:void 0)||"showcase"===_),Expandable:this.params.expandable,Overroll:o,FullscreenAd:n,PositionInsideEmbedBlock:!0,PositionDynamically:this.params.target,ViewportOrientation:n,CloseButtonTGB:!l&&(o||s||n),CloseButtonVideo:l&&(o||s&&"infeed_video"!==i||n),CustomHtmlWrap:!!c.custom_html,CustomJs:!!c.custom_js,ClickthroughURL:!0,ClickthroughURLCloseButton:c.skip_clickthru,ImageOnHover:!!c.content.image_for_video_on_hover,MOAT:"tgb"===this.params.behavior&&c.enable_moat,Minimizer:this.params.minimize&&s,TrackingUrl:"object"==typeof c.tracking_url||"object"==typeof c.tracking_js,YandexMetrik:!!c.ya_id,HrefHandler:!0,Resize:!0,ScrollerWrap:a,ScrollDetector:t.ios&&(l&&m||a),SvgManager:!0,Wrap:!0}),this.initWidget()}},s.prototype.initWidget=function(){if(null==this.container&&(null==this.container&&(this.container=this.callStrategy("get_container",this)),this.container.classList.add("buzz_"+this.params.unitType)),null==this.container)return this.trigger("error","Could not get container");switch(this.trigger("got_container"),this.params.behavior){case"video":return new r.Modules.Widgets.Player.Core(this);case"tgb":return new r.Modules.Widgets.TGB.Core(this);case"carousel":return new r.Modules.Widgets.Carousel.Core(this);case"scroller":return new r.Modules.Widgets.Scroller.Core(this);case"maxiscroller":return new r.Modules.Widgets.Maxiscroll.Core(this);case"clickunder":return new r.Modules.Widgets.Clickunder.Core(this);case"showcase":return new r.Modules.Widgets.Showcase.Core(this);case"banner":return new r.Modules.Widgets.Banner.Core(this);default:return this.trigger("error","content type is not defined")}},s.prototype.loadStylesheets=function(){var e;for(e=0;e<this.initialParams.stylesheet_paths.length;)r.utils.add_stylesheet(this.initialParams.origin+this.initialParams.stylesheet_paths[e]),e++;return r.utils.addStyles('.buzzplayer-svg-sprite, .buzzplayer-icon span {\n\tbackground-image: url("'+this.initialParams.origin+'/img/svg-sprites/icons.svg");\n}\n\n.buzzplayer-ads-overlay-close {\n\tbackground-image: url("'+this.initialParams.origin+'/img/close_button.png");\n}')},s.prototype.draw=function(){var e,t;if("clickunder"!==this.params.behavior&&!this.state.drawn&&!this.state.destroyed)return r.utils.bowser.mobile||r.utils.bowser.tablet?r.utils.add_class("buzzplayer-touch",this.container):r.utils.add_class("buzzplayer-notouch",this.container),"overroll"!==this.state.format&&(e=function(){switch(this.params.align){case"left":return"0 auto 0 0";case"right":return"0 0 0 auto";default:return null}}.call(this),e&&(this.container.style.margin=e)),this.wrapId="buzzplayer__creative-"+r.utils.guid(),this.wrap_html=this.callStrategy("get_wrap"),this.wrap_html.style.visibility="hidden",r.utils.add_class(this.wrapId,this.wrap_html),this.container.appendChild(this.wrap_html),this.wrap=this.container.querySelector("div.buzz_code"),this.trigger("got_wrap",this.wrap_html),this.callStrategy("wrap:customize"),t=document.createElement("div"),t.id=this.params.id,t.className="buzz_widget",t.style.textAlign="initial",this.wrap.appendChild(t),this.widget_div=t,this.trigger("drawn"),this.state.drawn=!0},s.prototype.destroy=function(e){var t;if(null==e&&(e=!1),this.state.destroyed!==!0)return clearTimeout(this.displayReloadTimeout),t=e||!(this.couldBeReloaded()&&this.callStrategy("api:getNextCreative")),this.trigger("before:destroyed"),t&&(this.state.destroyed=!0,this.state.state="destroyed",this.trigger("destroyed"),clearInterval(this.idleInterval)),this.trigger("terminated",t),t?this.postDestroy(t):setTimeout(function(e){return function(){return e.postDestroy(t)}}(this),600)},s.prototype.postDestroy=function(e){var t;if((e||this.adsLoaded&&("overroll"===(t=this.state.format)||"fullscreen"===t))&&this.callStrategy("destroy"),!e&&!this.state.destroyed)return this.reload()},s.prototype.collapse=function(e){return this.state.collapsing=!0,this.callStrategy("collapse",e)},s.prototype.getEnvironment=function(){var e,t,i,r,s;if(e=this.embed_container.getAttribute("data-debug_env"))return e;t=null,s=n.getElementsByTagName("script");for(i in s)if(r=s[i],"object"==typeof r&&r.src.indexOf("buzzlibrary.js")>0){t=0===r.src.indexOf(this.protocol+"//dev")?0:1;break}return t?"prod":"dev"},s.prototype.addStrategy=function(e,t,i){return this.strategies[e]=this.strategies[e]||[],this.strategies[e].push({priority:t,fn:i})},s.prototype.callStrategyByMaxPriority=function(){var t,i,n,r,s,o,a,l,u,c,d;if(l=arguments[0],u=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],!(this.strategies[l]&&this.strategies[l].length>0))return null;for(i=-1,n=-1,c=this.strategies[l],s=o=0,a=c.length;o<a;s=++o)d=c[s],d.priority<=u&&d.priority>=n&&(n=d.priority,i=s);try{return this.strategies[l][i].fn.apply(this,t)}catch(h){return r=h,this.sendError(r,!0),this.log(r)}},s.prototype.callStrategy=function(){var t,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],this.callStrategyByMaxPriority.apply(this,[].concat(i,Number.MAX_VALUE,t))},s.prototype.on=function(e,t,i){return this.events[e]||(this.events[e]=[]),i&&(t.sendError=!0),this.events[e].push(t),this},s.prototype.off=function(e,t){var i,n;return null==t?delete this.events[e]:(i=this.events[e],n=i.indexOf(t),n!==-1?i.splice(n,1):void 0)},s.prototype.trigger=function(){var t,i,n,r,s,o,a;if(n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],this.events[n]){for(o=this.events[n].slice(),a=[],r=0,s=o.length;r<s;r++)i=o[r],a.push(function(e){return function(i){var n;try{return i.apply(e,t)}catch(r){return n=r,i.sendError&&e.sendError(n,!0),e.log(n)}}}(this)(i));return a}},s.prototype.log=function(){if(this.params.debug_mode)return console.log("     "),console.log.apply(console,arguments),console.log("     ")},s.prototype.sendError=function(e,t){var i,n,r,s;if(t){for(s=this.sendedErrors,n=0,r=s.length;n<r;n++)if(i=s[n],(null!=i?i.stack:void 0)===(null!=e?e.stack:void 0))return;return this.sendedErrors.push(e)}if("nobanner probably"!==e)try{throw new Error(e)}catch(o){return i=o,this.sendError(i,!0)}},s}()}(window,document,Buzzoola),function(e,t,n){return n.Modules.AdsCounter=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,e),r.prototype.handlesEvents={"event:state":function(e){if("ready"===e)return this.setData()},drawn:function(){return this.draw()},"before:destroyed":function(){var e;return null!=(e=this.counter)&&e.parentNode.removeChild(this.counter),this.counter=null},"api:ads_total":function(){return this.setData()}},r.prototype.init=function(){
return this.params={isVideo:"video"===this.core.params.behavior}},r.prototype.draw=function(){var e;return e=t.createElement("div"),e.className="buzz__ads__counter",this.params.isVideo||n.utils.add_class("transparent",e),this.core.wrap.appendChild(e),this.counter=e,this.setData()},r.prototype.setData=function(){if(null!=this.counter)return n.utils.setText(this.counter,"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 "+this.core.currentAd+" \u0438\u0437 "+this.core.adsToPlay)},r}(n.Modules.BaseModule)}(window,document,Buzzoola),function(t,n,r){return r.Modules.API=function(s){function o(){return o.__super__.constructor.apply(this,arguments)}return i(o,s),o.prototype.preventClear=!0,o.prototype.className="buzzplayer-idata-container",o.prototype.triggersEvents=["api:empty","api:global_tracking","api:loaded","api:got_uuid","error","api:ads_total","api:eventSent","api:formed","api:changeCreative"],o.prototype.addsStrategies=[["api:getCurrentCreative",0,"getCurrentCreative"],["api:getNextCreative",0,"getNextCreative"],["api:getData",0,"getData"],["api:addData",0,"addData"],["api:sendEvent",0,"sendEvent"],["api:loadThumbnail",0,"loadThumbnail"],["api:getIframe",0,"getIframe"]],o.prototype.callsStrategies=["api:getData","api:sendEvent"],o.prototype.handlesEvents={terminated:function(e){if(this.sendedEventsBefore=[],this.firstEvents=["ctor","player_seen"],e)return setTimeout(function(e){return function(){var t;if(null!=(t=e.iframe)?t.parentNode:void 0)return e.iframe.parentNode.removeChild(e.iframe)}}(this),1e3)},"tube:reload":function(){return setTimeout(function(e){return function(){return e.initLoading()}}(this),1)}},o.prototype.init=function(){var i,n,s,o;return this.trackingFields=["tracking_urls","tracking_js"],this.legacyFields=["uuid","placement_id","unit_settings","unit_settings_list","unit_type"],this.jsonFields=["content","extra"],this.rawAdnResponse=this.formData(),this.preloadedData=this.formData(null!=(n=null!=(s=this.core.options)?s.data:void 0)?n:[]),this.extendedData=this.formData(null!=(o=t.bzextenddata)?o:[]),null!=t.bzextenddata&&(t.bzextenddata=this.extendedData),this.core.options.parent_core||this.core.options.notSendRequestCtor?(this.core.addStrategy("api:sendEvent",1,function(t){return function(){var i,n,s;if(i=1<=arguments.length?e.call(arguments,0):[],t.core.options.parent_core)return n=function(){switch(this.currentCreative.slugname){case null:case void 0:return{};default:return{slugname:this.currentCreative.slugname}}}.call(t),i[2]?i[2]=r.utils.extend(i[2],n):i.push(n),null!=(s=t.core.options.parent_core.callStrategy)?s.apply(t.core.options.parent_core,["api:sendEvent"].concat(i)):void 0}}(this)),this.prepareData()):(this.loadData(),i=this.preloadedData.crs[0],(null!=i?i.event_url:void 0)&&(null!=i?i.content:void 0)&&(null!=i?i.content_type:void 0)?this.prepareData():void 0)},o.prototype.formData=function(e){var t,i,n,s,o,a,l,u,c,d,h,p;if(null==e&&(e=[]),i=function(){var i,n,r;if(null!=e.crs){for(r=this.trackingFields,i=0,n=r.length;i<n;i++)p=r[i],e[p]||(e[p]={});return e}return t=Array.isArray(e)?e:null!=e?[e]:[],{crs:t,tracking_urls:{},tracking_js:{}}}.call(this),s=i.crs[0],null==i.uuid&&null!=(null!=s?s.uuid:void 0)&&(i.uuid=s.uuid),null==i.placement&&(i.placement={}),u=i.placement,null!=s)for(c=this.legacyFields.slice(1),o=0,a=c.length;o<a;o++)n=c[o],l=i.crs[0][n],null!=l&&(u[n]="unit_settings"===n?r.utils.extend(null!=(d=u[n])?d:{},l):"unit_settings_list"===n?r.utils.extendUnite(null!=(h=u[n])?h:[],l):l);return i.crs.forEach(function(e){return function(t){var i,r,s,o;for(s=e.legacyFields,o=[],i=0,r=s.length;i<r;i++)n=s[i],t[n]=null,o.push(delete t[n]);return o}}(this)),i},o.prototype.getData=function(e,t){var i;return null==t&&(t={}),i=function(){var t,i;switch(e){case"raw":return this.rawAdnResponse;case"extended":return this.extendedData;case"preloaded":return this.preloadedData;case"placement":return null!=(t=null!=(i=this.mergedAdnData)?i.placement:void 0)?t:{};default:return this.mergedAdnData}}.call(this),t.copy&&(i=r.utils.extend({},i)),t.noWaterfall&&delete i.crs,i},o.prototype.triggerGotUUID=function(e){var t;if(!this.triggeredGotUUID&&e&&"${UUID}"!==e)return t=new Date,t.setFullYear(t.getFullYear()+1),r.utils.setCookie("_buzz_fpc",e,{domain:"."+location.hostname,expires:t}),this.trigger("api:got_uuid",e),this.triggeredGotUUID=!0},o.prototype.loadCustomHtml=function(e){return/^https?:\/\//i.test(this.currentCreative.custom_html)?r.utils.loadXHR(this.currentCreative.custom_html,function(t){return function(i,n){return i||(t.currentCreative.custom_html=n),"function"==typeof e?e():void 0}}(this)):"function"==typeof e?e():void 0},o.prototype.loadThumbnail=function(e){var t;return/.*\.gif/i.test(this.currentCreative.thumbnail)?(t=new Image,t.setAttribute("crossOrigin","anonymous"),t.onerror=function(){return null!=e&&e()},t.onload=function(i){return function(){var n,r,s;n=document.createElement("canvas"),s=n.width=t.width,r=n.height=t.height,n.getContext("2d").drawImage(t,0,0,s,r);try{i.currentCreative.thumbnail_animated=i.currentCreative.thumbnail,i.currentCreative.thumbnail=n.toDataURL()}catch(o){}return null!=e&&e()}}(this),t.src=this.currentCreative.thumbnail):null!=e&&e()},o.prototype.addData=function(e){var t,i,n,s;if(t=null!=(s=this.mergedAdnData.crs)?s:[],n=t.indexOf(this.currentCreative),n!==-1)return Array.prototype.splice.apply(t,[n,1].concat(e)),this.currentCreative=t[n],i=r.utils.extend({},this.currentCreative),i.vastAd=null,this.sendPostMessage({method:"setCreative",loaded_data:i}),this.checkTotalAds()},o.prototype.prepareData=function(){var e,t,i,n,s,o,a,l,u,c,d,h;if(this.mergedAdnData=null!=this.rawAdnResponse?r.utils.extendUnite({},this.rawAdnResponse):{},null!=(null!=(c=this.core.options)?c.parent_core:void 0)&&(l=this.core.options.parent_core.callStrategy("api:getData","merged",{copy:!0,noWaterfall:!0}),delete l.tracking_urls,delete l.tracking_js,null!=(d=l.placement)&&delete d.unit_settings,null!=(h=l.placement)&&delete h.unit_settings_list,a=this.core.options.parent_core.callStrategy("api:getCurrentCreative")),i=this.callStrategy("api:getData","extended",{copy:!0,noWaterfall:!0}),u=this.callStrategy("api:getData","preloaded",{copy:!0,noWaterfall:!0}),o=u.placement.unit_settings_list?u.placement.unit_settings_list:!l&&i.placement.unit_settings_list?i.placement.unit_settings_list:this.mergedAdnData.placement.unit_settings_list,r.utils.extendUnite(this.mergedAdnData,null!=l?l:i,u),this.mergedAdnData.placement.unit_settings_list=o,e=function(){var e,i,r;if(this.mergedAdnData.crs.length>0)return this.mergedAdnData.crs.slice();for(t=[],s=Math.max(1,this.preloadedData.crs.length,this.extendedData.crs.length),r=[],n=e=0,i=s;0<=i?e<i:e>i;n=0<=i?++e:--e)r.push(t.push({}));return r}.call(this),this.mergedAdnData.crs=e.map(function(e){return function(t,i){var n,s,o,l,u,c,d,h,p,f,m,g,v,y,_,b,w;for(null==t&&(t={}),n={},o=[t,null!=(m=null!=(g=null!=a?a:e.extendedData.crs[i])?g:e.extendedData.crs[0])?m:0,null!=(v=e.preloadedData.crs[i])?v:0],l=0,c=o.length;l<c;l++)if(h=o[l]){for(y=e.jsonFields,u=0,d=y.length;u<d;u++)p=y[u],h[p]&&(h[p]=function(){try{return r.utils.JSON.parse(h[p])}catch(e){return s=e,h[p]}}());null!=(null!=(_=h.content)?_.main_content:void 0)&&(h.main_content=null!=(b=h.content)?b.main_content:void 0),r.utils.extend(n,h)}return r.utils.extend(n,{custom_html:n.custom_html||"",custom_js:n.custom_js||"",width:parseInt(n.width,10),height:parseInt(n.height,10),branding_template:(null!=(w=n.branding_template)?w.indexOf("/templates/main/"):void 0)===-1?n.branding_template.replace(/^http(s?):/g,r.utils.getProtocol()):"",auto_play:n.auto_play,initial_content_type:null!=(f=n.initial_content_type)?f:n.content_type,clickthrough_URL:"clickthrough_URL"in n?n.clickthrough_URL:n.click_event_url,clickthrough_position:"clickthrough_position"in n?n.clickthrough_position:n.landing_link_position,clickthrough_text:"clickthrough_text"in n?n.clickthrough_text:n.landing_link_text,sponsor_logo:"sponsor_logo"in n?n.sponsor_logo:n.logo_url,player_show_skip_button_before_play:!!n.player_show_skip_button_before_play,player_show_skip_button_seconds:+n.player_show_skip_button_seconds,player_show_panels:+n.player_show_panels,overlay_start:"overlay_start"in n?n.overlay_start:n.overlay_start_after,overlay_close:"overlay_close"in n?n.overlay_close:n.overlay_close_after,show_title:"show_title"in n?n.show_title:n.player_show_title}),r.utils.isObject(n.sponsor_logo)&&(n.sponsor_logo_dark=n.sponsor_logo.dark,n.sponsor_logo=n.sponsor_logo.light),n}}(this)),this.checkTotalAds(),this.triggerGotUUID(this.mergedAdnData.uuid),this.trigger("api:global_tracking",this.mergedAdnData.tracking_urls,this.mergedAdnData.tracking_js),this.trigger("api:formed",this.callStrategy("api:getData","merged",{copy:!0})),!this.getNextCreative(!0))return this.trigger("error","no creatives")},o.prototype.loadData=function(){var e,t,i,s,o,a,l,u,c,d,h;return this.id=this.core.params.id+r.utils.guid(),this.iframeDomain=this.core.params.origin,this.initEventHandlerIframe(),d=n.referrer,(null!=d?d.length:void 0)>255&&(d=d.substring(0,255)),d=encodeURIComponent(d),e=null!=(s=r.utils.getCookie("_buzz_fpc"))?s:"",t=this.preloadedData.crs[0],h=(null!=(o=this.core.options)?o.vpaidJSProxy:void 0)?"vpaid_wrapper":"",null==this.container&&(this.container=this.createContainer()),i=["id="+this.id,"apiUrl="+this.core.params.apiUrl,"content="+(null!=(a=this.core.params.content)?a:""),"referrer="+d,"cookie="+e,"site="+encodeURIComponent(r.utils.getTopWindow(!0)),"source="+h],null!=(null!=(l=this.core.options)?l.adUrl:void 0)&&i.push("adUrl="+(null!=(u=this.core.options)?u.adUrl:void 0)),(null!=t?t.event_url:void 0)&&(null!=t?t.content:void 0)&&(null!=t?t.content_type:void 0)||i.push("loaded=1"),null!=(null!=(c=this.core.options)?c.session:void 0)&&i.push("session="+this.core.options.session),this.iframe=this.createIframe(this.iframeDomain+"/data_iframe.html?"+i.join("&"),this.container),this.iframe.style.visibility="hidden",this.iframe.style.display="none"},o.prototype.createContainer=function(){var e;return e=n.querySelector("."+this.className),null!=e?e:(e=n.createElement("div"),e.className=this.className,n.body.appendChild(e),e)},o.prototype.getIframe=function(){return this.iframe},o.prototype.getCurrentCreative=function(){var e,t,i,n;return null!=(e=null!=(t=this.currentCreative)?t:null!=(i=this.mergedAdnData)&&null!=(n=i.crs)?n[0]:void 0)?e:null},o.prototype.getNextCreative=function(e){var t,i,n,r,s,o,a,l;return null==e&&(e=!1),null!=this.mergedAdnData&&(!(null==(n=this.mergedAdnData.crs)||!n.length)&&(!!(t=this.mergedAdnData.crs[1+this.mergedAdnData.crs.indexOf(this.currentCreative)])&&(i=null!=(r=this.core.loaded_data)?r:{},this.currentCreative=this.core.loaded_data=t,this.trigger("api:changeCreative",{id:null!=(s=null!=(o=t.extra)?o.imp_id:void 0)?s:null,creative:t},{id:null!=(a=null!=(l=i.extra)?l.imp_id:void 0)?a:null,creative:i}),this.sendPostMessage({method:"setCreative",loaded_data:this.currentCreative}),e&&this.initLoading(),!0)))},o.prototype.initLoading=function(){var e,t,i,n,r,s;for(n=0,i=["loadCustomHtml","loadThumbnail"],s=[],e=0,t=i.length;e<t;e++)r=i[e],s.push("function"==typeof this[r]?this[r](function(e){return function(){if(++n>=i.length)return e.trigger("api:loaded",e.currentCreative)}}(this)):void 0);return s},o.prototype.checkTotalAds=function(){var e,t,i,n,r,s,o,a;if(this.mergedAdnData.crs.length)return a=null!=(i=null!=(n=this.mergedAdnData)&&null!=(r=n.placement)?r.unit_settings:void 0)?i:{},t=null!=(s=null!=(o=a.creatives_amount)?o:a.prerolls_amount)?s:0,e=t>0?Math.min(this.mergedAdnData.crs.length,t):1,e>0?this.trigger("api:ads_total",e,this.mergedAdnData.crs.length):void 0},o.prototype.iframeHandler=function(e,t){var i,n;if(e)this.trigger("error",e);else switch(t.method){case"onload":this.currentCreative&&this.sendPostMessage({method:"setCreative",loaded_data:this.currentCreative});break;case"sendEvent":this.core.log("Event sent",t.event,t.time,t.params);break;case"loadedData":if(this.currentCreative)return;if(t.error)return[["tracking_url","loadImage"],["tracking_js","loadScript"]].forEach(function(e){var i,n,s,o,a,l,u,c;if(o=e[0],s=e[1],(null!=(a=t.value)?a[o]:void 0)&&r.utils.isArray(t.value[o])){for(l=t.value[o],u=[],i=0,n=l.length;i<n;i++)c=l[i],u.push(r.utils[s](c));return u}}),"nobanner probably"===t.error&&this.trigger("api:empty"),void this.trigger("error",t.error);n=null!=(i=t.value)?i:null,this.rawAdnResponse=this.formData(n),this.core.log("Got adn response",this.rawAdnResponse),this.prepareData()}},o.prototype.sendEvent=function(e,t,i){var n,s,o,a,l;return null==t&&(t=0),null==i&&(i={}),+t>10?this.trigger("error","not send undocumented event "+e+"/"+t):(this.core.log("Send event",e,t,i),s=null!=(o=this.currentCreative)?o:null,n=null!=(a=null!=s?s.auction_settings:void 0)?a:null,(null!=(l=this.core.params.version)?l.timestamp:void 0)&&(i.version=this.core.params.version.timestamp),null!=this.mergedAdnData.auction_id&&(i.auction_id=this.mergedAdnData.auction_id),null!=(null!=s?s.extra:void 0)&&r.utils.isObject(s.extra)&&(i=r.utils.extend(i,s.extra)),"player_seen"!==e&&"mrc_vvi"!==e&&"mrc_dvi"!==e&&"impression"!==e||(t=0),null!=n&&r.utils.isObject(n)&&e===n.event_name&&t===n.time_slice&&(i=r.utils.extend(i,{cur:n.currency,price:n.price})),this.sendPostMessage({method:"sendEvent",event:e,time:t,params:i}),this.trigger("api:eventSent",e,t,i))},o}(r.Modules.BaseModule),r.Modules.Mixins.Iframe(r.Modules.API.prototype)}(window,document,Buzzoola),function(e,t,n){return n.Modules.Branding=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.triggersEvents=["remote_module_ready","branding:loaded","error"],t.prototype.handlesEvents={remote_module_ready:function(){return this.trigger("branding:loaded"),this.stopTimeoutTriggerRemoteModuleReady()},terminated:function(){return this.outdated=!0,this.stopTimeoutTriggerRemoteModuleReady()}},t.prototype.init=function(){var e;return this.core.loaded_data.branding_template?(this.brandingUrl=this.core.loaded_data.branding_template,"/"!==this.brandingUrl.slice(-1)&&(this.brandingUrl+="/"),this.jsUrl=this.brandingUrl+"index.js",e=this.brandingUrl.split("/"),this.brandingModuleName=e[e.length-2],n.utils.loadScript(this.jsUrl,function(e){return function(t){var i;if(!e.outdated)return t?e.handleInitFail("not loaded {branding}"):(i={},i[e.brandingModuleName]=!0,"wait forever"!==e.core.loaded_data.content.js_wrapper_timeout_strategy&&e.startTimeoutTriggerRemoteModuleReady(),n.utils.initModules(e.core,i))}}(this))):this.trigger("remote_module_ready")},t.prototype.handleInitFail=function(e){return this.trigger("error",e.replace(/\{branding\}/g,this.jsUrl))},t.prototype.startTimeoutTriggerRemoteModuleReady=function(){return this.stopTimeoutTriggerRemoteModuleReady(),this.timeoutTriggerRemoteModuleReady=setTimeout(function(e){return function(){return e.handleInitFail("{branding} is not responding")}}(this),3e3)},t.prototype.stopTimeoutTriggerRemoteModuleReady=function(){return clearTimeout(this.timeoutTriggerRemoteModuleReady)},t}(n.Modules.BaseModule)}(window,document,Buzzoola),function(e,t,n){return n.Modules.DefaultSize=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.addsStrategies=[["get_video_size",0,function(e,t){return{width:e,height:t}}]],t}(n.Modules.BaseModule)}(window,document,Buzzoola),function(e,t,n){return n.Modules.Destroy=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.addsStrategies=[["destroy",0,"destroy"],["collapse",0,"collapse"]],t.prototype.destroy=function(){var e,t;if(this.core.container)return this.core.container===this.core.embed_container?(this.core.wrap_html&&this.core.wrap_html.parentElement&&this.core.container.removeChild(this.core.wrap_html),this.core.container.style.width=this.core.container.style.height=""):(null!=(e=this.core)&&null!=(t=e.container)?t.parentNode:void 0)?this.core.container.parentNode.removeChild(this.core.container):void 0},t.prototype.collapse=function(e){return this.core.wrap_html.style.height=n.utils.getPropertyValue(this.core.wrap_html,"height"),this.core.wrap_html.style.overflow="hidden",n.utils.transitionHeight(this.core.wrap_html,"0",function(t){return function(){if(e)return t.core.destroy()}}(this))},t}(n.Modules.BaseModule)}(window,document,Buzzoola),function(n,r,s){return s.Modules.IntersectionObserverEngagement=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,n),r.prototype.triggersEvents=["engagement:seen","engagement:seenFirstTime","engagement:unseen"],r.prototype.addsStrategies=[["engagement:activateObserver",0,"activate"],["engagement:disableListener",10,"disableListener"],["engagement:enableListenerForVisibility",10,"enableListenerForVisibility"],["engagement:getthreshold",0,"getThreshold"]],r.prototype.callsStrategies=["loader:isActive"],r.prototype.handlesEvents={"before:destroyed":function(){var e,t;for(this.disableListener("visibility"),this.lastObservations=null,this.intersectionObserverCallback=null,this.mutationObserverCallback=null;null!=(e=(null!=(t=this.additionalCallbacks)?t:[]).pop());)e.el=e.fn=null;return this.additionalCallbacks=null},"core:ads_loaded":function(){var e;return e=parseInt(this.core.loaded_data.content.percentSeen,10),e&&!isNaN(e&&0<e&&e<=100)&&(this.intersectionOptions.threshold=e/100),this.isExpandable=this.core.params.expandable},drawn:function(){return null==this.el&&(this.el=this.getMeasuredElement()),this.isExpandable&&this.activate(this.core.container),this.activate(this.el)},"loader:shown":function(e){if(!e)return this.reviewObservation()},"overroll:shown":function(){return this.reviewObservation()},"event:state":function(e){if("ready"===e)return this.ready=!0,this.reviewObservation()}},r.prototype.handlesParentEvents={"engagement:seen":function(){var e;if(e=this.parentBehavior,!(t.call(this.widgetSeenBehaviors,e)>=0))return this.parentSeen=!0,this.reviewObservation()},"engagement:unseen":function(){var e;if(e=this.parentBehavior,!(t.call(this.widgetSeenBehaviors,e)>=0))return this.parentSeen=!1,this.reviewObservation()},"widget:player:seen":function(){var e;if(e=this.parentBehavior,t.call(this.widgetSeenBehaviors,e)>=0)return this.parentSeen=!0,this.reviewObservation()},"widget:player:unseen":function(){var e;if(e=this.parentBehavior,t.call(this.widgetSeenBehaviors,e)>=0)return this.parentSeen=!1,this.reviewObservation()}},r.prototype.init=function(){var t,i,n;return this.ready=!1,this.sendFirstSeen=!0,this.mutationOptions={attributes:!0,childList:!1,characterData:!1},this.intersectionOptions={root:null,threshold:.5},this.additionalCallbacks=[],this.widgetSeenBehaviors=["maxiscroller","scroller"],this.hasParent=!(null==(null!=(t=this.core.options)?t.parent_core:void 0)),this.hasParent?(this.parentBehavior=this.core.options.parent_core.params.behavior,this.parentSeen=null!=(i=null!=(n=this.core.options.parent_core.state)?n.seen:void 0)&&i):this.parentSeen=!0,this.intersectionObserverCallback=function(t){return function(){var i;return i=1<=arguments.length?e.call(arguments,0):[],t.handleObservation.apply(t,i)}}(this),this.mutationObserverCallback=function(t){return function(){var i;return i=1<=arguments.length?e.call(arguments,0):[],t.handleMutation.apply(t,i)}}(this)},r.prototype.getThreshold=function(){var e;return null!=(e=this.intersectionOptions.threshold)?e:0},r.prototype.reviewObservation=function(){var e,t;if(this.intersectionObserver)return this.handleObservation(null!=(e=null!=(t=this.lastObservations)?t:this.intersectionObserver.takeRecords())?e:[],this.intersectionObserver)},r.prototype.handleObservation=function(e,t){var i,n,r,s,o,a;if(this.lastObservations=e,!this.callStrategy("loader:isActive")){if(!this.ready||this.core.container.classList.contains("buzz-invisible"))return void(this.core.state.seen&&(this.core.state.seen=!1,this.trigger("engagement:unseen")));if(o=this.isExpandable&&!this.seenFirstTime?this.core.container:this.el,a=e.filter(function(e){return e.target===o}).sort(this.sortByTime),0!==a.length)return r=a[0],n=r.isIntersecting,i=r.intersectionRatio,s=this.parentSeen&&(null==i||isNaN(i)?n:i>=this.intersectionOptions.threshold),this.core.state.seen!==s&&(this.core.state.seen=s,s?(this.seenFirstTime=!0,this.trigger("engagement:seen")):this.trigger("engagement:unseen")),this.additionalCallbacks.forEach(function(i){return function(n){var r;if(r=e.filter(function(e){return e.target===n.el}).sort(i.sortByTime),r.length>0)return n.callback(r,t,i.intersectionOptions.threshold)}}(this)),this.sendFirstSeen&&this.seenFirstTime&&o===this.el?(this.sendFirstSeen=!1,this.trigger("engagement:seenFirstTime")):void 0}},r.prototype.sortByTime=function(e,t){return t.time-e.time},r.prototype.handleMutation=function(e,t){var i,n;if(n=e.filter(function(e){return"class"===e.attributeName}),0!==n.length)return this.handleObservation(null!=(i=this.lastObservations)?i:[],this.intersectionObserver)},r.prototype.getMeasuredElement=function(){var e;switch(this.core.params.behavior){case"carousel":return this.core.wrap;case"maxiscroller":return this.core.wrap_html.querySelector(".buzz-maxiscroll__wrapper")||this.core.wrap_html.querySelector(".buzz-scroll__wrapper");default:return null!=(e=this.core.widget_div)?e:this.core.wrap}},r.prototype.disableListener=function(e){var t,i,n,r,s,o;if("visibility"===e){for(r=["intersectionObserver","mutationObserver"],o=[],t=0,i=r.length;t<i;t++)n=r[t],null!=(s=this[n])&&s.disconnect(),o.push(this[n]=null);return o}return this.core.callStrategyByMaxPriority("engagement:disableListener",9,e)},r.prototype.enableListenerForVisibility=function(){if(null==this.intersectionObserver)return this.intersectionObserver=new IntersectionObserver(this.intersectionObserverCallback,this.intersectionOptions),this.mutationObserver=new MutationObserver(this.mutationObserverCallback),this.mutationObserver.observe(this.core.container,this.mutationOptions)},r.prototype.activate=function(e,t){return null==this.intersectionObserver?this.trigger("warning","intersection observer is not initialized"):null==e?this.trigger("warning","target element for intersection is undefined"):(this.intersectionObserver.observe(e),null!=t?this.additionalCallbacks.push({el:e,callback:t}):void 0)},r}(s.Modules.BaseModule)}(window,document,Buzzoola),function(e,t,n){return n.Modules.Loader=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,e),r.prototype.preventClear=!0,r.prototype.triggersEvents=["loader:state"],r.prototype.handlesEvents={drawn:function(){return this.createLoaderElement()},"overroll:shown":function(){return this.hide()},destroyed:function(){var e;if(this.hide(),null!=this.el)return null!=(e=this.el.parentNode)?e.removeChild(this.el):void 0},"resize:after":function(e,t){if(this.setHeight(t),null!=this.el&&(this.shown||this.isPreroll))return this.lockSize(!0)},"before:destroyed":function(){if(this.setHeight(),this.core.currentAd>=1&&this.core.readyFirstTime)return this.show(!0)},"event:state":function(e){if("ready"===e)return this.setHeight(),this.isPreroll?void 0:this.hide()},"widget:pinned":function(){if(this.setHeight(),this.shown)return this.lockSize(!0)},"core:ads_loaded":function(){return this.isPreroll="preroll"===this.core.params.unitType}},r.prototype.callsStrategies=["resize:call","embed_svg"],r.prototype.addsStrategies=[["loader:show",0,"show"],["loader:hide",0,"hide"],["loader:getElement",0,"getElement"],["loader:isActive",0,"isActive"]],r.prototype.init=function(){return this.timeouts=["hide","show"],this.className="buzz-loader",this.activeClass=this.className+"-active",this.fullClass=this.className+"-full",this.containerClass="buzz-container-loading",this.showLoader=function(e){return function(){return e._showLoader()}}(this)},r.prototype.setHeight=function(e){var t,i,r;null==e&&(e=0),t=[e],i=parseFloat(n.utils.getPropertyValue(this.core.wrap_html,"height")),t.push(i),r=t.filter(function(e){return e>0&&!isNaN(e)}),0!==r.length&&(this.height=1===r.length?r[0]:Math.max.apply(Math,r))},r.prototype.getElement=function(){return this.el},r.prototype.isActive=function(){return!!this.shown},r.prototype.createLoaderElement=function(){var e,i;if(!this.el)return this.callStrategy("embed_svg","loader"),this.el=i=t.createElement("div"),i.className="buzz-loader",e=t.createElement("div"),e.className="buzz-loader-animation",e.innerHTML="<svg class='buzzplayer-svg-icon' viewBox='0 0 52 12'>\n\t<use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_loader'></use>\n</svg>",i.appendChild(e),this.core.container.appendChild(this.el)},r.prototype._showLoader=function(){return n.utils.add_class(this.fullClass,this.el)},r.prototype.lockSize=function(e){return null==e&&(e=!0),e?this.isPreroll?this.el.style.height=this.height+"px":this.core.container.style.height=this.height+"px":this.core.container.style.height=""},r.prototype.show=function(e){if(null==e&&(e=!1),!this.shown||e)return this.clearTimeouts(),this.shown=!0,this.trigger("loader:state",this.shown),this.lockSize(!0),n.utils.add_class(this.activeClass,this.el),n.utils.add_class(this.containerClass,this.core.container),this.showTimeout=setTimeout(this.showLoader,2e3)},r.prototype.hide=function(e){if(null==e&&(e=!1),this.shown||e)return this.clearTimeouts(),this.callStrategy("resize:call"),this.shown=!1,this.hideTimeout=setTimeout(function(e){return function(){return e.trigger("loader:state",e.shown),n.utils.remove_class(e.activeClass,e.el),n.utils.remove_class(e.fullClass,e.el),e.lockSize(!1),n.utils.remove_class(e.containerClass,e.core.container)}}(this),500)},r.prototype.clearTimeouts=function(){var e,t,i,n,r;for(n=this.timeouts,r=[],e=0,t=n.length;e<t;e++)i=n[e],r.push(clearTimeout(this[i+"Timeout"]));return r},r}(n.Modules.BaseModule)}(window,document,Buzzoola),function(t,n,r){return r.Modules.Minimizer=function(s){function o(){return o.__super__.constructor.apply(this,arguments)}return i(o,s),o.prototype.addsStrategies=[["resize:calcWidth",20,"calcWidth"],["resize:calcHeight",20,"calcHeight"],["collapse",10,"collapse"]],o.prototype.callsStrategies=["resize:call"],o.prototype.triggersEvents=["widget:pinned","error"],o.prototype.handlesEvents={"event:state":function(e){if("ready"===e)return this.ready=!0,2===this.core.params.minimize?this.pinPlayer():this.params.minified?this.trigger("widget:pinned",!0):void 0},drawn:function(){return this.checkPos()},got_wrap:function(){return this.getContainer()},"engagement:seenFirstTime":function(){return this.params.enabled=!0},terminated:function(){if(null!=this.checkTO&&clearTimeout(this.checkTO),null!=this.scrollCallback)return r.utils.remove_event_listener("scroll",this.scrollCallback,t)},destroyed:function(){var e,t;if(null!=this.el)return null!=(e=this.el.parentNode)&&e.insertBefore(this.core.container,this.el),null!=(t=this.el.parentNode)&&t.removeChild(this.el),this.unpinPlayer()},"resize:after":function(e){return this.params.minified?this.addPadding(e):this.resize()}},o.prototype.init=function(){if(this.params={minified:!1,enabled:!1,scroll:!1},this.paddings=["buzz__pinned__half_padding","buzz__pinned__no_padding"],2!==this.core.params.minimize)return this.scrollCallback=function(e){return function(){return e.checkPos()}}(this),r.utils.add_event_listener("scroll",this.scrollCallback,t)},o.prototype.getContainer=function(){var e,t;if(this.el=(null!=(t=this.core.container.parentNode)?t.className.search("buzz__pinned__mark"):void 0)!==-1?(this.params.enabled=!0,this.core.container.parentNode):(e=n.createElement("div"),e.className="buzz__pinned__mark",this.core.container.parentNode.insertBefore(e,this.core.container),e.appendChild(this.core.container),e),2===this.core.params.minimize&&(this.el.style.height="0",this.el.style.overflow="hidden"),null!=this.params.width&&this.resize(this.params.width),this.el.className.search("buzz__pinned__active")!==-1)return this.pinPlayer()},o.prototype.checkPos=function(){var e,i,n;if(this.params.enabled&&null!=this.core.container)return this.params.rect=null!=(i=this.el.getClientRects())?i[0]:void 0,this.params.height=parseFloat(r.utils.getPropertyValue(this.el,"height")),this.params.rect?(n=this.params.rect.top,e=n+.95*this.params.height<0||n+.05*this.params.height>t.innerHeight,e&&!this.params.minified?this.pinPlayer():!e&&this.params.minified?this.unpinPlayer():void 0):void this.trigger("error","Player has been removed from DOM")},o.prototype.pinPlayer=function(){return this.ready&&this.trigger("widget:pinned",!0),this.el.classList.add("buzz__pinned__active"),this.params.minified=!0,this.resize(),this.callStrategy("resize:call"),this.core.container.classList.add("buzz__pinned"),this.core.container.classList.add("buzz__pinned__initial"),this.core.container.classList.add("buzz__pinned__"+this.core.params.behavior),setTimeout(function(e){return function(){if(null!=e.core.container)return e.core.container.classList.add("buzz__pinned__animated"),e.core.container.classList.remove("buzz__pinned__initial")}}(this),1),this.setCheckTimeout()},o.prototype.unpinPlayer=function(){if(2!==this.core.params.minimize)return this.el.classList.remove("buzz__pinned__active"),this.core.container.classList.remove("buzz__pinned"),this.core.container.classList.remove("buzz__pinned__initial"),this.core.container.classList.remove("buzz__pinned__animated"),this.params.minified=!1,this.trigger("widget:pinned",!1),this.resize(),this.callStrategy("resize:call"),this.el.style.height="",this.setCheckTimeout()},o.prototype.setCheckTimeout=function(){return null!=this.checkTO&&clearTimeout(this.checkTO),this.checkTO=setTimeout(function(e){return function(){return e.checkPos()}}(this),500)},o.prototype.calcMaxHeight=function(){return"tgb"===this.core.params.behavior?2*t.innerHeight/3:t.innerHeight-40},o.prototype.calcWidth=function(){var e,i,n,r;return r=this.core.callStrategyByMaxPriority("resize:calcWidth",19),this.params.minified||2===this.core.params.minimize?(n=Math.min(screen.width,t.innerWidth,405),"banner"!==this.core.params.behavior||this.core.loaded_data.content.adaptive||(n=Math.min(n,r)),i=this.core.callStrategyByMaxPriority("resize:calcHeight",19,n),"video"!==this.core.params.behavior&&i>=(e=this.calcMaxHeight())&&(n=n*e/i),n):r},o.prototype.calcHeight=function(){var i,n,r;return i=1<=arguments.length?e.call(arguments,0):[],"banner"===this.core.params.behavior?(n=this.core).callStrategyByMaxPriority.apply(n,["resize:calcHeight",19].concat(e.call(i))):Math.min(screen.width,t.innerWidth)>=405&&(this.params.minified||2===this.core.params.minimize)?228:(r=this.core).callStrategyByMaxPriority.apply(r,["resize:calcHeight",19].concat(e.call(i)))},o.prototype.clearPaddings=function(){var e,t,i,n,r,s;if(this.core.container){for(t=this.core.container,r=this.paddings,s=[],i=0,n=r.length;i<n;i++)e=r[i],s.push(t.classList.remove(e));return s}},o.prototype.addPadding=function(e){var i,n;return this.clearPaddings(),n=Math.min(screen.width,t.innerWidth),i=n-e,i<20?this.core.container.classList.add(this.paddings[1]):i<40?this.core.container.classList.add(this.paddings[0]):void 0},o.prototype.resize=function(){if(null!=this.el&&this.params.enabled&&null!=this.core.wrap_html)return this.params.height=null,this.el.style.height=2===this.core.params.minimize?0:r.utils.getPropertyValue(this.core.wrap_html,"height")},o.prototype.collapse=function(e){return this.params.enabled=!1,this.el.style.height="auto",this.params.minified?(this.core.container.classList.add("buzz__pinned__initial"),setTimeout(function(t){return function(){if(e)return t.core.destroy()}}(this),600)):this.core.callStrategyByMaxPriority("collapse",9,e)},o}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,t,n){return n.Modules.MrcImpChecker=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.triggersEvents=["mrc:displayed","mrc:played"],t.prototype.addsStrategies=[["mrc:reset_behavior",0,"resetBehavior"]],
t.prototype.callsStrategies=["api:sendEvent"],t.prototype.handlesEvents={"core:ads_loaded":function(){return this.resetBehavior(this.core.params.behavior)},"engagement:seen":function(){if(this.localSeen=!0,this.startDisplayMeasure(),"video"===this.behavior&&!this.playingAchieved)return this.startTimeMeasure()},"engagement:unseen":function(){if(this.localSeen=!1,this.stopDisplayMeasure(),"video"===this.behavior)return this.stopTimeMeasure()},"event:state":function(e){if(this.state=e,!this.playingAchieved&&"video"===this.behavior)return"play"===this.state?this.startTimeMeasure():this.stopTimeMeasure()},terminated:function(){return this.stopTimeMeasure(),this.stopDisplayMeasure()}},t.prototype.init=function(){var e,t;return this.resetBehavior(this.core.params.behavior),this.parentSeen=null==(e=null!=(t=this.core.options)?t.parent_core:void 0)||(e.on("engagement:seen",function(e){return function(){if(e.parentSeen=!0,e.startDisplayMeasure(),"video"===e.behavior&&!e.playingAchieved)return e.startTimeMeasure()}}(this)),e.on("engagement:unseen",function(e){return function(){if(e.parentSeen=!1,e.stopDisplayMeasure(),"video"===e.behavior)return e.stopTimeMeasure()}}(this)),!1),this.visibilityTarget=1e3,this.visibilityAchieved=!1,this.playingTarget=2e3,this.playingAchieved=!1},t.prototype.resetBehavior=function(e){var t,i;if(null!=e)return this.behavior=e,this.stopDisplayMeasure(),"video"===this.behavior&&this.stopTimeMeasure(),null!=(t=this.core.options)&&null!=(i=t.parent_core)?i.callStrategy("mrc:reset_behavior",this.behavior):void 0},t.prototype.startTimeMeasure=function(){if(this.stopTimeMeasure(),"play"===this.state&&this.core.state.seen&&this.parentSeen)return this.timeTimeout=setTimeout(function(e){return function(){return e.playingAchieved=!0,e.trigger("mrc:played")}}(this),this.playingTarget)},t.prototype.stopTimeMeasure=function(){return clearTimeout(this.timeTimeout)},t.prototype.startDisplayMeasure=function(){if(this.localSeen&&this.parentSeen&&!this.visibilityAchieved&&"video"!==this.behavior)return this.visibilityTimeout=setTimeout(function(e){return function(){return e.markDisplay()}}(this),this.visibilityTarget)},t.prototype.stopDisplayMeasure=function(){return clearTimeout(this.visibilityTimeout)},t.prototype.markDisplay=function(){if(this.visibilityAchieved=!0,"video"!==this.behavior)return this.trigger("mrc:displayed")},t}(n.Modules.BaseModule)}(window,document,Buzzoola),function(e,n,r){return r.Modules.UserEngagement=function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return i(s,n),s.prototype.triggersEvents=["engagement:seen","engagement:seenFirstTime","engagement:unseen","engagement:user_left_page","engagement:user_page_back"],s.prototype.callsStrategies=["resize:calcWidth","resize:calcHeight","fullscreen:active","get_video_size","loader:isActive"],s.prototype.addsStrategies=[["engagement:disableListener",0,"disableListener"],["engagement:enableListenerForLeavePage",0,"enableListenerForLeavePage"],["engagement:enableListenerForVisibility",0,"enableListenerForVisibility"]],s.prototype.handlesEvents={"before:destroyed":function(){return this.disableAllListener()},"fullscreen:shown":function(){return this.fullscreenShown=!0},"window:scroll":function(e){this.isScrolling=e},"widget:pinned":function(e){this.pinned=e},"core:ads_loaded":function(){var e;if(e=parseInt(this.core.loaded_data.content.percentSeen,10),e&&!isNaN(e&&0<e&&e<=100))return this.percentSeen=e},"event:state":function(e){if("ready"===e)return this.ready=!0}},s.prototype.handlesParentEvents={"engagement:seen":function(){var e;if(e=this.parentBehavior,!(t.call(this.widgetSeenBehaviors,e)>=0))return this.parentSeen=!0},"engagement:unseen":function(){var e;if(e=this.parentBehavior,!(t.call(this.widgetSeenBehaviors,e)>=0))return this.parentSeen=!1},"widget:player:seen":function(){var e;if(e=this.parentBehavior,t.call(this.widgetSeenBehaviors,e)>=0)return this.parentSeen=!0},"widget:player:unseen":function(){var e;if(e=this.parentBehavior,t.call(this.widgetSeenBehaviors,e)>=0)return this.parentSeen=!1}},s.prototype.init=function(){var e,t,i;return this.events={},this.percentSeen=50,this.seenFirstTime=!0,this.baseRect={x:0,y:0,left:0,right:0,top:0,bottom:0,height:0,width:0},this.dimensions=[["width","left","right"],["height","top","bottom"]],this.widgetSeenBehaviors=["maxiscroller","scroller"],this.hasParent=!(null==(null!=(e=this.core.options)?e.parent_core:void 0)),this.hasParent?(this.parentBehavior=this.core.options.parent_core.params.behavior,this.parentSeen=null!=(t=null!=(i=this.core.options.parent_core.state)?i.seen:void 0)&&t):this.parentSeen=!0},s.prototype.isVisible=function(t,i,n,r){var s,o,a,l,u,c,d,h,p,f,m,g,v,y;if(null==i&&(i=e),null==n&&(n=this.getMeasuredElement()),null==r&&(r=this.baseRect),i===e){if("fullscreen"===this.core.state.format&&!this.fullscreenShown)return!1;if(this.pinned||this.callStrategy("fullscreen:active"))return!0;if(this.callStrategy("loader:isActive"))return!1}if(l=i!==e,s=i.document,a=s.documentElement,o=s.body,!l&&this.ready&&(y=this.callStrategy("resize:calcWidth"),m=this.callStrategy("get_video_size",y,this.callStrategy("resize:calcHeight",y))),c=null!=n&&null!=(p=n.getClientRects())?p[0]:void 0){h={};for(u in c)g=c[u],"height"!==u&&"width"!==u&&(h[u]=g+r[u]);return d=this.dimensions.map(function(e){return function(t){var n,s,u,c,d,p,f,g,v,y,_,b,w;for(s=t[0],b=t[1],u=t[2],w={},c=0,d=t.length;c<d;c++)f=t[c],w[f]=f.slice(0,1).toUpperCase()+f.slice(1);return _={},_[b]=a["scroll"+w[b]]||o["scroll"+w[b]],_[s]=a["scroll"+w[s]]||o["scroll"+w[s]],g=a["offset"+w[s]]||o["offset"+w[s]],_[s]&&!isNaN(_[s])&&(g=Math.max(g,_[s])),n=a["client"+w[s]]||o["client"+w[s]],p=i["inner"+w[s]],p&&!isNaN(p)&&(n=Math.min(n,p)),_[b]+=n,h[s]=v=l?r[s]||Math.abs(h[u]-h[b]):null!=(y=null!=m?m[s]:void 0)?y:e.callStrategy("resize:calc"+w[s]),!h||h[u]<0||h[b]>n?0:h[b]>0?_[b]>=g&&h[b]+v>_[b]?1:Math.min(1,1-(h[b]+v-n)/v):(h[b]+v)/v}}(this)),v=d[0]*d[1]*100,f=this.parentSeen&&v>=t&&(l||!this.core.container.classList.contains("buzz-invisible")),i.parent!==i&&f?this.isParentVisible(i,h):f}return!1},s.prototype.isParentVisible=function(t,i){var n,s,o;return null==t&&(t=e),i||(i=t===e?null!=(s=this.getMeasuredElement())&&null!=(o=s.getClientRects())?o[0]:void 0:this.baseRect),n=r.utils.getCurrentFrame(t),null==n?(this.warned||(this.core.trigger("warning","could not get frame while checking visibility"),this.warned=!0),!0):this.isVisible(this.percentSeen,t.parent,n,i)},s.prototype.getMeasuredElement=function(){var e;return"carousel"===this.core.params.behavior?this.core.wrap:null!=(e=this.core.widget_div)?e:this.core.wrap},s.prototype.disableListener=function(e){if(this.events[e])return"user_left_page"===e?r.utils.remove_page_visibility_listener(this.events[e]):r.utils.isFunction(this.events[e])&&"visibility"===e&&clearInterval(this.visibilityTimer),this.events[e]=null},s.prototype.disableAllListener=function(){var e,t;t=[];for(e in this.events)t.push(this.disableListener(e));return t},s.prototype.enableListenerForVisibility=function(){if(!this.events.visibility)return this.events.visibility=function(e){return function(){var t;if(!e.isScrolling)return t=e.isVisible(e.percentSeen)&&null!=e.core.widget_div,e.core.state.seen!==t?(e.core.state.seen=t,t?(e.seenFirstTime&&(e.seenFirstTime=!1,e.trigger("engagement:seenFirstTime")),e.trigger("engagement:seen")):e.trigger("engagement:unseen")):void 0}}(this),this.visibilityTimer=setInterval(this.events.visibility,100),this.events.visibility()},s.prototype.enableListenerForLeavePage=function(){if(!this.events.user_left_page)return this.events.user_left_page=r.utils.add_page_visibility_listener(function(e){return function(t){return"hidden"===t?e.trigger("engagement:user_left_page"):e.trigger("engagement:user_page_back")}}(this))},s}(r.Modules.BaseModule)}(window,document,Buzzoola),function(t,n,r){return r.Modules.VAST=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.callsStrategies=["api:addData","api:loadThumbnail","widget:getTotalTime"],n.prototype.triggersEvents=["vast:loaded","error"],n.prototype.handlesEvents={"event:player_seen_first_time":function(){var e;if(!(null!=(e=this.core.options)?e.vpaidJSProxy:void 0)||"application/javascript"===this.core.loaded_data.content.mimeType)return this.trackEvent("load")},"event:time":function(e){return this.trackEvent("setProgress",e)},"widget:state_changed":function(e){var t,i;switch(e){case"start":if((null!=(t=this.core.options)?t.vpaidJSProxy:void 0)&&"application/javascript"!==this.core.loaded_data.content.mimeType)return this.trackEvent("load");break;case"play":if(this.pause)return this.trackEvent("setPaused",this.pause=!1);break;case"pause":return this.trackEvent("setPaused",this.pause=!0);case"finish":return this.trackEvent("complete");case"duration":if((null!=(i=this.tracker)?i.assertDuration:void 0)>0)return;return this.tracker&&this.tracker.setDuration(this.callStrategy("widget:getTotalTime"))}},"widget:volume_changed":function(e){return this.trackEvent("setMuted",!e)},"widget:fullscreenchange":function(e){return this.trackEvent("setFullscreen",e)},"clickthrough_URL:click":function(){return this.trackEvent("click")},"close_button:click":function(){return this.trackEvent("skip")},error:function(){return this.trackEvent("errorWithCode",400)}},n.prototype.mimeTypes={"audio/mpeg":1,"audio/mp3":1,"audio/ogg":1,"video/x-flv":2,"video/ogg":3,"video/webm":4,"application/x-shockwave-flash":5,"video/mp4":6,"application/javascript":7},n.prototype.contentTypes={video_url:["audio/mpeg","audio/mp3","audio/ogg","video/ogg","video/webm","video/mp4"],vpaid:["application/x-shockwave-flash","video/x-flv","application/javascript"]},n.prototype.init=function(){return this.pause=!1,this.baseExtPaths={title:"nativetext.title",sponsor_logo:"nativetext.image",description:"nativetext.description",action_button_title:"cta.text",clickthrough_text:"cta.text"},this.creatives=[],this.core.loaded_data.vastParsed?this.onLoadVASTTag():(this.core.loaded_data.main_content=this.core.loaded_data.main_content.replace(/\[DL\]/g,r.utils.getTopWindow()),this.loadVASTTag(function(e){return function(t){return e.onLoadVASTTag(t)}}(this)))},n.prototype.onLoadVASTTag=function(e){var t,i,n,r,s;if(this.creatives.length>0){for(this.creatives.length>1&&this.callStrategy("api:addData",this.creatives),s=this.creatives,n=0,r=s.length;n<r;n++)i=s[n],this.changeLoadedData(i);this.core.loaded_data.vastParsed||(this.core.loaded_data=this.creatives[0])}return null!=(t=this.core.loaded_data.vastAd)&&(this.mediaFile=t.mediaFile,this.tracker=t.tracker,this.icon=t.icon),this.icon?this.callStrategy("api:loadThumbnail",function(e){return function(){return e.trigger("vast:loaded")}}(this)):this.trigger.apply(this,e?["error","not found mediaFile in vast tag"]:["vast:loaded"])},n.prototype.loadVASTTag=function(e){return r.utils.DMVAST.client.get(this.core.loaded_data.main_content,{withCredentials:!0},function(t){return function(i,n,s){var o,a,l,u,c,d,h,p,f,m,g,v,y,_,b,w,k,T,x,S,z,A;if(n)for(w=n.ads,h=0,m=w.length;h<m;h++){for(o=w[h],a={},(null!=(k=A=t.core.loaded_data.content.ignore_impression)?k.length:void 0)>0&&(c=function(){try{return new RegExp(A)}catch(e){return null}}(),null!=c&&(o.impressionURLTemplates=o.impressionURLTemplates.filter(function(e){return!c.test(e)}))),T=o.creatives,p=0,g=T.length;p<g;p++)switch(l=T[p],l.type){case"linear":for(x=l.mediaFiles,f=0,v=x.length;f<v;f++)_=x[f],(null!=_&&null!=(S=_.fileURL)?S.length:void 0)>0&&t.mimeTypes[_.mimeType]&&(a.mediaFile?a.mediaFile.mimeType===_.mimeType?t.compareRates(a.mediaFile,_)&&(a.mediaFile=_):1===t.compareMimes(_,a.mediaFile)&&(a.mediaFile=_):a.mediaFile=_);for(a.adParameters=l.adParameters,z=l.icons,b=0,y=z.length;b<y;b++){d=z[b],a.icon=d.fileURL;break}a.ad=o,a.tracker=new r.utils.DMVAST.tracker(o,l)}a.mediaFile&&(u=r.utils.extend({},t.core.loaded_data,{vastAd:a,vastParsed:!0}),t.creatives.length>0&&(u.extra.seq_marker=t.creatives.length),t.creatives.push(u))}return null!=t.core.loaded_data.creative_data_to_save&&t.saveCreative(s),!t.core.loaded_data.content.allow_multiple_creatives&&t.creatives.length>1&&(t.creatives=t.creatives.sort(function(e,i){var n,r,s;return r=e.vastAd.mediaFile,s=i.vastAd.mediaFile,n=t.compareMimes(r,s),0===n?t.compareRates(r,s):n*-1}).slice(0,1)),e("boolean"==typeof i&&i&&t.core.loaded_data.content.ignoreCORS?!1:i>=400||i||0===t.creatives.length)}}(this))},n.prototype.compareMimes=function(e,t){var i;return i=this.mimeTypes[e.mimeType]-this.mimeTypes[t.mimeType],0===i?i:i/Math.abs(i)},n.prototype.compareRates=function(e,t){var i,n,s;return n=parseInt(e.bitrate,10),s=parseInt(t.bitrate,10),i=r.utils.bowser.mobile||r.utils.bowser.tablet?n-s:s-n,0===i?i:i/Math.abs(i)},n.prototype.changeLoadedData=function(e){var t,i,n,s,o,a,l;l=e.vastAd,n=this.contentTypes;for(t in n)if(i=n[t],i.indexOf(l.mediaFile.mimeType)!==-1){e.content_type=t;break}if(r.utils.extend(e.content,{main_content:e.main_content=e.vastAd.mediaFile.fileURL,mimeType:e.vastAd.mediaFile.mimeType}),l.adParameters&&(e.content.adParameters=l.adParameters),"audio/mpeg"!==(s=l.mediaFile.mimeType)&&"audio/mp3"!==s&&"audio/ogg"!==s||(e.click_event_view="plank",e.clickthrough_position="bottom",e.overlay_start=0,e.overlay_close=20,e.player_show_panels=!1,!l.icon&&/tube\.buzzoola\.com\/thumbnails\/default_thumbnail\.png/.test(e.thumbnail)&&(l.icon=this.core.params.origin+"/img/audioroll_thumbnail.gif")),l.icon&&(e.thumbnail=l.icon),e.player_show_skip_button_seconds=function(){switch(l.tracker.skipDelay){case null:return e.player_show_skip_button_seconds;case-1:return 0;default:return l.tracker.skipDelay}}(),(null!=(o=l.tracker)?o.assetDuration:void 0)&&(e.duration=l.tracker.assetDuration),(null!=(a=l.tracker)?a.clickThroughURLTemplate:void 0)&&(e.clickthrough_URL=l.tracker.clickThroughURLTemplate),e.content.use_extensions)return this.extractDataFromExtensions(e)},n.prototype.extractDataFromExtensions=function(e){var t,i,n,r,s,o,a,l,u,c,d;if(n=null!=(a=e.vastAd.ad.extensions)?a:[],0!==n.length){o=null!=(l=e.content.ext_paths)?l:this.baseExtPaths,u=[];for(r in o)if(d=o[r],s=d.split("."),i=s[0],s=s.slice(1),t=n.filter(function(e){return e.type===i})[0],null!=t){for(;null!=(c=s.shift())&&null!=t;)t=t[c];u.push(e[r]=null!=t?t:"")}else e[r]="";return u}},n.prototype.saveCreative=function(e){var t,i,n,s,o;return o=this.core.loaded_data.creative_data_to_save,s=o.key,t=o.creative_id,i=function(){try{return(new XMLSerializer).serializeToString(e)}catch(t){return n=t,null===e?"null":void 0===e?"undefined":e.toString()}}(),r.utils.loadXHR(this.core.params.apiUrl+"/dsp_content/"+s+"/"+t,function(e){},{withCredentials:!0,timeout:3e3},"POST",null,i)},n.prototype.trackEvent=function(){var t,i;if(i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],this.mediaFile&&this.tracker&&this.tracker[i])return this.tracker[i].apply(this.tracker,t)},n}(r.Modules.BaseModule)}(window,document,Buzzoola),function(e,t,n){return n.Modules.WeboramaUserTracker=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.triggersEvents=["warning"],r.prototype.handlesEvents={"api:got_uuid":function(e){return this.loadScript(e)}},r.prototype.loadScript=function(t){var i,r,s,o;try{o=parseInt((null!=(i=e.localStorage)?i.getItem("buzz_weborama_user"):void 0)||0,10),s=null!=(r=e.localStorage)?r.getItem("buzz_weborama_data"):void 0}catch(a){}if(s)try{this.core.weboramaData=s=JSON.parse(n.utils.Base64.decode(s))}catch(a){}if(Date.now()-o>864e5||0===o||!s)return n.utils.loadXHR(this.core.protocol+"//wam.solution.weborama.fr/fcgi-bin/dispatch.fcgi?d.A=prd&d.key=eGVdzGnHzEYK&d.format=json&d.qu=1",function(t){return function(i,r){var s;if(i||!r)return t.logError();try{null!=(s=e.localStorage)&&s.setItem("buzz_weborama_data",n.utils.Base64.encode(r)),t.core.weboramaData=t.numToString(JSON.parse(r))}catch(o){}return n.utils.loadXHR(t.core.params.apiUrl+"/weborama",function(i,n){var r;if(i)return t.logError();try{return null!=(r=e.localStorage)?r.setItem("buzz_weborama_user",Date.now()):void 0}catch(s){}},{withCredentials:!0},"POST",{"Content-type":"text/plain"},JSON.stringify(t.core.weboramaData))}}(this),{withCredentials:!0})},r.prototype.logError=function(){return this.trigger("warning","weborama fail")},r.prototype.numToString=function(e){var t,i,r,s,o,a,l;if(n.utils.isObject(e)){t={};for(s in e)l=e[s],t[s]=this.numToString(l);return t}if(n.utils.isArray(e)){for(a=[],r=0,o=e.length;r<o;r++)i=e[r],a.push(this.numToString(i));return a}return e===parseInt(e,10)||e===parseFloat(e)?""+e:e},r}(n.Modules.BaseModule)}(window,document,Buzzoola),function(e,t,i){var n,r,s,o,a,l,u,c,d,h,p;for(n=e.BUZZOOLA=e.BUZZOOLA||{players:[],hosted:"function"===e.getRealHost&&encodeURIComponent(e.getRealHost())||encodeURIComponent(e.location.href),referrer:encodeURIComponent(t.referrer||"unknown"),destroyed_players:[]},n.places=t.querySelectorAll(".buzzplayer-stage"),o=function(e,t){var i,r;for(null==t&&(t=n.players),i=0,r=t.length;i<r;){if(t[i].embed_container===e)return i;i++}return-1},a=0,c=n.places.length,p=[];a<c;){if(s=n.places[a],o(s)===-1&&o(s,n.destroyed_players)===-1)if(d=new i.Core(s),d.on("destroyed",function(){var e;if(e=o(this.embed_container),e!==-1)return n.destroyed_players.push({embed_container:this.embed_container}),n.players.splice(e,1)},!0),n.players.push(d),i.utils.isFunction(e.onBuzzoolaPlayerReady))e.onBuzzoolaPlayerReady(d);else if(i.utils.isArray(e.onBuzzoolaPlayerReady))for(h=e.onBuzzoolaPlayerReady,l=0,u=h.length;l<u;l++)r=h[l],i.utils.isFunction(r)&&r(d);p.push(a++)}return p}(window,document,Buzzoola)}.call(this);